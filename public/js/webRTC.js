/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 7);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./resources/js/webRTC.js":
/*!********************************!*\
  !*** ./resources/js/webRTC.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\n *  Copyright (c) 2015 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nvar socket = io('https://rtcserver.esuccess-inc.com:40002', {});\nvar peer = new Peer({\n  initiator: false,\n  trickle: false\n});\n'use strict';\n\nvar myVideoStream;\nvar myAudioStream;\nvar peerConnections = {};\nvar mediaContainer = document.getElementById('myMediaContainer');\nvar videoGrid = document.getElementById('videoGrid');\nvar audioInputSelect = document.querySelector('select#audioSource');\nvar audioOutputSelect = document.querySelector('select#audioOutput');\nvar videoSelect = document.querySelector('select#videoSource');\nvar selectors = [audioInputSelect, audioOutputSelect, videoSelect];\naudioOutputSelect.disabled = !('sinkId' in HTMLMediaElement.prototype);\n\nfunction gotDevices(deviceInfos) {\n  // Handles being called several times to update labels. Preserve values.\n  var values = selectors.map(function (select) {\n    return select.value;\n  });\n  selectors.forEach(function (select) {\n    while (select.firstChild) {\n      select.removeChild(select.firstChild);\n    }\n  });\n\n  for (var i = 0; i !== deviceInfos.length; ++i) {\n    var deviceInfo = deviceInfos[i];\n    var option = document.createElement('option');\n    option.value = deviceInfo.deviceId;\n\n    if (deviceInfo.kind === 'audioinput') {\n      option.text = deviceInfo.label || \"microphone \".concat(audioInputSelect.length + 1);\n      audioInputSelect.appendChild(option);\n    } else if (deviceInfo.kind === 'audiooutput') {\n      option.text = deviceInfo.label || \"speaker \".concat(audioOutputSelect.length + 1);\n      audioOutputSelect.appendChild(option);\n    } else if (deviceInfo.kind === 'videoinput') {\n      option.text = deviceInfo.label || \"camera \".concat(videoSelect.length + 1);\n      videoSelect.appendChild(option);\n    } else {\n      console.log('Some other kind of source/device: ', deviceInfo);\n    }\n  }\n\n  selectors.forEach(function (select, selectorIndex) {\n    if (Array.prototype.slice.call(select.childNodes).some(function (n) {\n      return n.value === values[selectorIndex];\n    })) {\n      select.value = values[selectorIndex];\n    }\n  });\n}\n\nnavigator.mediaDevices.enumerateDevices().then(gotDevices)[\"catch\"](handleError); // Attach audio output device to video element using device/sink ID.\n\nfunction attachSinkId(element, sinkId) {\n  if (typeof element.sinkId !== 'undefined') {\n    element.setSinkId(sinkId).then(function () {\n      console.log(\"Success, audio output device attached: \".concat(sinkId));\n    })[\"catch\"](function (error) {\n      var errorMessage = error;\n\n      if (error.name === 'SecurityError') {\n        errorMessage = \"You need to use HTTPS for selecting audio output device: \".concat(error);\n      }\n\n      console.error(errorMessage); // Jump back to first output device in the list as it's the default.\n\n      audioOutputSelect.selectedIndex = 0;\n    });\n  } else {\n    console.warn('Browser does not support output device selection.');\n  }\n}\n\nfunction changeAudioDestination() {\n  var audioDestination = audioOutputSelect.value;\n  attachSinkId(videoElement, audioDestination);\n}\n\nfunction gotStream(stream) {\n  window.stream = stream; // make stream available to console\n\n  videoElement.srcObject = stream; //Register the video stream to my Stream\n\n  myVideoStream = stream; // Refresh button list in case labels have become available\n\n  return navigator.mediaDevices.enumerateDevices();\n}\n\nfunction handleError(error) {\n  //start a video with audio connection width data of user\n  var video = false;\n  var audio = true; //start audio\n\n  data = {\n    'id': myId,\n    'user': user,\n    'roomID': roomID\n  };\n  start(video, audio, data);\n}\n\nfunction addMyAudio(audio, stream) {\n  audio.srcObject = stream;\n  audio.addEventListener('loadedmetadata', function () {\n    audio.play();\n  });\n  mediaContainer.append(audio);\n}\n\nfunction addMyVideo(video, stream) {\n  video.srcObject = stream;\n  video.addEventListener('loadedmetadata', function () {\n    video.play();\n  });\n  mediaContainer.append(video);\n}\n\nfunction addAudio(audio, stream) {\n  audio.srcObject = stream;\n  audio.addEventListener('loadedmetadata', function () {\n    audio.play();\n  });\n  videoGrid.append(audio);\n}\n\nfunction addVideo(video, stream) {\n  video.srcObject = stream;\n  video.addEventListener('loadedmetadata', function () {\n    video.play();\n  });\n  videoGrid.append(video);\n}\n\nfunction removeElementByID(id) {\n  var element = document.getElementById(id);\n\n  if (element) {\n    element.remove();\n  }\n}\n\nfunction createUserMedia(video, audio, constraints) {\n  navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n    removeElementByID(\"myVideo\");\n    removeElementByID(\"myAudio\");\n\n    if (audio == true && video == true) {\n      myAudioStream = null; //Register the video stream to my Stream\n\n      myVideoStream = stream;\n      window.stream = stream; // make stream available to console       \n\n      console.log(\"this is a video\");\n      videoElement = document.createElement('video');\n      videoElement.setAttribute(\"id\", \"myVideo\");\n      videoElement.muted = true;\n      addMyVideo(videoElement, stream);\n    } else {\n      //Register the video stream to my Stream\n      myVideoStream = null;\n      window.stream = stream; // make stream available to console       \n\n      myAudioStream = stream;\n      console.log(\"this is a audio only\");\n      audio = document.createElement('audio');\n      audio.setAttribute(\"id\", \"myAudio\");\n      audio.setAttribute(\"controls\", \"controls\");\n      audio.muted = true;\n      addMyAudio(audio, stream);\n    }\n\n    return navigator.mediaDevices.enumerateDevices();\n  }).then(gotDevices)[\"catch\"](function (err) {\n    if (video == true && audio == true) {\n      handleError(err);\n    } else {\n      alert(\"no media detected, please connect and try again\");\n    }\n  });\n}\n\nfunction start(video, audio, data) {\n  if (window.stream) {\n    window.stream.getTracks().forEach(function (track) {\n      track.stop();\n    });\n  }\n\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n\n  if (video == true && audio == true) {\n    var constraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: {\n        deviceId: videoSource ? {\n          exact: videoSource\n        } : undefined\n      }\n    };\n    console.log(\"connect video : start\");\n    createUserMedia(video, audio, constraints);\n  } else if (video == false && audio == true) {\n    var _constraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    console.log(\"connect audio : start\");\n    createUserMedia(video, audio, _constraints);\n  } else {\n    alert(\"no media detected, please connect and try again\");\n  }\n}\n\nfunction restart() {\n  /*\n     data = {\n         'id': myId,\n         'user': user,\n         'roomID': roomID,\n         'videoStream': myVideoStream\n     }\n   */\n  start(true, true, data);\n  socket.emit(\"changeMedia\", data);\n\n  if (window.stream) {\n    window.stream.getTracks().forEach(function (track) {\n      track.stop();\n    });\n  }\n\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n    console.log(\"restart\");\n    window.stream = stream; // make stream available to console\n\n    videoElement.srcObject = stream; //Register the video stream to my Stream\n\n    myVideoStream = stream;\n    data = {\n      'id': myId,\n      'user': user,\n      'roomID': roomID,\n      'videoStream': myVideoStream\n    };\n    socket.emit(\"changeMedia\", data);\n    removeElementByID(myId);\n  })[\"catch\"](handleError);\n}\n\naudioInputSelect.onchange = restart;\naudioOutputSelect.onchange = changeAudioDestination;\nvideoSelect.onchange = restart;\npeer.on('connection', function (conn) {\n  conn.on('data', function (data) {\n    console.log(\"peer connected\", data);\n  });\n  conn.on('close', function () {\n    alert(\"close\");\n  });\n});\npeer.on('open', function (id) {\n  console.log(\"my peer id\" + id);\n  console.log(\"my user \", user);\n  console.log(\"my room id \", roomID);\n  myId = id;\n  data = {\n    'id': id,\n    'user': user,\n    'roomID': roomID\n  };\n  socket.emit(\"newUser\", data); //start a video with audio connection width data of user\n\n  var video = true;\n  var audio = true; //start the my own video camera\n\n  start(video, audio, data);\n});\npeer.on('call', function (call) {\n  var ctr = 0;\n  console.log(\"PEER:: CALLING... for a video stream or audio stream ...\");\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n    if (stream.getAudioTracks().length == 1 && stream.getVideoTracks().length == 1) {\n      alert(\"stream from sender is a video\");\n    } else {\n      alert(\"stream from sender is a audio\");\n    }\n\n    call.answer(stream);\n    call.on('stream', function (userStream) {\n      console.log(\"recieve video from initiator\");\n\n      if (ctr == 0) {\n        if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n          alert(\"reciever from sender is a video\" + call.peer);\n          removeElementByID(call.peer);\n          callerElement = document.createElement('video');\n          callerElement.setAttribute(\"id\", call.peer);\n          callerElement.setAttribute(\"class\", \"peerCallBackVideo\");\n          callerElement.muted = false;\n          addVideo(callerElement, userStream);\n        } else {\n          alert(\"reciever from sender is a audio\");\n          removeElementByID(call.peer);\n          callerElement = document.createElement('audio');\n          callerElement.setAttribute(\"id\", call.peer);\n          callerElement.setAttribute(\"class\", \"peerCallBackAudio\"); //call peer\n\n          callerElement.setAttribute(\"controls\", \"controls\");\n          callerElement.muted = false;\n          addAudio(callerElement, userStream);\n        }\n      }\n\n      ctr++;\n    });\n    call.on('close', function () {\n      removeElementByID(call.peer);\n      console.log(\"user disconected\");\n    });\n  })[\"catch\"](function (error) {\n    console.log(\"recieve audio from initiator\");\n    var audioSource = audioInputSelect.value;\n    var constraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n      if (stream.getAudioTracks().length == 1 && stream.getVideoTracks().length == 1) {\n        alert(\"stream from sender is a video\");\n      } else {\n        alert(\"stream from sender is a audio\");\n      }\n\n      call.answer(stream);\n      call.on('stream', function (userStream) {\n        if (ctr == 0) {\n          if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n            console.log(\"recipient had a video stream\");\n            removeElementByID(call.peer);\n            callerElement = document.createElement('video');\n            callerElement.setAttribute(\"id\", call.peer);\n            callerElement.setAttribute(\"class\", \"peerCallBackVideo\");\n            callerElement.muted = false;\n            addVideo(callerElement, userStream);\n          } else {\n            console.log(\"recipient had a AUDIO stream\");\n            removeElementByID(call.peer);\n            callerElement = document.createElement('audio');\n            callerElement.setAttribute(\"id\", call.peer);\n            callerElement.setAttribute(\"class\", \"peerCallBackAudio\"); //call peer\n\n            callerElement.setAttribute(\"controls\", \"controls\");\n            callerElement.muted = false;\n            addAudio(callerElement, userStream);\n          }\n        }\n\n        ctr++;\n      });\n      call.on('close', function () {\n        removeElementByID(call.peer);\n        console.log(\"user disconected\");\n      });\n    })[\"catch\"](function (error) {\n      alert(\"I can't send any video r audio to your contact, please check media\");\n    });\n  });\n});\npeer.on('close', function (id) {\n  document.getElementById(id).remove();\n});\nsocket.on('userJoined', function (data) {\n  console.log(\"user joined ::: calling initiator with just audio and video\", data.id);\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (mediaStream) {\n    console.log(\"user joined ::: calling initiator with just audio and video\", data.id);\n    callback = peer.call(data.id, mediaStream);\n\n    if (callback) {\n      var ctr = 0;\n      callback.on('stream', function (userStream) {\n        if (ctr == 0) {\n          if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n            removeElementByID(data.id);\n            callerElement = document.createElement('video');\n            callerElement.setAttribute(\"id\", data.id);\n            callerElement.setAttribute(\"class\", \"user_joined_peer_call_back\");\n            callerElement.muted = false;\n            addVideo(callerElement, userStream);\n          } else {\n            removeElementByID(data.id);\n            callerElement = document.createElement('audio');\n            callerElement.setAttribute(\"id\", data.id);\n            callerElement.setAttribute(\"class\", \"user_joined_peer_call_back\");\n            callerElement.setAttribute(\"controls\", \"controls\");\n            callerElement.muted = false;\n            addAudio(callerElement, userStream);\n          }\n        }\n\n        ctr++;\n      });\n      callback.on('close', function () {\n        removeElementByID(data.id);\n      });\n      callback.on('error', function (err) {\n        console.log(err);\n      });\n      peerConnections[data.id] = callback;\n    }\n  })[\"catch\"](function (error) {\n    //I have only audio, send to the audio to my peer\n    console.log(\"user joined:: I have only audio, send to the audio to my peer\", data.id);\n    var audioConstraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    navigator.mediaDevices.getUserMedia(audioConstraints).then(function (mediaCallStream) {\n      console.log(\"user joined ::: (2) calling initiator with just  AUDIO\");\n      callback = peer.call(data.id, mediaCallStream);\n      peer.on('call', function (call) {\n        // Answer the call, providing our mediaStream\n        call.answer(mediaCallStream);\n      });\n    })[\"catch\"](function (error) {\n      alert(\"Please connect audioinput device and try again\");\n      console.log(error);\n    });\n  });\n  /*\n  let id = data.id;\n  let roomID = data.roomID;\n  let user = data.user;\n   const callback = peer.call(id, myVideoStream);\n   console.log(\"new user joined\", data);\n    if (callback) {\n       let ctr = 0;\n      callback.on('stream', (userStream) => {\n           if (ctr == 1) {\n               removeElementByID(data.id);\n               callerElement = document.createElement('video');\n              callerElement.setAttribute(\"id\", data.id);\n              callerElement.setAttribute(\"class\", \"callerBackVideo\");\n              callerElement.muted = false;\n              addVideo(callerElement, userStream);\n          }\n          ctr++;\n      });\n       callback.on('close', () => {\n          console.log(\"closing! callback video...\")\n          removeElementByID(data.id);\n      });\n       callback.on('error', (err) => {\n          console.log(err);\n      });\n  }\n  */\n});\nsocket.on('mediaChanged', function (data) {\n  console.log(\"media has been changed\");\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (userStream) {\n    console.log(\"mediaChanged: initiator (recieved)\");\n    callback = peer.call(data.id, userStream);\n\n    if (callback) {\n      var ctr = 0;\n      callback.on('stream', function (userStream) {\n        if (ctr == 0) {\n          console.log(\"repipient callback : video stream\");\n\n          if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n            removeElementByID(data.id);\n            callerElement = document.createElement('video');\n            callerElement.setAttribute(\"id\", callback.peer);\n            callerElement.setAttribute(\"class\", \"repipient_video_changed\");\n            callerElement.muted = false;\n            addVideo(callerElement, userStream);\n          } else {\n            removeElementByID(data.id);\n            callerElement = document.createElement('audio');\n            callerElement.setAttribute(\"id\", data.id);\n            callerElement.setAttribute(\"class\", \"repipient_audio_changed\");\n            callerElement.setAttribute(\"controls\", \"controls\");\n            callerElement.muted = false;\n            addAudio(callerElement, userStream);\n          }\n        }\n\n        ctr++;\n      });\n      callback.on('close', function () {\n        removeElementByID(data.id);\n      });\n      callback.on('error', function (err) {\n        console.log(err);\n      });\n      peerConnections[data.id] = callback;\n    }\n  })[\"catch\"](function (error) {\n    var audioConstraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    navigator.mediaDevices.getUserMedia(audioConstraints).then(function (userStream) {\n      console.log(\"initiator SENT AND AUDIO\");\n      callback = peer.call(data.id, userStream);\n\n      if (callback) {\n        var ctr = 0;\n        callback.on('stream', function (userStream) {\n          console.log(\"this is for the audio, stream of the initiator\");\n\n          if (ctr == 0) {\n            console.log(userStream.getAudioTracks().length);\n            console.log(userStream.getVideoTracks().length);\n\n            if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n              console.log(\"user sent a video\");\n              removeElementByID(callback.peer);\n              callerElement = document.createElement('video');\n              callerElement.setAttribute(\"id\", callback.peer);\n              callerElement.setAttribute(\"class\", \"callerBackVideo\");\n              callerElement.muted = false;\n              addVideo(callerElement, userStream);\n            } else {\n              console.log(\"user sent a AUDIO\");\n              removeElementByID(callback.peer);\n              callerElement = document.createElement('audio');\n              callerElement.setAttribute(\"id\", callback.peer);\n              callerElement.setAttribute(\"class\", \"callbackAudio_media\");\n              callerElement.setAttribute(\"controls\", \"controls\");\n              callerElement.muted = false;\n              addAudio(callerElement, userStream);\n            }\n          }\n\n          ctr++;\n        });\n        callback.on('close', function () {\n          removeElementByID(data.id);\n        });\n        callback.on('error', function (err) {\n          console.log(err);\n        });\n        peerConnections[data.id] = callback;\n      }\n    })[\"catch\"](function (error) {\n      alert(\"audio only\");\n      console.log(error);\n    });\n  });\n  /*\n  let id = data.id;\n  let roomID = data.roomID;\n  let user = data.user;\n   let callback = null;\n     if (myVideoStream !== null) {\n      callback = peer.call(id, myVideoStream);\n  } else if (myAudioStream !== null) {\n      callback = peer.call(id, myAudioStream);\n  }\n   console.log(\"my video\", myVideoStream);\n  console.log(\"my video\", myAudioStream);\n     if (callback) {\n       let ctr = 0;\n       callback.on('stream', (userStream) => {\n           if (ctr == 0) {\n               console.log(userStream.getAudioTracks().length)\n              console.log(userStream.getVideoTracks().length)\n               if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n                   console.log(\"user sent a video\")\n                   removeElementByID(data.id);\n                    callerElement = document.createElement('video');\n                  callerElement.setAttribute(\"id\", data.id);\n                  callerElement.setAttribute(\"class\", \"callerBackVideo\");\n                  callerElement.muted = false;\n                   addVideo(callerElement, userStream);\n                } else {\n                   console.log(\"user sent a AUDIO\")\n                   removeElementByID(data.id);\n                    callerElement = document.createElement('audio');\n                  callerElement.setAttribute(\"id\", data.id);\n                  callerElement.setAttribute(\"class\", \"callbackAudio\");\n                  callerElement.setAttribute(\"controls\", \"controls\");\n                  callerElement.muted = false;\n                   addAudio(callerElement, userStream);\n              }\n           }\n            ctr++;\n      });\n       callback.on('close', () => {\n          removeElementByID(data.id);\n      });\n       callback.on('error', (err) => {\n          console.log(err);\n      });\n       peerConnections[data.id] = callback;\n  }\n  */\n});\nsocket.on('userDisconnect', function (id) {\n  console.log(\"userDisconnected\", id);\n  removeElementByID(id);\n\n  if (peerConnections[id]) {\n    peerConnections[id].close();\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvd2ViUlRDLmpzP2MzMGQiXSwibmFtZXMiOlsic29ja2V0IiwiaW8iLCJwZWVyIiwiUGVlciIsImluaXRpYXRvciIsInRyaWNrbGUiLCJteVZpZGVvU3RyZWFtIiwibXlBdWRpb1N0cmVhbSIsInBlZXJDb25uZWN0aW9ucyIsIm1lZGlhQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZpZGVvR3JpZCIsImF1ZGlvSW5wdXRTZWxlY3QiLCJxdWVyeVNlbGVjdG9yIiwiYXVkaW9PdXRwdXRTZWxlY3QiLCJ2aWRlb1NlbGVjdCIsInNlbGVjdG9ycyIsImRpc2FibGVkIiwiSFRNTE1lZGlhRWxlbWVudCIsInByb3RvdHlwZSIsImdvdERldmljZXMiLCJkZXZpY2VJbmZvcyIsInZhbHVlcyIsIm1hcCIsInNlbGVjdCIsInZhbHVlIiwiZm9yRWFjaCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImkiLCJsZW5ndGgiLCJkZXZpY2VJbmZvIiwib3B0aW9uIiwiY3JlYXRlRWxlbWVudCIsImRldmljZUlkIiwia2luZCIsInRleHQiLCJsYWJlbCIsImFwcGVuZENoaWxkIiwiY29uc29sZSIsImxvZyIsInNlbGVjdG9ySW5kZXgiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsImNoaWxkTm9kZXMiLCJzb21lIiwibiIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImVudW1lcmF0ZURldmljZXMiLCJ0aGVuIiwiaGFuZGxlRXJyb3IiLCJhdHRhY2hTaW5rSWQiLCJlbGVtZW50Iiwic2lua0lkIiwic2V0U2lua0lkIiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJuYW1lIiwic2VsZWN0ZWRJbmRleCIsIndhcm4iLCJjaGFuZ2VBdWRpb0Rlc3RpbmF0aW9uIiwiYXVkaW9EZXN0aW5hdGlvbiIsInZpZGVvRWxlbWVudCIsImdvdFN0cmVhbSIsInN0cmVhbSIsIndpbmRvdyIsInNyY09iamVjdCIsInZpZGVvIiwiYXVkaW8iLCJkYXRhIiwibXlJZCIsInVzZXIiLCJyb29tSUQiLCJzdGFydCIsImFkZE15QXVkaW8iLCJhZGRFdmVudExpc3RlbmVyIiwicGxheSIsImFwcGVuZCIsImFkZE15VmlkZW8iLCJhZGRBdWRpbyIsImFkZFZpZGVvIiwicmVtb3ZlRWxlbWVudEJ5SUQiLCJpZCIsInJlbW92ZSIsImNyZWF0ZVVzZXJNZWRpYSIsImNvbnN0cmFpbnRzIiwiZ2V0VXNlck1lZGlhIiwic2V0QXR0cmlidXRlIiwibXV0ZWQiLCJlcnIiLCJhbGVydCIsImdldFRyYWNrcyIsInRyYWNrIiwic3RvcCIsImF1ZGlvU291cmNlIiwidmlkZW9Tb3VyY2UiLCJleGFjdCIsInVuZGVmaW5lZCIsInJlc3RhcnQiLCJlbWl0Iiwib25jaGFuZ2UiLCJvbiIsImNvbm4iLCJjdHIiLCJnZXRBdWRpb1RyYWNrcyIsImdldFZpZGVvVHJhY2tzIiwiYW5zd2VyIiwidXNlclN0cmVhbSIsImNhbGxlckVsZW1lbnQiLCJtZWRpYVN0cmVhbSIsImNhbGxiYWNrIiwiYXVkaW9Db25zdHJhaW50cyIsIm1lZGlhQ2FsbFN0cmVhbSIsImNsb3NlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLElBQU1BLE1BQU0sR0FBR0MsRUFBRSxDQUFDLDBDQUFELEVBQTZDLEVBQTdDLENBQWpCO0FBRUEsSUFBTUMsSUFBSSxHQUFHLElBQUlDLElBQUosQ0FBUztFQUNsQkMsU0FBUyxFQUFFLEtBRE87RUFFbEJDLE9BQU8sRUFBRTtBQUZTLENBQVQsQ0FBYjtBQUtBOztBQUNBLElBQUlDLGFBQUo7QUFDQSxJQUFJQyxhQUFKO0FBR0EsSUFBTUMsZUFBZSxHQUFHLEVBQXhCO0FBR0EsSUFBSUMsY0FBYyxHQUFHQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0Isa0JBQXhCLENBQXJCO0FBR0EsSUFBSUMsU0FBUyxHQUFHRixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsV0FBeEIsQ0FBaEI7QUFFQSxJQUFNRSxnQkFBZ0IsR0FBR0gsUUFBUSxDQUFDSSxhQUFULENBQXVCLG9CQUF2QixDQUF6QjtBQUNBLElBQU1DLGlCQUFpQixHQUFHTCxRQUFRLENBQUNJLGFBQVQsQ0FBdUIsb0JBQXZCLENBQTFCO0FBQ0EsSUFBTUUsV0FBVyxHQUFHTixRQUFRLENBQUNJLGFBQVQsQ0FBdUIsb0JBQXZCLENBQXBCO0FBQ0EsSUFBTUcsU0FBUyxHQUFHLENBQUNKLGdCQUFELEVBQW1CRSxpQkFBbkIsRUFBc0NDLFdBQXRDLENBQWxCO0FBRUFELGlCQUFpQixDQUFDRyxRQUFsQixHQUE2QixFQUFFLFlBQVlDLGdCQUFnQixDQUFDQyxTQUEvQixDQUE3Qjs7QUFFQSxTQUFTQyxVQUFULENBQW9CQyxXQUFwQixFQUFpQztFQUM3QjtFQUNBLElBQU1DLE1BQU0sR0FBR04sU0FBUyxDQUFDTyxHQUFWLENBQWMsVUFBQUMsTUFBTTtJQUFBLE9BQUlBLE1BQU0sQ0FBQ0MsS0FBWDtFQUFBLENBQXBCLENBQWY7RUFDQVQsU0FBUyxDQUFDVSxPQUFWLENBQWtCLFVBQUFGLE1BQU0sRUFBSTtJQUN4QixPQUFPQSxNQUFNLENBQUNHLFVBQWQsRUFBMEI7TUFDdEJILE1BQU0sQ0FBQ0ksV0FBUCxDQUFtQkosTUFBTSxDQUFDRyxVQUExQjtJQUNIO0VBQ0osQ0FKRDs7RUFLQSxLQUFLLElBQUlFLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEtBQUtSLFdBQVcsQ0FBQ1MsTUFBbEMsRUFBMEMsRUFBRUQsQ0FBNUMsRUFBK0M7SUFDM0MsSUFBTUUsVUFBVSxHQUFHVixXQUFXLENBQUNRLENBQUQsQ0FBOUI7SUFDQSxJQUFNRyxNQUFNLEdBQUd2QixRQUFRLENBQUN3QixhQUFULENBQXVCLFFBQXZCLENBQWY7SUFDQUQsTUFBTSxDQUFDUCxLQUFQLEdBQWVNLFVBQVUsQ0FBQ0csUUFBMUI7O0lBQ0EsSUFBSUgsVUFBVSxDQUFDSSxJQUFYLEtBQW9CLFlBQXhCLEVBQXNDO01BQ2xDSCxNQUFNLENBQUNJLElBQVAsR0FBY0wsVUFBVSxDQUFDTSxLQUFYLHlCQUFrQ3pCLGdCQUFnQixDQUFDa0IsTUFBakIsR0FBMEIsQ0FBNUQsQ0FBZDtNQUNBbEIsZ0JBQWdCLENBQUMwQixXQUFqQixDQUE2Qk4sTUFBN0I7SUFDSCxDQUhELE1BR08sSUFBSUQsVUFBVSxDQUFDSSxJQUFYLEtBQW9CLGFBQXhCLEVBQXVDO01BQzFDSCxNQUFNLENBQUNJLElBQVAsR0FBY0wsVUFBVSxDQUFDTSxLQUFYLHNCQUErQnZCLGlCQUFpQixDQUFDZ0IsTUFBbEIsR0FBMkIsQ0FBMUQsQ0FBZDtNQUNBaEIsaUJBQWlCLENBQUN3QixXQUFsQixDQUE4Qk4sTUFBOUI7SUFDSCxDQUhNLE1BR0EsSUFBSUQsVUFBVSxDQUFDSSxJQUFYLEtBQW9CLFlBQXhCLEVBQXNDO01BQ3pDSCxNQUFNLENBQUNJLElBQVAsR0FBY0wsVUFBVSxDQUFDTSxLQUFYLHFCQUE4QnRCLFdBQVcsQ0FBQ2UsTUFBWixHQUFxQixDQUFuRCxDQUFkO01BQ0FmLFdBQVcsQ0FBQ3VCLFdBQVosQ0FBd0JOLE1BQXhCO0lBQ0gsQ0FITSxNQUdBO01BQ0hPLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG9DQUFaLEVBQWtEVCxVQUFsRDtJQUNIO0VBQ0o7O0VBQ0RmLFNBQVMsQ0FBQ1UsT0FBVixDQUFrQixVQUFDRixNQUFELEVBQVNpQixhQUFULEVBQTJCO0lBQ3pDLElBQUlDLEtBQUssQ0FBQ3ZCLFNBQU4sQ0FBZ0J3QixLQUFoQixDQUFzQkMsSUFBdEIsQ0FBMkJwQixNQUFNLENBQUNxQixVQUFsQyxFQUE4Q0MsSUFBOUMsQ0FBbUQsVUFBQUMsQ0FBQztNQUFBLE9BQUlBLENBQUMsQ0FBQ3RCLEtBQUYsS0FBWUgsTUFBTSxDQUFDbUIsYUFBRCxDQUF0QjtJQUFBLENBQXBELENBQUosRUFBZ0c7TUFDNUZqQixNQUFNLENBQUNDLEtBQVAsR0FBZUgsTUFBTSxDQUFDbUIsYUFBRCxDQUFyQjtJQUNIO0VBQ0osQ0FKRDtBQUtIOztBQUVETyxTQUFTLENBQUNDLFlBQVYsQ0FBdUJDLGdCQUF2QixHQUEwQ0MsSUFBMUMsQ0FBK0MvQixVQUEvQyxXQUFpRWdDLFdBQWpFLEUsQ0FFQTs7QUFDQSxTQUFTQyxZQUFULENBQXNCQyxPQUF0QixFQUErQkMsTUFBL0IsRUFBdUM7RUFDbkMsSUFBSSxPQUFPRCxPQUFPLENBQUNDLE1BQWYsS0FBMEIsV0FBOUIsRUFBMkM7SUFDdkNELE9BQU8sQ0FBQ0UsU0FBUixDQUFrQkQsTUFBbEIsRUFDS0osSUFETCxDQUNVLFlBQU07TUFDUlosT0FBTyxDQUFDQyxHQUFSLGtEQUFzRGUsTUFBdEQ7SUFDSCxDQUhMLFdBSVcsVUFBQUUsS0FBSyxFQUFJO01BQ1osSUFBSUMsWUFBWSxHQUFHRCxLQUFuQjs7TUFDQSxJQUFJQSxLQUFLLENBQUNFLElBQU4sS0FBZSxlQUFuQixFQUFvQztRQUNoQ0QsWUFBWSxzRUFBK0RELEtBQS9ELENBQVo7TUFDSDs7TUFDRGxCLE9BQU8sQ0FBQ2tCLEtBQVIsQ0FBY0MsWUFBZCxFQUxZLENBTVo7O01BQ0E1QyxpQkFBaUIsQ0FBQzhDLGFBQWxCLEdBQWtDLENBQWxDO0lBQ0gsQ0FaTDtFQWFILENBZEQsTUFjTztJQUNIckIsT0FBTyxDQUFDc0IsSUFBUixDQUFhLG1EQUFiO0VBQ0g7QUFDSjs7QUFFRCxTQUFTQyxzQkFBVCxHQUFrQztFQUM5QixJQUFNQyxnQkFBZ0IsR0FBR2pELGlCQUFpQixDQUFDVyxLQUEzQztFQUNBNEIsWUFBWSxDQUFDVyxZQUFELEVBQWVELGdCQUFmLENBQVo7QUFDSDs7QUFFRCxTQUFTRSxTQUFULENBQW1CQyxNQUFuQixFQUEyQjtFQUN2QkMsTUFBTSxDQUFDRCxNQUFQLEdBQWdCQSxNQUFoQixDQUR1QixDQUNDOztFQUN4QkYsWUFBWSxDQUFDSSxTQUFiLEdBQXlCRixNQUF6QixDQUZ1QixDQUl2Qjs7RUFDQTdELGFBQWEsR0FBRzZELE1BQWhCLENBTHVCLENBT3ZCOztFQUNBLE9BQU9sQixTQUFTLENBQUNDLFlBQVYsQ0FBdUJDLGdCQUF2QixFQUFQO0FBQ0g7O0FBRUQsU0FBU0UsV0FBVCxDQUFxQkssS0FBckIsRUFBNEI7RUFDeEI7RUFDQSxJQUFJWSxLQUFLLEdBQUcsS0FBWjtFQUNBLElBQUlDLEtBQUssR0FBRyxJQUFaLENBSHdCLENBTXhCOztFQUNBQyxJQUFJLEdBQUc7SUFDSCxNQUFNQyxJQURIO0lBRUgsUUFBUUMsSUFGTDtJQUdILFVBQVVDO0VBSFAsQ0FBUDtFQUtBQyxLQUFLLENBQUNOLEtBQUQsRUFBUUMsS0FBUixFQUFlQyxJQUFmLENBQUw7QUFDSDs7QUFHRCxTQUFTSyxVQUFULENBQW9CTixLQUFwQixFQUEyQkosTUFBM0IsRUFBbUM7RUFDL0JJLEtBQUssQ0FBQ0YsU0FBTixHQUFrQkYsTUFBbEI7RUFDQUksS0FBSyxDQUFDTyxnQkFBTixDQUF1QixnQkFBdkIsRUFBeUMsWUFBTTtJQUMzQ1AsS0FBSyxDQUFDUSxJQUFOO0VBQ0gsQ0FGRDtFQUdBdEUsY0FBYyxDQUFDdUUsTUFBZixDQUFzQlQsS0FBdEI7QUFDSDs7QUFHRCxTQUFTVSxVQUFULENBQW9CWCxLQUFwQixFQUEyQkgsTUFBM0IsRUFBbUM7RUFDL0JHLEtBQUssQ0FBQ0QsU0FBTixHQUFrQkYsTUFBbEI7RUFDQUcsS0FBSyxDQUFDUSxnQkFBTixDQUF1QixnQkFBdkIsRUFBeUMsWUFBTTtJQUMzQ1IsS0FBSyxDQUFDUyxJQUFOO0VBQ0gsQ0FGRDtFQUdBdEUsY0FBYyxDQUFDdUUsTUFBZixDQUFzQlYsS0FBdEI7QUFDSDs7QUFHRCxTQUFTWSxRQUFULENBQWtCWCxLQUFsQixFQUF5QkosTUFBekIsRUFBaUM7RUFDN0JJLEtBQUssQ0FBQ0YsU0FBTixHQUFrQkYsTUFBbEI7RUFDQUksS0FBSyxDQUFDTyxnQkFBTixDQUF1QixnQkFBdkIsRUFBeUMsWUFBTTtJQUMzQ1AsS0FBSyxDQUFDUSxJQUFOO0VBQ0gsQ0FGRDtFQUdBbkUsU0FBUyxDQUFDb0UsTUFBVixDQUFpQlQsS0FBakI7QUFDSDs7QUFFRCxTQUFTWSxRQUFULENBQWtCYixLQUFsQixFQUF5QkgsTUFBekIsRUFBaUM7RUFDN0JHLEtBQUssQ0FBQ0QsU0FBTixHQUFrQkYsTUFBbEI7RUFDQUcsS0FBSyxDQUFDUSxnQkFBTixDQUF1QixnQkFBdkIsRUFBeUMsWUFBTTtJQUMzQ1IsS0FBSyxDQUFDUyxJQUFOO0VBQ0gsQ0FGRDtFQUdBbkUsU0FBUyxDQUFDb0UsTUFBVixDQUFpQlYsS0FBakI7QUFDSDs7QUFFRCxTQUFTYyxpQkFBVCxDQUEyQkMsRUFBM0IsRUFBK0I7RUFDM0IsSUFBSTlCLE9BQU8sR0FBRzdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QjBFLEVBQXhCLENBQWQ7O0VBQ0EsSUFBSTlCLE9BQUosRUFBYTtJQUNUQSxPQUFPLENBQUMrQixNQUFSO0VBQ0g7QUFDSjs7QUFFRCxTQUFTQyxlQUFULENBQXlCakIsS0FBekIsRUFBZ0NDLEtBQWhDLEVBQXVDaUIsV0FBdkMsRUFBb0Q7RUFFaER2QyxTQUFTLENBQUNDLFlBQVYsQ0FBdUJ1QyxZQUF2QixDQUFvQ0QsV0FBcEMsRUFBaURwQyxJQUFqRCxDQUFzRCxVQUFDZSxNQUFELEVBQVk7SUFFOURpQixpQkFBaUIsQ0FBQyxTQUFELENBQWpCO0lBQ0FBLGlCQUFpQixDQUFDLFNBQUQsQ0FBakI7O0lBRUEsSUFBSWIsS0FBSyxJQUFJLElBQVQsSUFBaUJELEtBQUssSUFBSSxJQUE5QixFQUFvQztNQUVoQy9ELGFBQWEsR0FBRyxJQUFoQixDQUZnQyxDQUloQzs7TUFDQUQsYUFBYSxHQUFHNkQsTUFBaEI7TUFDQUMsTUFBTSxDQUFDRCxNQUFQLEdBQWdCQSxNQUFoQixDQU5nQyxDQU1SOztNQUd4QjNCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaO01BRUF3QixZQUFZLEdBQUd2RCxRQUFRLENBQUN3QixhQUFULENBQXVCLE9BQXZCLENBQWY7TUFDQStCLFlBQVksQ0FBQ3lCLFlBQWIsQ0FBMEIsSUFBMUIsRUFBZ0MsU0FBaEM7TUFDQXpCLFlBQVksQ0FBQzBCLEtBQWIsR0FBcUIsSUFBckI7TUFDQVYsVUFBVSxDQUFDaEIsWUFBRCxFQUFlRSxNQUFmLENBQVY7SUFFSCxDQWhCRCxNQWdCTztNQUdIO01BQ0E3RCxhQUFhLEdBQUcsSUFBaEI7TUFFQThELE1BQU0sQ0FBQ0QsTUFBUCxHQUFnQkEsTUFBaEIsQ0FORyxDQU1xQjs7TUFDeEI1RCxhQUFhLEdBQUc0RCxNQUFoQjtNQUVBM0IsT0FBTyxDQUFDQyxHQUFSLENBQVksc0JBQVo7TUFFQThCLEtBQUssR0FBRzdELFFBQVEsQ0FBQ3dCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBUjtNQUNBcUMsS0FBSyxDQUFDbUIsWUFBTixDQUFtQixJQUFuQixFQUF5QixTQUF6QjtNQUNBbkIsS0FBSyxDQUFDbUIsWUFBTixDQUFtQixVQUFuQixFQUErQixVQUEvQjtNQUNBbkIsS0FBSyxDQUFDb0IsS0FBTixHQUFjLElBQWQ7TUFFQWQsVUFBVSxDQUFDTixLQUFELEVBQVFKLE1BQVIsQ0FBVjtJQUNIOztJQUVELE9BQU9sQixTQUFTLENBQUNDLFlBQVYsQ0FBdUJDLGdCQUF2QixFQUFQO0VBR0gsQ0EzQ0QsRUEyQ0dDLElBM0NILENBMkNRL0IsVUEzQ1IsV0EyQzBCLFVBQUN1RSxHQUFELEVBQVM7SUFFL0IsSUFBSXRCLEtBQUssSUFBSSxJQUFULElBQWlCQyxLQUFLLElBQUksSUFBOUIsRUFBb0M7TUFFaENsQixXQUFXLENBQUN1QyxHQUFELENBQVg7SUFFSCxDQUpELE1BSU87TUFFSEMsS0FBSyxDQUFDLGlEQUFELENBQUw7SUFDSDtFQUNKLENBckREO0FBd0RIOztBQUVELFNBQVNqQixLQUFULENBQWVOLEtBQWYsRUFBc0JDLEtBQXRCLEVBQTZCQyxJQUE3QixFQUFtQztFQUUvQixJQUFJSixNQUFNLENBQUNELE1BQVgsRUFBbUI7SUFFZkMsTUFBTSxDQUFDRCxNQUFQLENBQWMyQixTQUFkLEdBQTBCbkUsT0FBMUIsQ0FBa0MsVUFBQW9FLEtBQUssRUFBSTtNQUN2Q0EsS0FBSyxDQUFDQyxJQUFOO0lBQ0gsQ0FGRDtFQUdIOztFQUNELElBQU1DLFdBQVcsR0FBR3BGLGdCQUFnQixDQUFDYSxLQUFyQztFQUNBLElBQU13RSxXQUFXLEdBQUdsRixXQUFXLENBQUNVLEtBQWhDOztFQUVBLElBQUk0QyxLQUFLLElBQUksSUFBVCxJQUFpQkMsS0FBSyxJQUFJLElBQTlCLEVBQW9DO0lBRWhDLElBQU1pQixXQUFXLEdBQUc7TUFDaEJqQixLQUFLLEVBQUU7UUFBRXBDLFFBQVEsRUFBRThELFdBQVcsR0FBRztVQUFFRSxLQUFLLEVBQUVGO1FBQVQsQ0FBSCxHQUE0Qkc7TUFBbkQsQ0FEUztNQUVoQjlCLEtBQUssRUFBRTtRQUFFbkMsUUFBUSxFQUFFK0QsV0FBVyxHQUFHO1VBQUVDLEtBQUssRUFBRUQ7UUFBVCxDQUFILEdBQTRCRTtNQUFuRDtJQUZTLENBQXBCO0lBS0E1RCxPQUFPLENBQUNDLEdBQVIsQ0FBWSx1QkFBWjtJQUVBOEMsZUFBZSxDQUFDakIsS0FBRCxFQUFRQyxLQUFSLEVBQWVpQixXQUFmLENBQWY7RUFFSCxDQVhELE1BV08sSUFBSWxCLEtBQUssSUFBSSxLQUFULElBQWtCQyxLQUFLLElBQUksSUFBL0IsRUFBcUM7SUFFeEMsSUFBTWlCLFlBQVcsR0FBRztNQUNoQmpCLEtBQUssRUFBRTtRQUFFcEMsUUFBUSxFQUFFOEQsV0FBVyxHQUFHO1VBQUVFLEtBQUssRUFBRUY7UUFBVCxDQUFILEdBQTRCRztNQUFuRCxDQURTO01BRWhCOUIsS0FBSyxFQUFFO0lBRlMsQ0FBcEI7SUFLQTlCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHVCQUFaO0lBQ0E4QyxlQUFlLENBQUNqQixLQUFELEVBQVFDLEtBQVIsRUFBZWlCLFlBQWYsQ0FBZjtFQUVILENBVk0sTUFVQTtJQUVISyxLQUFLLENBQUMsaURBQUQsQ0FBTDtFQUNIO0FBRUo7O0FBRUQsU0FBU1EsT0FBVCxHQUFtQjtFQUVmO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFHSXpCLEtBQUssQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhSixJQUFiLENBQUw7RUFHQXhFLE1BQU0sQ0FBQ3NHLElBQVAsQ0FBWSxhQUFaLEVBQTJCOUIsSUFBM0I7O0VBS0EsSUFBSUosTUFBTSxDQUFDRCxNQUFYLEVBQW1CO0lBQ2ZDLE1BQU0sQ0FBQ0QsTUFBUCxDQUFjMkIsU0FBZCxHQUEwQm5FLE9BQTFCLENBQWtDLFVBQUFvRSxLQUFLLEVBQUk7TUFDdkNBLEtBQUssQ0FBQ0MsSUFBTjtJQUNILENBRkQ7RUFHSDs7RUFFRCxJQUFNQyxXQUFXLEdBQUdwRixnQkFBZ0IsQ0FBQ2EsS0FBckM7RUFDQSxJQUFNd0UsV0FBVyxHQUFHbEYsV0FBVyxDQUFDVSxLQUFoQztFQUNBLElBQU04RCxXQUFXLEdBQUc7SUFDaEJqQixLQUFLLEVBQUU7TUFBRXBDLFFBQVEsRUFBRThELFdBQVcsR0FBRztRQUFFRSxLQUFLLEVBQUVGO01BQVQsQ0FBSCxHQUE0Qkc7SUFBbkQsQ0FEUztJQUVoQjlCLEtBQUssRUFBRTtNQUFFbkMsUUFBUSxFQUFFK0QsV0FBVyxHQUFHO1FBQUVDLEtBQUssRUFBRUQ7TUFBVCxDQUFILEdBQTRCRTtJQUFuRDtFQUZTLENBQXBCO0VBSUFuRCxTQUFTLENBQUNDLFlBQVYsQ0FBdUJ1QyxZQUF2QixDQUFvQ0QsV0FBcEMsRUFBaURwQyxJQUFqRCxDQUFzRCxVQUFDZSxNQUFELEVBQVk7SUFFOUQzQixPQUFPLENBQUNDLEdBQVIsQ0FBWSxTQUFaO0lBR0EyQixNQUFNLENBQUNELE1BQVAsR0FBZ0JBLE1BQWhCLENBTDhELENBS3RDOztJQUN4QkYsWUFBWSxDQUFDSSxTQUFiLEdBQXlCRixNQUF6QixDQU44RCxDQVE5RDs7SUFDQTdELGFBQWEsR0FBRzZELE1BQWhCO0lBRUFLLElBQUksR0FBRztNQUNILE1BQU1DLElBREg7TUFFSCxRQUFRQyxJQUZMO01BR0gsVUFBVUMsTUFIUDtNQUlILGVBQWVyRTtJQUpaLENBQVA7SUFTQU4sTUFBTSxDQUFDc0csSUFBUCxDQUFZLGFBQVosRUFBMkI5QixJQUEzQjtJQUVBWSxpQkFBaUIsQ0FBQ1gsSUFBRCxDQUFqQjtFQUdILENBekJELFdBeUJTcEIsV0F6QlQ7QUEyQkg7O0FBRUR4QyxnQkFBZ0IsQ0FBQzBGLFFBQWpCLEdBQTRCRixPQUE1QjtBQUNBdEYsaUJBQWlCLENBQUN3RixRQUFsQixHQUE2QnhDLHNCQUE3QjtBQUNBL0MsV0FBVyxDQUFDdUYsUUFBWixHQUF1QkYsT0FBdkI7QUFLQW5HLElBQUksQ0FBQ3NHLEVBQUwsQ0FBUSxZQUFSLEVBQXNCLFVBQVNDLElBQVQsRUFBZTtFQUNqQ0EsSUFBSSxDQUFDRCxFQUFMLENBQVEsTUFBUixFQUFnQixVQUFTaEMsSUFBVCxFQUFlO0lBQzNCaEMsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0JBQVosRUFBOEIrQixJQUE5QjtFQUNILENBRkQ7RUFHQWlDLElBQUksQ0FBQ0QsRUFBTCxDQUFRLE9BQVIsRUFBaUIsWUFBTTtJQUNuQlgsS0FBSyxDQUFDLE9BQUQsQ0FBTDtFQUNILENBRkQ7QUFHSCxDQVBEO0FBU0EzRixJQUFJLENBQUNzRyxFQUFMLENBQVEsTUFBUixFQUFnQixVQUFDbkIsRUFBRCxFQUFRO0VBRXBCN0MsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBZTRDLEVBQTNCO0VBQ0E3QyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaLEVBQXdCaUMsSUFBeEI7RUFDQWxDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGFBQVosRUFBMkJrQyxNQUEzQjtFQUVBRixJQUFJLEdBQUdZLEVBQVA7RUFFQWIsSUFBSSxHQUFHO0lBQ0gsTUFBTWEsRUFESDtJQUVILFFBQVFYLElBRkw7SUFHSCxVQUFVQztFQUhQLENBQVA7RUFNQTNFLE1BQU0sQ0FBQ3NHLElBQVAsQ0FBWSxTQUFaLEVBQXVCOUIsSUFBdkIsRUFkb0IsQ0FnQnBCOztFQUNBLElBQUlGLEtBQUssR0FBRyxJQUFaO0VBQ0EsSUFBSUMsS0FBSyxHQUFHLElBQVosQ0FsQm9CLENBb0JwQjs7RUFFQUssS0FBSyxDQUFDTixLQUFELEVBQVFDLEtBQVIsRUFBZUMsSUFBZixDQUFMO0FBRUgsQ0F4QkQ7QUE0QkF0RSxJQUFJLENBQUNzRyxFQUFMLENBQVEsTUFBUixFQUFnQixVQUFBM0QsSUFBSSxFQUFJO0VBRXBCLElBQUk2RCxHQUFHLEdBQUcsQ0FBVjtFQUVBbEUsT0FBTyxDQUFDQyxHQUFSLENBQVksMERBQVo7RUFJQSxJQUFNd0QsV0FBVyxHQUFHcEYsZ0JBQWdCLENBQUNhLEtBQXJDO0VBQ0EsSUFBTXdFLFdBQVcsR0FBR2xGLFdBQVcsQ0FBQ1UsS0FBaEM7RUFDQSxJQUFNOEQsV0FBVyxHQUFHO0lBQ2hCakIsS0FBSyxFQUFFO01BQUVwQyxRQUFRLEVBQUU4RCxXQUFXLEdBQUc7UUFBRUUsS0FBSyxFQUFFRjtNQUFULENBQUgsR0FBNEJHO0lBQW5ELENBRFM7SUFFaEI5QixLQUFLLEVBQUU7TUFBRW5DLFFBQVEsRUFBRStELFdBQVcsR0FBRztRQUFFQyxLQUFLLEVBQUVEO01BQVQsQ0FBSCxHQUE0QkU7SUFBbkQ7RUFGUyxDQUFwQjtFQUtBbkQsU0FBUyxDQUFDQyxZQUFWLENBQXVCdUMsWUFBdkIsQ0FBb0NELFdBQXBDLEVBQWlEcEMsSUFBakQsQ0FBc0QsVUFBQ2UsTUFBRCxFQUFZO0lBRTlELElBQUlBLE1BQU0sQ0FBQ3dDLGNBQVAsR0FBd0I1RSxNQUF4QixJQUFrQyxDQUFsQyxJQUF1Q29DLE1BQU0sQ0FBQ3lDLGNBQVAsR0FBd0I3RSxNQUF4QixJQUFrQyxDQUE3RSxFQUFnRjtNQUM1RThELEtBQUssQ0FBQywrQkFBRCxDQUFMO0lBQ0gsQ0FGRCxNQUVPO01BQ0hBLEtBQUssQ0FBQywrQkFBRCxDQUFMO0lBQ0g7O0lBR0RoRCxJQUFJLENBQUNnRSxNQUFMLENBQVkxQyxNQUFaO0lBRUF0QixJQUFJLENBQUMyRCxFQUFMLENBQVEsUUFBUixFQUFrQixVQUFDTSxVQUFELEVBQWdCO01BRTlCdEUsT0FBTyxDQUFDQyxHQUFSLENBQVksOEJBQVo7O01BRUEsSUFBSWlFLEdBQUcsSUFBSSxDQUFYLEVBQWM7UUFFVixJQUFJSSxVQUFVLENBQUNILGNBQVgsR0FBNEI1RSxNQUE1QixJQUFzQyxDQUF0QyxJQUEyQytFLFVBQVUsQ0FBQ0YsY0FBWCxHQUE0QjdFLE1BQTVCLElBQXNDLENBQXJGLEVBQXdGO1VBRXBGOEQsS0FBSyxDQUFDLG9DQUFvQ2hELElBQUksQ0FBQzNDLElBQTFDLENBQUw7VUFHQWtGLGlCQUFpQixDQUFDdkMsSUFBSSxDQUFDM0MsSUFBTixDQUFqQjtVQUNBNkcsYUFBYSxHQUFHckcsUUFBUSxDQUFDd0IsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtVQUNBNkUsYUFBYSxDQUFDckIsWUFBZCxDQUEyQixJQUEzQixFQUFpQzdDLElBQUksQ0FBQzNDLElBQXRDO1VBQ0E2RyxhQUFhLENBQUNyQixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLG1CQUFwQztVQUNBcUIsYUFBYSxDQUFDcEIsS0FBZCxHQUFzQixLQUF0QjtVQUVBUixRQUFRLENBQUM0QixhQUFELEVBQWdCRCxVQUFoQixDQUFSO1FBQ0gsQ0FaRCxNQVlPO1VBR0hqQixLQUFLLENBQUMsaUNBQUQsQ0FBTDtVQUVBVCxpQkFBaUIsQ0FBQ3ZDLElBQUksQ0FBQzNDLElBQU4sQ0FBakI7VUFDQTZHLGFBQWEsR0FBR3JHLFFBQVEsQ0FBQ3dCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBaEI7VUFDQTZFLGFBQWEsQ0FBQ3JCLFlBQWQsQ0FBMkIsSUFBM0IsRUFBaUM3QyxJQUFJLENBQUMzQyxJQUF0QztVQUNBNkcsYUFBYSxDQUFDckIsWUFBZCxDQUEyQixPQUEzQixFQUFvQyxtQkFBcEMsRUFSRyxDQVF1RDs7VUFDMURxQixhQUFhLENBQUNyQixZQUFkLENBQTJCLFVBQTNCLEVBQXVDLFVBQXZDO1VBQ0FxQixhQUFhLENBQUNwQixLQUFkLEdBQXNCLEtBQXRCO1VBRUFULFFBQVEsQ0FBQzZCLGFBQUQsRUFBZ0JELFVBQWhCLENBQVI7UUFFSDtNQUNKOztNQUNESixHQUFHO0lBQ04sQ0FuQ0Q7SUFxQ0E3RCxJQUFJLENBQUMyRCxFQUFMLENBQVEsT0FBUixFQUFpQixZQUFNO01BQ25CcEIsaUJBQWlCLENBQUN2QyxJQUFJLENBQUMzQyxJQUFOLENBQWpCO01BQ0FzQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWjtJQUNILENBSEQ7RUFLSCxDQXJERCxXQXFEUyxVQUFDaUIsS0FBRCxFQUFXO0lBRWhCbEIsT0FBTyxDQUFDQyxHQUFSLENBQVksOEJBQVo7SUFFQSxJQUFNd0QsV0FBVyxHQUFHcEYsZ0JBQWdCLENBQUNhLEtBQXJDO0lBQ0EsSUFBTThELFdBQVcsR0FBRztNQUNoQmpCLEtBQUssRUFBRTtRQUFFcEMsUUFBUSxFQUFFOEQsV0FBVyxHQUFHO1VBQUVFLEtBQUssRUFBRUY7UUFBVCxDQUFILEdBQTRCRztNQUFuRCxDQURTO01BRWhCOUIsS0FBSyxFQUFFO0lBRlMsQ0FBcEI7SUFLQXJCLFNBQVMsQ0FBQ0MsWUFBVixDQUF1QnVDLFlBQXZCLENBQW9DRCxXQUFwQyxFQUFpRHBDLElBQWpELENBQXNELFVBQUNlLE1BQUQsRUFBWTtNQUU5RCxJQUFJQSxNQUFNLENBQUN3QyxjQUFQLEdBQXdCNUUsTUFBeEIsSUFBa0MsQ0FBbEMsSUFBdUNvQyxNQUFNLENBQUN5QyxjQUFQLEdBQXdCN0UsTUFBeEIsSUFBa0MsQ0FBN0UsRUFBZ0Y7UUFFNUU4RCxLQUFLLENBQUMsK0JBQUQsQ0FBTDtNQUVILENBSkQsTUFJTztRQUVIQSxLQUFLLENBQUMsK0JBQUQsQ0FBTDtNQUVIOztNQUdEaEQsSUFBSSxDQUFDZ0UsTUFBTCxDQUFZMUMsTUFBWjtNQUVBdEIsSUFBSSxDQUFDMkQsRUFBTCxDQUFRLFFBQVIsRUFBa0IsVUFBQ00sVUFBRCxFQUFnQjtRQUU5QixJQUFJSixHQUFHLElBQUksQ0FBWCxFQUFjO1VBRVYsSUFBSUksVUFBVSxDQUFDSCxjQUFYLEdBQTRCNUUsTUFBNUIsSUFBc0MsQ0FBdEMsSUFBMkMrRSxVQUFVLENBQUNGLGNBQVgsR0FBNEI3RSxNQUE1QixJQUFzQyxDQUFyRixFQUF3RjtZQUVwRlMsT0FBTyxDQUFDQyxHQUFSLENBQVksOEJBQVo7WUFFQTJDLGlCQUFpQixDQUFDdkMsSUFBSSxDQUFDM0MsSUFBTixDQUFqQjtZQUNBNkcsYUFBYSxHQUFHckcsUUFBUSxDQUFDd0IsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtZQUNBNkUsYUFBYSxDQUFDckIsWUFBZCxDQUEyQixJQUEzQixFQUFpQzdDLElBQUksQ0FBQzNDLElBQXRDO1lBQ0E2RyxhQUFhLENBQUNyQixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLG1CQUFwQztZQUNBcUIsYUFBYSxDQUFDcEIsS0FBZCxHQUFzQixLQUF0QjtZQUVBUixRQUFRLENBQUM0QixhQUFELEVBQWdCRCxVQUFoQixDQUFSO1VBQ0gsQ0FYRCxNQVdPO1lBRUh0RSxPQUFPLENBQUNDLEdBQVIsQ0FBWSw4QkFBWjtZQUVBMkMsaUJBQWlCLENBQUN2QyxJQUFJLENBQUMzQyxJQUFOLENBQWpCO1lBQ0E2RyxhQUFhLEdBQUdyRyxRQUFRLENBQUN3QixhQUFULENBQXVCLE9BQXZCLENBQWhCO1lBQ0E2RSxhQUFhLENBQUNyQixZQUFkLENBQTJCLElBQTNCLEVBQWlDN0MsSUFBSSxDQUFDM0MsSUFBdEM7WUFDQTZHLGFBQWEsQ0FBQ3JCLFlBQWQsQ0FBMkIsT0FBM0IsRUFBb0MsbUJBQXBDLEVBUEcsQ0FPdUQ7O1lBQzFEcUIsYUFBYSxDQUFDckIsWUFBZCxDQUEyQixVQUEzQixFQUF1QyxVQUF2QztZQUNBcUIsYUFBYSxDQUFDcEIsS0FBZCxHQUFzQixLQUF0QjtZQUVBVCxRQUFRLENBQUM2QixhQUFELEVBQWdCRCxVQUFoQixDQUFSO1VBRUg7UUFHSjs7UUFFREosR0FBRztNQUNOLENBbENEO01Bb0NBN0QsSUFBSSxDQUFDMkQsRUFBTCxDQUFRLE9BQVIsRUFBaUIsWUFBTTtRQUNuQnBCLGlCQUFpQixDQUFDdkMsSUFBSSxDQUFDM0MsSUFBTixDQUFqQjtRQUNBc0MsT0FBTyxDQUFDQyxHQUFSLENBQVksa0JBQVo7TUFDSCxDQUhEO0lBS0gsQ0F4REQsV0F3RFMsVUFBQ2lCLEtBQUQsRUFBVztNQUNoQm1DLEtBQUssQ0FBQyxvRUFBRCxDQUFMO0lBQ0gsQ0ExREQ7RUE2REgsQ0E1SEQ7QUFpSUgsQ0FoSkQ7QUFrSkEzRixJQUFJLENBQUNzRyxFQUFMLENBQVEsT0FBUixFQUFpQixVQUFDbkIsRUFBRCxFQUFRO0VBQ3JCM0UsUUFBUSxDQUFDQyxjQUFULENBQXdCMEUsRUFBeEIsRUFBNEJDLE1BQTVCO0FBQ0gsQ0FGRDtBQUtBdEYsTUFBTSxDQUFDd0csRUFBUCxDQUFVLFlBQVYsRUFBd0IsVUFBQ2hDLElBQUQsRUFBVTtFQUc5QmhDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDZEQUFaLEVBQTJFK0IsSUFBSSxDQUFDYSxFQUFoRjtFQUVBLElBQU1ZLFdBQVcsR0FBR3BGLGdCQUFnQixDQUFDYSxLQUFyQztFQUNBLElBQU13RSxXQUFXLEdBQUdsRixXQUFXLENBQUNVLEtBQWhDO0VBQ0EsSUFBTThELFdBQVcsR0FBRztJQUNoQmpCLEtBQUssRUFBRTtNQUFFcEMsUUFBUSxFQUFFOEQsV0FBVyxHQUFHO1FBQUVFLEtBQUssRUFBRUY7TUFBVCxDQUFILEdBQTRCRztJQUFuRCxDQURTO0lBRWhCOUIsS0FBSyxFQUFFO01BQUVuQyxRQUFRLEVBQUUrRCxXQUFXLEdBQUc7UUFBRUMsS0FBSyxFQUFFRDtNQUFULENBQUgsR0FBNEJFO0lBQW5EO0VBRlMsQ0FBcEI7RUFLQW5ELFNBQVMsQ0FBQ0MsWUFBVixDQUF1QnVDLFlBQXZCLENBQW9DRCxXQUFwQyxFQUFpRHBDLElBQWpELENBQXNELFVBQUM0RCxXQUFELEVBQWlCO0lBRW5FeEUsT0FBTyxDQUFDQyxHQUFSLENBQVksNkRBQVosRUFBMkUrQixJQUFJLENBQUNhLEVBQWhGO0lBRUE0QixRQUFRLEdBQUcvRyxJQUFJLENBQUMyQyxJQUFMLENBQVUyQixJQUFJLENBQUNhLEVBQWYsRUFBbUIyQixXQUFuQixDQUFYOztJQUVBLElBQUlDLFFBQUosRUFBYztNQUVWLElBQUlQLEdBQUcsR0FBRyxDQUFWO01BRUFPLFFBQVEsQ0FBQ1QsRUFBVCxDQUFZLFFBQVosRUFBc0IsVUFBQ00sVUFBRCxFQUFnQjtRQUVsQyxJQUFJSixHQUFHLElBQUksQ0FBWCxFQUFjO1VBQ1YsSUFBSUksVUFBVSxDQUFDSCxjQUFYLEdBQTRCNUUsTUFBNUIsSUFBc0MsQ0FBdEMsSUFBMkMrRSxVQUFVLENBQUNGLGNBQVgsR0FBNEI3RSxNQUE1QixJQUFzQyxDQUFyRixFQUF3RjtZQUVwRnFELGlCQUFpQixDQUFDWixJQUFJLENBQUNhLEVBQU4sQ0FBakI7WUFFQTBCLGFBQWEsR0FBR3JHLFFBQVEsQ0FBQ3dCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBaEI7WUFDQTZFLGFBQWEsQ0FBQ3JCLFlBQWQsQ0FBMkIsSUFBM0IsRUFBaUNsQixJQUFJLENBQUNhLEVBQXRDO1lBQ0EwQixhQUFhLENBQUNyQixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLDRCQUFwQztZQUNBcUIsYUFBYSxDQUFDcEIsS0FBZCxHQUFzQixLQUF0QjtZQUVBUixRQUFRLENBQUM0QixhQUFELEVBQWdCRCxVQUFoQixDQUFSO1VBR0gsQ0FaRCxNQVlPO1lBRUgxQixpQkFBaUIsQ0FBQ1osSUFBSSxDQUFDYSxFQUFOLENBQWpCO1lBRUEwQixhQUFhLEdBQUdyRyxRQUFRLENBQUN3QixhQUFULENBQXVCLE9BQXZCLENBQWhCO1lBQ0E2RSxhQUFhLENBQUNyQixZQUFkLENBQTJCLElBQTNCLEVBQWlDbEIsSUFBSSxDQUFDYSxFQUF0QztZQUNBMEIsYUFBYSxDQUFDckIsWUFBZCxDQUEyQixPQUEzQixFQUFvQyw0QkFBcEM7WUFDQXFCLGFBQWEsQ0FBQ3JCLFlBQWQsQ0FBMkIsVUFBM0IsRUFBdUMsVUFBdkM7WUFDQXFCLGFBQWEsQ0FBQ3BCLEtBQWQsR0FBc0IsS0FBdEI7WUFFQVQsUUFBUSxDQUFDNkIsYUFBRCxFQUFnQkQsVUFBaEIsQ0FBUjtVQUVIO1FBQ0o7O1FBR0RKLEdBQUc7TUFDTixDQWhDRDtNQWtDQU8sUUFBUSxDQUFDVCxFQUFULENBQVksT0FBWixFQUFxQixZQUFNO1FBQ3ZCcEIsaUJBQWlCLENBQUNaLElBQUksQ0FBQ2EsRUFBTixDQUFqQjtNQUNILENBRkQ7TUFJQTRCLFFBQVEsQ0FBQ1QsRUFBVCxDQUFZLE9BQVosRUFBcUIsVUFBQ1osR0FBRCxFQUFTO1FBQzFCcEQsT0FBTyxDQUFDQyxHQUFSLENBQVltRCxHQUFaO01BQ0gsQ0FGRDtNQUlBcEYsZUFBZSxDQUFDZ0UsSUFBSSxDQUFDYSxFQUFOLENBQWYsR0FBMkI0QixRQUEzQjtJQUNIO0VBR0osQ0F4REQsV0F3RFMsVUFBQ3ZELEtBQUQsRUFBVztJQUVoQjtJQUNBbEIsT0FBTyxDQUFDQyxHQUFSLENBQVksK0RBQVosRUFBNkUrQixJQUFJLENBQUNhLEVBQWxGO0lBSUEsSUFBTTZCLGdCQUFnQixHQUFHO01BQ3JCM0MsS0FBSyxFQUFFO1FBQUVwQyxRQUFRLEVBQUU4RCxXQUFXLEdBQUc7VUFBRUUsS0FBSyxFQUFFRjtRQUFULENBQUgsR0FBNEJHO01BQW5ELENBRGM7TUFFckI5QixLQUFLLEVBQUU7SUFGYyxDQUF6QjtJQUtBckIsU0FBUyxDQUFDQyxZQUFWLENBQXVCdUMsWUFBdkIsQ0FBb0N5QixnQkFBcEMsRUFBc0Q5RCxJQUF0RCxDQUEyRCxVQUFDK0QsZUFBRCxFQUFxQjtNQUU1RTNFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHdEQUFaO01BRUF3RSxRQUFRLEdBQUcvRyxJQUFJLENBQUMyQyxJQUFMLENBQVUyQixJQUFJLENBQUNhLEVBQWYsRUFBbUI4QixlQUFuQixDQUFYO01BRUFqSCxJQUFJLENBQUNzRyxFQUFMLENBQVEsTUFBUixFQUFnQixVQUFDM0QsSUFBRCxFQUFVO1FBRXRCO1FBQ0FBLElBQUksQ0FBQ2dFLE1BQUwsQ0FBWU0sZUFBWjtNQUdILENBTkQ7SUFTSCxDQWZELFdBZVMsVUFBQ3pELEtBQUQsRUFBVztNQUVoQm1DLEtBQUssQ0FBQyxnREFBRCxDQUFMO01BQ0FyRCxPQUFPLENBQUNDLEdBQVIsQ0FBWWlCLEtBQVo7SUFDSCxDQW5CRDtFQXFCSCxDQXpGRDtFQTJGQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlDLENBOUlEO0FBaUpBMUQsTUFBTSxDQUFDd0csRUFBUCxDQUFVLGNBQVYsRUFBMEIsVUFBQ2hDLElBQUQsRUFBVTtFQUdoQ2hDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHdCQUFaO0VBRUEsSUFBTXdELFdBQVcsR0FBR3BGLGdCQUFnQixDQUFDYSxLQUFyQztFQUNBLElBQU13RSxXQUFXLEdBQUdsRixXQUFXLENBQUNVLEtBQWhDO0VBQ0EsSUFBTThELFdBQVcsR0FBRztJQUNoQmpCLEtBQUssRUFBRTtNQUFFcEMsUUFBUSxFQUFFOEQsV0FBVyxHQUFHO1FBQUVFLEtBQUssRUFBRUY7TUFBVCxDQUFILEdBQTRCRztJQUFuRCxDQURTO0lBRWhCOUIsS0FBSyxFQUFFO01BQUVuQyxRQUFRLEVBQUUrRCxXQUFXLEdBQUc7UUFBRUMsS0FBSyxFQUFFRDtNQUFULENBQUgsR0FBNEJFO0lBQW5EO0VBRlMsQ0FBcEI7RUFLQW5ELFNBQVMsQ0FBQ0MsWUFBVixDQUF1QnVDLFlBQXZCLENBQW9DRCxXQUFwQyxFQUFpRHBDLElBQWpELENBQXNELFVBQUMwRCxVQUFELEVBQWdCO0lBRWxFdEUsT0FBTyxDQUFDQyxHQUFSLENBQVksb0NBQVo7SUFFQXdFLFFBQVEsR0FBRy9HLElBQUksQ0FBQzJDLElBQUwsQ0FBVTJCLElBQUksQ0FBQ2EsRUFBZixFQUFtQnlCLFVBQW5CLENBQVg7O0lBRUEsSUFBSUcsUUFBSixFQUFjO01BRVYsSUFBSVAsR0FBRyxHQUFHLENBQVY7TUFFQU8sUUFBUSxDQUFDVCxFQUFULENBQVksUUFBWixFQUFzQixVQUFDTSxVQUFELEVBQWdCO1FBRWxDLElBQUlKLEdBQUcsSUFBSSxDQUFYLEVBQWM7VUFHVmxFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1DQUFaOztVQUVBLElBQUlxRSxVQUFVLENBQUNILGNBQVgsR0FBNEI1RSxNQUE1QixJQUFzQyxDQUF0QyxJQUEyQytFLFVBQVUsQ0FBQ0YsY0FBWCxHQUE0QjdFLE1BQTVCLElBQXNDLENBQXJGLEVBQXdGO1lBRXBGcUQsaUJBQWlCLENBQUNaLElBQUksQ0FBQ2EsRUFBTixDQUFqQjtZQUVBMEIsYUFBYSxHQUFHckcsUUFBUSxDQUFDd0IsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtZQUNBNkUsYUFBYSxDQUFDckIsWUFBZCxDQUEyQixJQUEzQixFQUFpQ3VCLFFBQVEsQ0FBQy9HLElBQTFDO1lBQ0E2RyxhQUFhLENBQUNyQixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLHlCQUFwQztZQUNBcUIsYUFBYSxDQUFDcEIsS0FBZCxHQUFzQixLQUF0QjtZQUVBUixRQUFRLENBQUM0QixhQUFELEVBQWdCRCxVQUFoQixDQUFSO1VBR0gsQ0FaRCxNQVlPO1lBRUgxQixpQkFBaUIsQ0FBQ1osSUFBSSxDQUFDYSxFQUFOLENBQWpCO1lBRUEwQixhQUFhLEdBQUdyRyxRQUFRLENBQUN3QixhQUFULENBQXVCLE9BQXZCLENBQWhCO1lBQ0E2RSxhQUFhLENBQUNyQixZQUFkLENBQTJCLElBQTNCLEVBQWlDbEIsSUFBSSxDQUFDYSxFQUF0QztZQUNBMEIsYUFBYSxDQUFDckIsWUFBZCxDQUEyQixPQUEzQixFQUFvQyx5QkFBcEM7WUFDQXFCLGFBQWEsQ0FBQ3JCLFlBQWQsQ0FBMkIsVUFBM0IsRUFBdUMsVUFBdkM7WUFDQXFCLGFBQWEsQ0FBQ3BCLEtBQWQsR0FBc0IsS0FBdEI7WUFFQVQsUUFBUSxDQUFDNkIsYUFBRCxFQUFnQkQsVUFBaEIsQ0FBUjtVQUVIO1FBQ0o7O1FBR0RKLEdBQUc7TUFDTixDQXBDRDtNQXNDQU8sUUFBUSxDQUFDVCxFQUFULENBQVksT0FBWixFQUFxQixZQUFNO1FBQ3ZCcEIsaUJBQWlCLENBQUNaLElBQUksQ0FBQ2EsRUFBTixDQUFqQjtNQUNILENBRkQ7TUFJQTRCLFFBQVEsQ0FBQ1QsRUFBVCxDQUFZLE9BQVosRUFBcUIsVUFBQ1osR0FBRCxFQUFTO1FBQzFCcEQsT0FBTyxDQUFDQyxHQUFSLENBQVltRCxHQUFaO01BQ0gsQ0FGRDtNQUlBcEYsZUFBZSxDQUFDZ0UsSUFBSSxDQUFDYSxFQUFOLENBQWYsR0FBMkI0QixRQUEzQjtJQUNIO0VBR0osQ0E1REQsV0E0RFMsVUFBQ3ZELEtBQUQsRUFBVztJQUVoQixJQUFNd0QsZ0JBQWdCLEdBQUc7TUFDckIzQyxLQUFLLEVBQUU7UUFBRXBDLFFBQVEsRUFBRThELFdBQVcsR0FBRztVQUFFRSxLQUFLLEVBQUVGO1FBQVQsQ0FBSCxHQUE0Qkc7TUFBbkQsQ0FEYztNQUVyQjlCLEtBQUssRUFBRTtJQUZjLENBQXpCO0lBS0FyQixTQUFTLENBQUNDLFlBQVYsQ0FBdUJ1QyxZQUF2QixDQUFvQ3lCLGdCQUFwQyxFQUFzRDlELElBQXRELENBQTJELFVBQUMwRCxVQUFELEVBQWdCO01BRXZFdEUsT0FBTyxDQUFDQyxHQUFSLENBQVksMEJBQVo7TUFFQXdFLFFBQVEsR0FBRy9HLElBQUksQ0FBQzJDLElBQUwsQ0FBVTJCLElBQUksQ0FBQ2EsRUFBZixFQUFtQnlCLFVBQW5CLENBQVg7O01BRUEsSUFBSUcsUUFBSixFQUFjO1FBRVYsSUFBSVAsR0FBRyxHQUFHLENBQVY7UUFFQU8sUUFBUSxDQUFDVCxFQUFULENBQVksUUFBWixFQUFzQixVQUFDTSxVQUFELEVBQWdCO1VBR2xDdEUsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0RBQVo7O1VBRUEsSUFBSWlFLEdBQUcsSUFBSSxDQUFYLEVBQWM7WUFFVmxFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZcUUsVUFBVSxDQUFDSCxjQUFYLEdBQTRCNUUsTUFBeEM7WUFDQVMsT0FBTyxDQUFDQyxHQUFSLENBQVlxRSxVQUFVLENBQUNGLGNBQVgsR0FBNEI3RSxNQUF4Qzs7WUFFQSxJQUFJK0UsVUFBVSxDQUFDSCxjQUFYLEdBQTRCNUUsTUFBNUIsSUFBc0MsQ0FBdEMsSUFBMkMrRSxVQUFVLENBQUNGLGNBQVgsR0FBNEI3RSxNQUE1QixJQUFzQyxDQUFyRixFQUF3RjtjQUVwRlMsT0FBTyxDQUFDQyxHQUFSLENBQVksbUJBQVo7Y0FFQTJDLGlCQUFpQixDQUFDNkIsUUFBUSxDQUFDL0csSUFBVixDQUFqQjtjQUVBNkcsYUFBYSxHQUFHckcsUUFBUSxDQUFDd0IsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtjQUNBNkUsYUFBYSxDQUFDckIsWUFBZCxDQUEyQixJQUEzQixFQUFpQ3VCLFFBQVEsQ0FBQy9HLElBQTFDO2NBQ0E2RyxhQUFhLENBQUNyQixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLGlCQUFwQztjQUNBcUIsYUFBYSxDQUFDcEIsS0FBZCxHQUFzQixLQUF0QjtjQUVBUixRQUFRLENBQUM0QixhQUFELEVBQWdCRCxVQUFoQixDQUFSO1lBR0gsQ0FkRCxNQWNPO2NBRUh0RSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxtQkFBWjtjQUVBMkMsaUJBQWlCLENBQUM2QixRQUFRLENBQUMvRyxJQUFWLENBQWpCO2NBR0E2RyxhQUFhLEdBQUdyRyxRQUFRLENBQUN3QixhQUFULENBQXVCLE9BQXZCLENBQWhCO2NBQ0E2RSxhQUFhLENBQUNyQixZQUFkLENBQTJCLElBQTNCLEVBQWlDdUIsUUFBUSxDQUFDL0csSUFBMUM7Y0FDQTZHLGFBQWEsQ0FBQ3JCLFlBQWQsQ0FBMkIsT0FBM0IsRUFBb0MscUJBQXBDO2NBQ0FxQixhQUFhLENBQUNyQixZQUFkLENBQTJCLFVBQTNCLEVBQXVDLFVBQXZDO2NBQ0FxQixhQUFhLENBQUNwQixLQUFkLEdBQXNCLEtBQXRCO2NBRUFULFFBQVEsQ0FBQzZCLGFBQUQsRUFBZ0JELFVBQWhCLENBQVI7WUFDSDtVQUVKOztVQUdESixHQUFHO1FBQ04sQ0E1Q0Q7UUE4Q0FPLFFBQVEsQ0FBQ1QsRUFBVCxDQUFZLE9BQVosRUFBcUIsWUFBTTtVQUN2QnBCLGlCQUFpQixDQUFDWixJQUFJLENBQUNhLEVBQU4sQ0FBakI7UUFDSCxDQUZEO1FBSUE0QixRQUFRLENBQUNULEVBQVQsQ0FBWSxPQUFaLEVBQXFCLFVBQUNaLEdBQUQsRUFBUztVQUMxQnBELE9BQU8sQ0FBQ0MsR0FBUixDQUFZbUQsR0FBWjtRQUNILENBRkQ7UUFJQXBGLGVBQWUsQ0FBQ2dFLElBQUksQ0FBQ2EsRUFBTixDQUFmLEdBQTJCNEIsUUFBM0I7TUFDSDtJQUdKLENBcEVELFdBb0VTLFVBQUN2RCxLQUFELEVBQVc7TUFFaEJtQyxLQUFLLENBQUMsWUFBRCxDQUFMO01BSUFyRCxPQUFPLENBQUNDLEdBQVIsQ0FBWWlCLEtBQVo7SUFDSCxDQTNFRDtFQTZFSCxDQWhKRDtFQW9KQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQ0MsQ0EvT0Q7QUFrUEExRCxNQUFNLENBQUN3RyxFQUFQLENBQVUsZ0JBQVYsRUFBNEIsVUFBQW5CLEVBQUUsRUFBSTtFQUU5QjdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaLEVBQWdDNEMsRUFBaEM7RUFFQUQsaUJBQWlCLENBQUNDLEVBQUQsQ0FBakI7O0VBRUEsSUFBSTdFLGVBQWUsQ0FBQzZFLEVBQUQsQ0FBbkIsRUFBeUI7SUFDckI3RSxlQUFlLENBQUM2RSxFQUFELENBQWYsQ0FBb0IrQixLQUFwQjtFQUNIO0FBQ0osQ0FURCIsImZpbGUiOiIuL3Jlc291cmNlcy9qcy93ZWJSVEMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogIENvcHlyaWdodCAoYykgMjAxNSBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cblxuY29uc3Qgc29ja2V0ID0gaW8oJ2h0dHBzOi8vcnRjc2VydmVyLmVzdWNjZXNzLWluYy5jb206NDAwMDInLCB7fSk7XG5cbmNvbnN0IHBlZXIgPSBuZXcgUGVlcih7XG4gICAgaW5pdGlhdG9yOiBmYWxzZSxcbiAgICB0cmlja2xlOiBmYWxzZSxcbn0pO1xuXG4ndXNlIHN0cmljdCc7XG5sZXQgbXlWaWRlb1N0cmVhbTtcbmxldCBteUF1ZGlvU3RyZWFtO1xuXG5cbmNvbnN0IHBlZXJDb25uZWN0aW9ucyA9IHt9XG5cblxubGV0IG1lZGlhQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215TWVkaWFDb250YWluZXInKTtcblxuXG5sZXQgdmlkZW9HcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvR3JpZCcpO1xuXG5jb25zdCBhdWRpb0lucHV0U2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0I2F1ZGlvU291cmNlJyk7XG5jb25zdCBhdWRpb091dHB1dFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCNhdWRpb091dHB1dCcpO1xuY29uc3QgdmlkZW9TZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QjdmlkZW9Tb3VyY2UnKTtcbmNvbnN0IHNlbGVjdG9ycyA9IFthdWRpb0lucHV0U2VsZWN0LCBhdWRpb091dHB1dFNlbGVjdCwgdmlkZW9TZWxlY3RdO1xuXG5hdWRpb091dHB1dFNlbGVjdC5kaXNhYmxlZCA9ICEoJ3NpbmtJZCcgaW4gSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUpO1xuXG5mdW5jdGlvbiBnb3REZXZpY2VzKGRldmljZUluZm9zKSB7XG4gICAgLy8gSGFuZGxlcyBiZWluZyBjYWxsZWQgc2V2ZXJhbCB0aW1lcyB0byB1cGRhdGUgbGFiZWxzLiBQcmVzZXJ2ZSB2YWx1ZXMuXG4gICAgY29uc3QgdmFsdWVzID0gc2VsZWN0b3JzLm1hcChzZWxlY3QgPT4gc2VsZWN0LnZhbHVlKTtcbiAgICBzZWxlY3RvcnMuZm9yRWFjaChzZWxlY3QgPT4ge1xuICAgICAgICB3aGlsZSAoc2VsZWN0LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHNlbGVjdC5yZW1vdmVDaGlsZChzZWxlY3QuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGV2aWNlSW5mb3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgZGV2aWNlSW5mbyA9IGRldmljZUluZm9zW2ldO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gZGV2aWNlSW5mby5kZXZpY2VJZDtcbiAgICAgICAgaWYgKGRldmljZUluZm8ua2luZCA9PT0gJ2F1ZGlvaW5wdXQnKSB7XG4gICAgICAgICAgICBvcHRpb24udGV4dCA9IGRldmljZUluZm8ubGFiZWwgfHwgYG1pY3JvcGhvbmUgJHthdWRpb0lucHV0U2VsZWN0Lmxlbmd0aCArIDF9YDtcbiAgICAgICAgICAgIGF1ZGlvSW5wdXRTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSBlbHNlIGlmIChkZXZpY2VJbmZvLmtpbmQgPT09ICdhdWRpb291dHB1dCcpIHtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0ID0gZGV2aWNlSW5mby5sYWJlbCB8fCBgc3BlYWtlciAke2F1ZGlvT3V0cHV0U2VsZWN0Lmxlbmd0aCArIDF9YDtcbiAgICAgICAgICAgIGF1ZGlvT3V0cHV0U2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIH0gZWxzZSBpZiAoZGV2aWNlSW5mby5raW5kID09PSAndmlkZW9pbnB1dCcpIHtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0ID0gZGV2aWNlSW5mby5sYWJlbCB8fCBgY2FtZXJhICR7dmlkZW9TZWxlY3QubGVuZ3RoICsgMX1gO1xuICAgICAgICAgICAgdmlkZW9TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTb21lIG90aGVyIGtpbmQgb2Ygc291cmNlL2RldmljZTogJywgZGV2aWNlSW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0b3JzLmZvckVhY2goKHNlbGVjdCwgc2VsZWN0b3JJbmRleCkgPT4ge1xuICAgICAgICBpZiAoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoc2VsZWN0LmNoaWxkTm9kZXMpLnNvbWUobiA9PiBuLnZhbHVlID09PSB2YWx1ZXNbc2VsZWN0b3JJbmRleF0pKSB7XG4gICAgICAgICAgICBzZWxlY3QudmFsdWUgPSB2YWx1ZXNbc2VsZWN0b3JJbmRleF07XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbihnb3REZXZpY2VzKS5jYXRjaChoYW5kbGVFcnJvcik7XG5cbi8vIEF0dGFjaCBhdWRpbyBvdXRwdXQgZGV2aWNlIHRvIHZpZGVvIGVsZW1lbnQgdXNpbmcgZGV2aWNlL3NpbmsgSUQuXG5mdW5jdGlvbiBhdHRhY2hTaW5rSWQoZWxlbWVudCwgc2lua0lkKSB7XG4gICAgaWYgKHR5cGVvZiBlbGVtZW50LnNpbmtJZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZWxlbWVudC5zZXRTaW5rSWQoc2lua0lkKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTdWNjZXNzLCBhdWRpbyBvdXRwdXQgZGV2aWNlIGF0dGFjaGVkOiAke3NpbmtJZH1gKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1NlY3VyaXR5RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBZb3UgbmVlZCB0byB1c2UgSFRUUFMgZm9yIHNlbGVjdGluZyBhdWRpbyBvdXRwdXQgZGV2aWNlOiAke2Vycm9yfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyBKdW1wIGJhY2sgdG8gZmlyc3Qgb3V0cHV0IGRldmljZSBpbiB0aGUgbGlzdCBhcyBpdCdzIHRoZSBkZWZhdWx0LlxuICAgICAgICAgICAgICAgIGF1ZGlvT3V0cHV0U2VsZWN0LnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgb3V0cHV0IGRldmljZSBzZWxlY3Rpb24uJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjaGFuZ2VBdWRpb0Rlc3RpbmF0aW9uKCkge1xuICAgIGNvbnN0IGF1ZGlvRGVzdGluYXRpb24gPSBhdWRpb091dHB1dFNlbGVjdC52YWx1ZTtcbiAgICBhdHRhY2hTaW5rSWQodmlkZW9FbGVtZW50LCBhdWRpb0Rlc3RpbmF0aW9uKTtcbn1cblxuZnVuY3Rpb24gZ290U3RyZWFtKHN0cmVhbSkge1xuICAgIHdpbmRvdy5zdHJlYW0gPSBzdHJlYW07IC8vIG1ha2Ugc3RyZWFtIGF2YWlsYWJsZSB0byBjb25zb2xlXG4gICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcblxuICAgIC8vUmVnaXN0ZXIgdGhlIHZpZGVvIHN0cmVhbSB0byBteSBTdHJlYW1cbiAgICBteVZpZGVvU3RyZWFtID0gc3RyZWFtO1xuXG4gICAgLy8gUmVmcmVzaCBidXR0b24gbGlzdCBpbiBjYXNlIGxhYmVscyBoYXZlIGJlY29tZSBhdmFpbGFibGVcbiAgICByZXR1cm4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycm9yKSB7XG4gICAgLy9zdGFydCBhIHZpZGVvIHdpdGggYXVkaW8gY29ubmVjdGlvbiB3aWR0aCBkYXRhIG9mIHVzZXJcbiAgICBsZXQgdmlkZW8gPSBmYWxzZTtcbiAgICBsZXQgYXVkaW8gPSB0cnVlO1xuXG5cbiAgICAvL3N0YXJ0IGF1ZGlvXG4gICAgZGF0YSA9IHtcbiAgICAgICAgJ2lkJzogbXlJZCxcbiAgICAgICAgJ3VzZXInOiB1c2VyLFxuICAgICAgICAncm9vbUlEJzogcm9vbUlEXG4gICAgfVxuICAgIHN0YXJ0KHZpZGVvLCBhdWRpbywgZGF0YSk7XG59XG5cblxuZnVuY3Rpb24gYWRkTXlBdWRpbyhhdWRpbywgc3RyZWFtKSB7XG4gICAgYXVkaW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgKCkgPT4ge1xuICAgICAgICBhdWRpby5wbGF5KClcbiAgICB9KVxuICAgIG1lZGlhQ29udGFpbmVyLmFwcGVuZChhdWRpbyk7XG59XG5cblxuZnVuY3Rpb24gYWRkTXlWaWRlbyh2aWRlbywgc3RyZWFtKSB7XG4gICAgdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgKCkgPT4ge1xuICAgICAgICB2aWRlby5wbGF5KClcbiAgICB9KVxuICAgIG1lZGlhQ29udGFpbmVyLmFwcGVuZCh2aWRlbyk7XG59XG5cblxuZnVuY3Rpb24gYWRkQXVkaW8oYXVkaW8sIHN0cmVhbSkge1xuICAgIGF1ZGlvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpID0+IHtcbiAgICAgICAgYXVkaW8ucGxheSgpXG4gICAgfSlcbiAgICB2aWRlb0dyaWQuYXBwZW5kKGF1ZGlvKTtcbn1cblxuZnVuY3Rpb24gYWRkVmlkZW8odmlkZW8sIHN0cmVhbSkge1xuICAgIHZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpID0+IHtcbiAgICAgICAgdmlkZW8ucGxheSgpXG4gICAgfSlcbiAgICB2aWRlb0dyaWQuYXBwZW5kKHZpZGVvKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRWxlbWVudEJ5SUQoaWQpIHtcbiAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVXNlck1lZGlhKHZpZGVvLCBhdWRpbywgY29uc3RyYWludHMpIHtcblxuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKChzdHJlYW0pID0+IHtcblxuICAgICAgICByZW1vdmVFbGVtZW50QnlJRChcIm15VmlkZW9cIik7XG4gICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKFwibXlBdWRpb1wiKTtcblxuICAgICAgICBpZiAoYXVkaW8gPT0gdHJ1ZSAmJiB2aWRlbyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgIG15QXVkaW9TdHJlYW0gPSBudWxsO1xuXG4gICAgICAgICAgICAvL1JlZ2lzdGVyIHRoZSB2aWRlbyBzdHJlYW0gdG8gbXkgU3RyZWFtXG4gICAgICAgICAgICBteVZpZGVvU3RyZWFtID0gc3RyZWFtO1xuICAgICAgICAgICAgd2luZG93LnN0cmVhbSA9IHN0cmVhbTsgLy8gbWFrZSBzdHJlYW0gYXZhaWxhYmxlIHRvIGNvbnNvbGUgICAgICAgXG5cblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIGEgdmlkZW9cIik7XG5cbiAgICAgICAgICAgIHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJteVZpZGVvXCIpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50Lm11dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGFkZE15VmlkZW8odmlkZW9FbGVtZW50LCBzdHJlYW0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cblxuICAgICAgICAgICAgLy9SZWdpc3RlciB0aGUgdmlkZW8gc3RyZWFtIHRvIG15IFN0cmVhbVxuICAgICAgICAgICAgbXlWaWRlb1N0cmVhbSA9IG51bGw7XG5cbiAgICAgICAgICAgIHdpbmRvdy5zdHJlYW0gPSBzdHJlYW07IC8vIG1ha2Ugc3RyZWFtIGF2YWlsYWJsZSB0byBjb25zb2xlICAgICAgIFxuICAgICAgICAgICAgbXlBdWRpb1N0cmVhbSA9IHN0cmVhbTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIGEgYXVkaW8gb25seVwiKVxuXG4gICAgICAgICAgICBhdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICBhdWRpby5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm15QXVkaW9cIik7XG4gICAgICAgICAgICBhdWRpby5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgYXVkaW8ubXV0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBhZGRNeUF1ZGlvKGF1ZGlvLCBzdHJlYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xuXG5cbiAgICB9KS50aGVuKGdvdERldmljZXMpLmNhdGNoKChlcnIpID0+IHtcblxuICAgICAgICBpZiAodmlkZW8gPT0gdHJ1ZSAmJiBhdWRpbyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgYWxlcnQoXCJubyBtZWRpYSBkZXRlY3RlZCwgcGxlYXNlIGNvbm5lY3QgYW5kIHRyeSBhZ2FpblwiKVxuICAgICAgICB9XG4gICAgfSk7XG5cblxufVxuXG5mdW5jdGlvbiBzdGFydCh2aWRlbywgYXVkaW8sIGRhdGEpIHtcblxuICAgIGlmICh3aW5kb3cuc3RyZWFtKSB7XG5cbiAgICAgICAgd2luZG93LnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGF1ZGlvU291cmNlID0gYXVkaW9JbnB1dFNlbGVjdC52YWx1ZTtcbiAgICBjb25zdCB2aWRlb1NvdXJjZSA9IHZpZGVvU2VsZWN0LnZhbHVlO1xuXG4gICAgaWYgKHZpZGVvID09IHRydWUgJiYgYXVkaW8gPT0gdHJ1ZSkge1xuXG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgdmlkZW86IHsgZGV2aWNlSWQ6IHZpZGVvU291cmNlID8geyBleGFjdDogdmlkZW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0IHZpZGVvIDogc3RhcnRcIilcblxuICAgICAgICBjcmVhdGVVc2VyTWVkaWEodmlkZW8sIGF1ZGlvLCBjb25zdHJhaW50cylcblxuICAgIH0gZWxzZSBpZiAodmlkZW8gPT0gZmFsc2UgJiYgYXVkaW8gPT0gdHJ1ZSkge1xuXG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgdmlkZW86IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0IGF1ZGlvIDogc3RhcnRcIilcbiAgICAgICAgY3JlYXRlVXNlck1lZGlhKHZpZGVvLCBhdWRpbywgY29uc3RyYWludHMpXG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGFsZXJ0KFwibm8gbWVkaWEgZGV0ZWN0ZWQsIHBsZWFzZSBjb25uZWN0IGFuZCB0cnkgYWdhaW5cIilcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gcmVzdGFydCgpIHtcblxuICAgIC8qXG4gICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgJ2lkJzogbXlJZCxcbiAgICAgICAgICAgJ3VzZXInOiB1c2VyLFxuICAgICAgICAgICAncm9vbUlEJzogcm9vbUlELFxuICAgICAgICAgICAndmlkZW9TdHJlYW0nOiBteVZpZGVvU3RyZWFtXG4gICAgICAgfVxuXG4gICAgKi9cblxuICAgIHN0YXJ0KHRydWUsIHRydWUsIGRhdGEpO1xuXG5cbiAgICBzb2NrZXQuZW1pdChcImNoYW5nZU1lZGlhXCIsIGRhdGEpO1xuXG5cblxuXG4gICAgaWYgKHdpbmRvdy5zdHJlYW0pIHtcbiAgICAgICAgd2luZG93LnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYXVkaW9Tb3VyY2UgPSBhdWRpb0lucHV0U2VsZWN0LnZhbHVlO1xuICAgIGNvbnN0IHZpZGVvU291cmNlID0gdmlkZW9TZWxlY3QudmFsdWU7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB7XG4gICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgdmlkZW86IHsgZGV2aWNlSWQ6IHZpZGVvU291cmNlID8geyBleGFjdDogdmlkZW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9XG4gICAgfTtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbigoc3RyZWFtKSA9PiB7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJyZXN0YXJ0XCIpXG5cblxuICAgICAgICB3aW5kb3cuc3RyZWFtID0gc3RyZWFtOyAvLyBtYWtlIHN0cmVhbSBhdmFpbGFibGUgdG8gY29uc29sZVxuICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuXG4gICAgICAgIC8vUmVnaXN0ZXIgdGhlIHZpZGVvIHN0cmVhbSB0byBteSBTdHJlYW1cbiAgICAgICAgbXlWaWRlb1N0cmVhbSA9IHN0cmVhbTtcblxuICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgJ2lkJzogbXlJZCxcbiAgICAgICAgICAgICd1c2VyJzogdXNlcixcbiAgICAgICAgICAgICdyb29tSUQnOiByb29tSUQsXG4gICAgICAgICAgICAndmlkZW9TdHJlYW0nOiBteVZpZGVvU3RyZWFtXG4gICAgICAgIH1cblxuXG5cbiAgICAgICAgc29ja2V0LmVtaXQoXCJjaGFuZ2VNZWRpYVwiLCBkYXRhKTtcblxuICAgICAgICByZW1vdmVFbGVtZW50QnlJRChteUlkKTtcblxuXG4gICAgfSkuY2F0Y2goaGFuZGxlRXJyb3IpO1xuXG59XG5cbmF1ZGlvSW5wdXRTZWxlY3Qub25jaGFuZ2UgPSByZXN0YXJ0O1xuYXVkaW9PdXRwdXRTZWxlY3Qub25jaGFuZ2UgPSBjaGFuZ2VBdWRpb0Rlc3RpbmF0aW9uO1xudmlkZW9TZWxlY3Qub25jaGFuZ2UgPSByZXN0YXJ0O1xuXG5cblxuXG5wZWVyLm9uKCdjb25uZWN0aW9uJywgZnVuY3Rpb24oY29ubikge1xuICAgIGNvbm4ub24oJ2RhdGEnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicGVlciBjb25uZWN0ZWRcIiwgZGF0YSlcbiAgICB9KTtcbiAgICBjb25uLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgYWxlcnQoXCJjbG9zZVwiKVxuICAgIH0pO1xufSk7XG5cbnBlZXIub24oJ29wZW4nLCAoaWQpID0+IHtcblxuICAgIGNvbnNvbGUubG9nKFwibXkgcGVlciBpZFwiICsgaWQpXG4gICAgY29uc29sZS5sb2coXCJteSB1c2VyIFwiLCB1c2VyKVxuICAgIGNvbnNvbGUubG9nKFwibXkgcm9vbSBpZCBcIiwgcm9vbUlEKVxuXG4gICAgbXlJZCA9IGlkO1xuXG4gICAgZGF0YSA9IHtcbiAgICAgICAgJ2lkJzogaWQsXG4gICAgICAgICd1c2VyJzogdXNlcixcbiAgICAgICAgJ3Jvb21JRCc6IHJvb21JRFxuICAgIH1cblxuICAgIHNvY2tldC5lbWl0KFwibmV3VXNlclwiLCBkYXRhKTtcblxuICAgIC8vc3RhcnQgYSB2aWRlbyB3aXRoIGF1ZGlvIGNvbm5lY3Rpb24gd2lkdGggZGF0YSBvZiB1c2VyXG4gICAgbGV0IHZpZGVvID0gdHJ1ZTtcbiAgICBsZXQgYXVkaW8gPSB0cnVlO1xuXG4gICAgLy9zdGFydCB0aGUgbXkgb3duIHZpZGVvIGNhbWVyYVxuXG4gICAgc3RhcnQodmlkZW8sIGF1ZGlvLCBkYXRhKVxuXG59KTtcblxuXG5cbnBlZXIub24oJ2NhbGwnLCBjYWxsID0+IHtcblxuICAgIGxldCBjdHIgPSAwO1xuXG4gICAgY29uc29sZS5sb2coXCJQRUVSOjogQ0FMTElORy4uLiBmb3IgYSB2aWRlbyBzdHJlYW0gb3IgYXVkaW8gc3RyZWFtIC4uLlwiKTtcblxuXG5cbiAgICBjb25zdCBhdWRpb1NvdXJjZSA9IGF1ZGlvSW5wdXRTZWxlY3QudmFsdWU7XG4gICAgY29uc3QgdmlkZW9Tb3VyY2UgPSB2aWRlb1NlbGVjdC52YWx1ZTtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHtcbiAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICB2aWRlbzogeyBkZXZpY2VJZDogdmlkZW9Tb3VyY2UgPyB7IGV4YWN0OiB2aWRlb1NvdXJjZSB9IDogdW5kZWZpbmVkIH1cbiAgICB9O1xuXG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oKHN0cmVhbSkgPT4ge1xuXG4gICAgICAgIGlmIChzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgYWxlcnQoXCJzdHJlYW0gZnJvbSBzZW5kZXIgaXMgYSB2aWRlb1wiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoXCJzdHJlYW0gZnJvbSBzZW5kZXIgaXMgYSBhdWRpb1wiKVxuICAgICAgICB9XG5cblxuICAgICAgICBjYWxsLmFuc3dlcihzdHJlYW0pO1xuXG4gICAgICAgIGNhbGwub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVjaWV2ZSB2aWRlbyBmcm9tIGluaXRpYXRvclwiKTtcblxuICAgICAgICAgICAgaWYgKGN0ciA9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlclN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCA9PSAxICYmIHVzZXJTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPT0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwicmVjaWV2ZXIgZnJvbSBzZW5kZXIgaXMgYSB2aWRlb1wiICsgY2FsbC5wZWVyKVxuXG5cbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBlZXJDYWxsQmFja1ZpZGVvXCIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgYWRkVmlkZW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwicmVjaWV2ZXIgZnJvbSBzZW5kZXIgaXMgYSBhdWRpb1wiKVxuXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJwZWVyQ2FsbEJhY2tBdWRpb1wiKTsgLy9jYWxsIHBlZXJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHIrK1xuICAgICAgICB9KTtcblxuICAgICAgICBjYWxsLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGwucGVlcik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInVzZXIgZGlzY29uZWN0ZWRcIilcbiAgICAgICAgfSk7XG5cbiAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcblxuICAgICAgICBjb25zb2xlLmxvZyhcInJlY2lldmUgYXVkaW8gZnJvbSBpbml0aWF0b3JcIik7XG5cbiAgICAgICAgY29uc3QgYXVkaW9Tb3VyY2UgPSBhdWRpb0lucHV0U2VsZWN0LnZhbHVlO1xuICAgICAgICBjb25zdCBjb25zdHJhaW50cyA9IHtcbiAgICAgICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgIHZpZGVvOiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbigoc3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgIGlmIChzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPT0gMSkge1xuXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJzdHJlYW0gZnJvbSBzZW5kZXIgaXMgYSB2aWRlb1wiKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJzdHJlYW0gZnJvbSBzZW5kZXIgaXMgYSBhdWRpb1wiKVxuXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgY2FsbC5hbnN3ZXIoc3RyZWFtKTtcblxuICAgICAgICAgICAgY2FsbC5vbignc3RyZWFtJywgKHVzZXJTdHJlYW0pID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChjdHIgPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoID09IDEgJiYgdXNlclN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCA9PSAxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVjaXBpZW50IGhhZCBhIHZpZGVvIHN0cmVhbVwiKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChjYWxsLnBlZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicGVlckNhbGxCYWNrVmlkZW9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlY2lwaWVudCBoYWQgYSBBVURJTyBzdHJlYW1cIilcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBjYWxsLnBlZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBlZXJDYWxsQmFja0F1ZGlvXCIpOyAvL2NhbGwgcGVlclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBdWRpbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN0cisrXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FsbC5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInVzZXIgZGlzY29uZWN0ZWRcIilcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgYWxlcnQoXCJJIGNhbid0IHNlbmQgYW55IHZpZGVvIHIgYXVkaW8gdG8geW91ciBjb250YWN0LCBwbGVhc2UgY2hlY2sgbWVkaWFcIilcbiAgICAgICAgfSk7XG5cblxuICAgIH0pO1xuXG5cblxuXG59KTtcblxucGVlci5vbignY2xvc2UnLCAoaWQpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkucmVtb3ZlKCk7XG59KTtcblxuXG5zb2NrZXQub24oJ3VzZXJKb2luZWQnLCAoZGF0YSkgPT4ge1xuXG5cbiAgICBjb25zb2xlLmxvZyhcInVzZXIgam9pbmVkIDo6OiBjYWxsaW5nIGluaXRpYXRvciB3aXRoIGp1c3QgYXVkaW8gYW5kIHZpZGVvXCIsIGRhdGEuaWQpO1xuXG4gICAgY29uc3QgYXVkaW9Tb3VyY2UgPSBhdWRpb0lucHV0U2VsZWN0LnZhbHVlO1xuICAgIGNvbnN0IHZpZGVvU291cmNlID0gdmlkZW9TZWxlY3QudmFsdWU7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB7XG4gICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgdmlkZW86IHsgZGV2aWNlSWQ6IHZpZGVvU291cmNlID8geyBleGFjdDogdmlkZW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9XG4gICAgfTtcblxuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKChtZWRpYVN0cmVhbSkgPT4ge1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBqb2luZWQgOjo6IGNhbGxpbmcgaW5pdGlhdG9yIHdpdGgganVzdCBhdWRpbyBhbmQgdmlkZW9cIiwgZGF0YS5pZCk7XG5cbiAgICAgICAgY2FsbGJhY2sgPSBwZWVyLmNhbGwoZGF0YS5pZCwgbWVkaWFTdHJlYW0pO1xuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuXG4gICAgICAgICAgICBsZXQgY3RyID0gMDtcblxuICAgICAgICAgICAgY2FsbGJhY2sub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3RyID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiB1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ1c2VyX2pvaW5lZF9wZWVyX2NhbGxfYmFja1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQubXV0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVmlkZW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChkYXRhLmlkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInVzZXJfam9pbmVkX3BlZXJfY2FsbF9iYWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBdWRpbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBjdHIrKztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYWxsYmFjay5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FsbGJhY2sub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25zW2RhdGEuaWRdID0gY2FsbGJhY2s7XG4gICAgICAgIH1cblxuXG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG5cbiAgICAgICAgLy9JIGhhdmUgb25seSBhdWRpbywgc2VuZCB0byB0aGUgYXVkaW8gdG8gbXkgcGVlclxuICAgICAgICBjb25zb2xlLmxvZyhcInVzZXIgam9pbmVkOjogSSBoYXZlIG9ubHkgYXVkaW8sIHNlbmQgdG8gdGhlIGF1ZGlvIHRvIG15IHBlZXJcIiwgZGF0YS5pZCk7XG5cblxuXG4gICAgICAgIGNvbnN0IGF1ZGlvQ29uc3RyYWludHMgPSB7XG4gICAgICAgICAgICBhdWRpbzogeyBkZXZpY2VJZDogYXVkaW9Tb3VyY2UgPyB7IGV4YWN0OiBhdWRpb1NvdXJjZSB9IDogdW5kZWZpbmVkIH0sXG4gICAgICAgICAgICB2aWRlbzogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoYXVkaW9Db25zdHJhaW50cykudGhlbigobWVkaWFDYWxsU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBqb2luZWQgOjo6ICgyKSBjYWxsaW5nIGluaXRpYXRvciB3aXRoIGp1c3QgIEFVRElPXCIpXG5cbiAgICAgICAgICAgIGNhbGxiYWNrID0gcGVlci5jYWxsKGRhdGEuaWQsIG1lZGlhQ2FsbFN0cmVhbSk7XG5cbiAgICAgICAgICAgIHBlZXIub24oJ2NhbGwnLCAoY2FsbCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gQW5zd2VyIHRoZSBjYWxsLCBwcm92aWRpbmcgb3VyIG1lZGlhU3RyZWFtXG4gICAgICAgICAgICAgICAgY2FsbC5hbnN3ZXIobWVkaWFDYWxsU3RyZWFtKTtcblxuXG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuXG4gICAgICAgICAgICBhbGVydChcIlBsZWFzZSBjb25uZWN0IGF1ZGlvaW5wdXQgZGV2aWNlIGFuZCB0cnkgYWdhaW5cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICAgIC8qXG4gICAgbGV0IGlkID0gZGF0YS5pZDtcbiAgICBsZXQgcm9vbUlEID0gZGF0YS5yb29tSUQ7XG4gICAgbGV0IHVzZXIgPSBkYXRhLnVzZXI7XG5cbiAgICBjb25zdCBjYWxsYmFjayA9IHBlZXIuY2FsbChpZCwgbXlWaWRlb1N0cmVhbSk7XG5cbiAgICBjb25zb2xlLmxvZyhcIm5ldyB1c2VyIGpvaW5lZFwiLCBkYXRhKTtcblxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG5cbiAgICAgICAgbGV0IGN0ciA9IDA7XG4gICAgICAgIGNhbGxiYWNrLm9uKCdzdHJlYW0nLCAodXNlclN0cmVhbSkgPT4ge1xuXG4gICAgICAgICAgICBpZiAoY3RyID09IDEpIHtcblxuICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuXG4gICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FsbGVyQmFja1ZpZGVvXCIpO1xuICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQubXV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhZGRWaWRlbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0cisrO1xuICAgICAgICB9KTtcblxuICAgICAgICBjYWxsYmFjay5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNsb3NpbmchIGNhbGxiYWNrIHZpZGVvLi4uXCIpXG4gICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChkYXRhLmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2FsbGJhY2sub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgICovXG5cbn0pO1xuXG5cbnNvY2tldC5vbignbWVkaWFDaGFuZ2VkJywgKGRhdGEpID0+IHtcblxuXG4gICAgY29uc29sZS5sb2coXCJtZWRpYSBoYXMgYmVlbiBjaGFuZ2VkXCIpO1xuXG4gICAgY29uc3QgYXVkaW9Tb3VyY2UgPSBhdWRpb0lucHV0U2VsZWN0LnZhbHVlO1xuICAgIGNvbnN0IHZpZGVvU291cmNlID0gdmlkZW9TZWxlY3QudmFsdWU7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB7XG4gICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgdmlkZW86IHsgZGV2aWNlSWQ6IHZpZGVvU291cmNlID8geyBleGFjdDogdmlkZW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9XG4gICAgfTtcblxuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKCh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJtZWRpYUNoYW5nZWQ6IGluaXRpYXRvciAocmVjaWV2ZWQpXCIpXG5cbiAgICAgICAgY2FsbGJhY2sgPSBwZWVyLmNhbGwoZGF0YS5pZCwgdXNlclN0cmVhbSk7XG5cbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG5cbiAgICAgICAgICAgIGxldCBjdHIgPSAwO1xuXG4gICAgICAgICAgICBjYWxsYmFjay5vbignc3RyZWFtJywgKHVzZXJTdHJlYW0pID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChjdHIgPT0gMCkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXBpcGllbnQgY2FsbGJhY2sgOiB2aWRlbyBzdHJlYW1cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiB1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBjYWxsYmFjay5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJyZXBpcGllbnRfdmlkZW9fY2hhbmdlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQubXV0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVmlkZW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChkYXRhLmlkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInJlcGlwaWVudF9hdWRpb19jaGFuZ2VkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBdWRpbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBjdHIrKztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYWxsYmFjay5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FsbGJhY2sub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25zW2RhdGEuaWRdID0gY2FsbGJhY2s7XG4gICAgICAgIH1cblxuXG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG5cbiAgICAgICAgY29uc3QgYXVkaW9Db25zdHJhaW50cyA9IHtcbiAgICAgICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgIHZpZGVvOiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShhdWRpb0NvbnN0cmFpbnRzKS50aGVuKCh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW5pdGlhdG9yIFNFTlQgQU5EIEFVRElPXCIpXG5cbiAgICAgICAgICAgIGNhbGxiYWNrID0gcGVlci5jYWxsKGRhdGEuaWQsIHVzZXJTdHJlYW0pO1xuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcblxuICAgICAgICAgICAgICAgIGxldCBjdHIgPSAwO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgZm9yIHRoZSBhdWRpbywgc3RyZWFtIG9mIHRoZSBpbml0aWF0b3JcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN0ciA9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXJTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlclN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCA9PSAxICYmIHVzZXJTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPT0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1c2VyIHNlbnQgYSB2aWRlb1wiKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoY2FsbGJhY2sucGVlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGNhbGxiYWNrLnBlZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYWxsZXJCYWNrVmlkZW9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVmlkZW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBzZW50IGEgQVVESU9cIilcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGxiYWNrLnBlZXIpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGNhbGxiYWNrLnBlZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYWxsYmFja0F1ZGlvX21lZGlhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIiwgXCJjb250cm9sc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRBdWRpbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICBjdHIrKztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjay5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbnNbZGF0YS5pZF0gPSBjYWxsYmFjaztcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuXG4gICAgICAgICAgICBhbGVydChcImF1ZGlvIG9ubHlcIik7XG5cblxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuXG5cbiAgICAvKlxuICAgIGxldCBpZCA9IGRhdGEuaWQ7XG4gICAgbGV0IHJvb21JRCA9IGRhdGEucm9vbUlEO1xuICAgIGxldCB1c2VyID0gZGF0YS51c2VyO1xuXG4gICAgbGV0IGNhbGxiYWNrID0gbnVsbDtcblxuXG5cbiAgICBpZiAobXlWaWRlb1N0cmVhbSAhPT0gbnVsbCkge1xuICAgICAgICBjYWxsYmFjayA9IHBlZXIuY2FsbChpZCwgbXlWaWRlb1N0cmVhbSk7XG4gICAgfSBlbHNlIGlmIChteUF1ZGlvU3RyZWFtICE9PSBudWxsKSB7XG4gICAgICAgIGNhbGxiYWNrID0gcGVlci5jYWxsKGlkLCBteUF1ZGlvU3RyZWFtKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcIm15IHZpZGVvXCIsIG15VmlkZW9TdHJlYW0pO1xuICAgIGNvbnNvbGUubG9nKFwibXkgdmlkZW9cIiwgbXlBdWRpb1N0cmVhbSk7XG5cblxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG5cbiAgICAgICAgbGV0IGN0ciA9IDA7XG5cbiAgICAgICAgY2FsbGJhY2sub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgIGlmIChjdHIgPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlclN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKVxuXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiB1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInVzZXIgc2VudCBhIHZpZGVvXCIpXG5cbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG5cblxuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhbGxlckJhY2tWaWRlb1wiKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBzZW50IGEgQVVESU9cIilcblxuICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChkYXRhLmlkKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FsbGJhY2tBdWRpb1wiKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgY3RyKys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhbGxiYWNrLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjYWxsYmFjay5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwZWVyQ29ubmVjdGlvbnNbZGF0YS5pZF0gPSBjYWxsYmFjaztcbiAgICB9XG4gICAgKi9cbn0pO1xuXG5cbnNvY2tldC5vbigndXNlckRpc2Nvbm5lY3QnLCBpZCA9PiB7XG5cbiAgICBjb25zb2xlLmxvZyhcInVzZXJEaXNjb25uZWN0ZWRcIiwgaWQpO1xuXG4gICAgcmVtb3ZlRWxlbWVudEJ5SUQoaWQpO1xuXG4gICAgaWYgKHBlZXJDb25uZWN0aW9uc1tpZF0pIHtcbiAgICAgICAgcGVlckNvbm5lY3Rpb25zW2lkXS5jbG9zZSgpO1xuICAgIH1cbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/webRTC.js\n");

/***/ }),

/***/ 7:
/*!**************************************!*\
  !*** multi ./resources/js/webRTC.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /var/www/html/esi_development/resources/js/webRTC.js */"./resources/js/webRTC.js");


/***/ })

/******/ });