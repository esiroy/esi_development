/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 7);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./resources/js/webRTC.js":
/*!********************************!*\
  !*** ./resources/js/webRTC.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\n *  Copyright (c) 2015 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nvar socket = io('https://rtcserver.esuccess-inc.com:40002', {});\nvar peer = new Peer({\n  initiator: false,\n  trickle: false\n});\n'use strict';\n\nvar myVideoStream;\nvar myAudioStream;\nvar peerConnections = {};\nvar mediaContainer = document.getElementById('myMediaContainer');\nvar videoGrid = document.getElementById('videoGrid');\nvar audioInputSelect = document.querySelector('select#audioSource');\nvar audioOutputSelect = document.querySelector('select#audioOutput');\nvar videoSelect = document.querySelector('select#videoSource');\nvar selectors = [audioInputSelect, audioOutputSelect, videoSelect];\naudioOutputSelect.disabled = !('sinkId' in HTMLMediaElement.prototype);\n\nfunction gotDevices(deviceInfos) {\n  // Handles being called several times to update labels. Preserve values.\n  var values = selectors.map(function (select) {\n    return select.value;\n  });\n  selectors.forEach(function (select) {\n    while (select.firstChild) {\n      select.removeChild(select.firstChild);\n    }\n  });\n\n  for (var i = 0; i !== deviceInfos.length; ++i) {\n    var deviceInfo = deviceInfos[i];\n    var option = document.createElement('option');\n    option.value = deviceInfo.deviceId;\n\n    if (deviceInfo.kind === 'audioinput') {\n      option.text = deviceInfo.label || \"microphone \".concat(audioInputSelect.length + 1);\n      audioInputSelect.appendChild(option);\n    } else if (deviceInfo.kind === 'audiooutput') {\n      option.text = deviceInfo.label || \"speaker \".concat(audioOutputSelect.length + 1);\n      audioOutputSelect.appendChild(option);\n    } else if (deviceInfo.kind === 'videoinput') {\n      option.text = deviceInfo.label || \"camera \".concat(videoSelect.length + 1);\n      videoSelect.appendChild(option);\n    } else {\n      console.log('Some other kind of source/device: ', deviceInfo);\n    }\n  }\n\n  selectors.forEach(function (select, selectorIndex) {\n    if (Array.prototype.slice.call(select.childNodes).some(function (n) {\n      return n.value === values[selectorIndex];\n    })) {\n      select.value = values[selectorIndex];\n    }\n  });\n}\n\nnavigator.mediaDevices.enumerateDevices().then(gotDevices)[\"catch\"](handleError); // Attach audio output device to video element using device/sink ID.\n\nfunction attachSinkId(element, sinkId) {\n  if (typeof element.sinkId !== 'undefined') {\n    element.setSinkId(sinkId).then(function () {\n      console.log(\"Success, audio output device attached: \".concat(sinkId));\n    })[\"catch\"](function (error) {\n      var errorMessage = error;\n\n      if (error.name === 'SecurityError') {\n        errorMessage = \"You need to use HTTPS for selecting audio output device: \".concat(error);\n      }\n\n      console.error(errorMessage); // Jump back to first output device in the list as it's the default.\n\n      audioOutputSelect.selectedIndex = 0;\n    });\n  } else {\n    console.warn('Browser does not support output device selection.');\n  }\n}\n\nfunction changeAudioDestination() {\n  var audioDestination = audioOutputSelect.value;\n  attachSinkId(videoElement, audioDestination);\n}\n\nfunction gotStream(stream) {\n  window.stream = stream; // make stream available to console\n\n  videoElement.srcObject = stream; //Register the video stream to my Stream\n\n  myVideoStream = stream; // Refresh button list in case labels have become available\n\n  return navigator.mediaDevices.enumerateDevices();\n}\n\nfunction handleError(error) {\n  //start a video with audio connection width data of user\n  var video = false;\n  var audio = true; //start audio\n\n  data = {\n    'id': myId,\n    'user': user,\n    'roomID': roomID\n  };\n  start(video, audio, data);\n}\n\nfunction addMyAudio(audio, stream) {\n  audio.srcObject = stream;\n  audio.addEventListener('loadedmetadata', function () {\n    audio.play();\n  });\n  mediaContainer.append(audio);\n}\n\nfunction addMyVideo(video, stream) {\n  video.srcObject = stream;\n  video.addEventListener('loadedmetadata', function () {\n    video.play();\n  });\n  mediaContainer.append(video);\n}\n\nfunction addAudio(audio, stream) {\n  audio.srcObject = stream;\n  audio.addEventListener('loadedmetadata', function () {\n    audio.play();\n  });\n  videoGrid.append(audio);\n}\n\nfunction addVideo(video, stream) {\n  video.srcObject = stream;\n  video.addEventListener('loadedmetadata', function () {\n    video.play();\n  });\n  videoGrid.append(video);\n}\n\nfunction removeElementByID(id) {\n  var element = document.getElementById(id);\n\n  if (element) {\n    element.remove();\n  }\n}\n\nfunction createUserMedia(video, audio, constraints) {\n  navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n    removeElementByID(\"myVideo\");\n    removeElementByID(\"myAudio\");\n\n    if (audio == true && video == true) {\n      myAudioStream = null; //Register the video stream to my Stream\n\n      myVideoStream = stream;\n      window.stream = stream; // make stream available to console       \n\n      console.log(\"this is a video\");\n      videoElement = document.createElement('video');\n      videoElement.setAttribute(\"id\", \"myVideo\");\n      videoElement.muted = true;\n      addMyVideo(videoElement, stream);\n    } else {\n      //Register the video stream to my Stream\n      myVideoStream = null;\n      window.stream = stream; // make stream available to console       \n\n      myAudioStream = stream;\n      console.log(\"this is a audio only\");\n      audio = document.createElement('audio');\n      audio.setAttribute(\"id\", \"myAudio\");\n      audio.setAttribute(\"controls\", \"controls\");\n      audio.muted = true;\n      addMyAudio(audio, stream);\n    }\n\n    return navigator.mediaDevices.enumerateDevices();\n  }).then(gotDevices)[\"catch\"](function (err) {\n    if (video == true && audio == true) {\n      handleError(err);\n    } else {//alert(\"no media detected, please connect and try again\")\n    }\n  });\n}\n\nfunction start(video, audio, data) {\n  if (window.stream) {\n    window.stream.getTracks().forEach(function (track) {\n      track.stop();\n    });\n  }\n\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n\n  if (video == true && audio == true) {\n    var constraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: {\n        deviceId: videoSource ? {\n          exact: videoSource\n        } : undefined\n      }\n    };\n    console.log(\"connect video : start\");\n    createUserMedia(video, audio, constraints);\n  } else if (video == false && audio == true) {\n    var _constraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    console.log(\"connect audio : start\");\n    createUserMedia(video, audio, _constraints);\n  } else {//alert(\"no media detected, please connect and try again\")\n  }\n}\n\nfunction restart() {\n  /*\n     data = {\n         'id': myId,\n         'user': user,\n         'roomID': roomID,\n         'videoStream': myVideoStream\n     }\n   */\n  start(true, true, data);\n  socket.emit(\"changeMedia\", data);\n\n  if (window.stream) {\n    window.stream.getTracks().forEach(function (track) {\n      track.stop();\n    });\n  }\n\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n    console.log(\"restart\");\n    window.stream = stream; // make stream available to console\n\n    videoElement.srcObject = stream; //Register the video stream to my Stream\n\n    myVideoStream = stream;\n    data = {\n      'id': myId,\n      'user': user,\n      'roomID': roomID,\n      'videoStream': myVideoStream\n    };\n    socket.emit(\"changeMedia\", data);\n    removeElementByID(myId);\n  })[\"catch\"](handleError);\n}\n\naudioInputSelect.onchange = restart;\naudioOutputSelect.onchange = changeAudioDestination;\nvideoSelect.onchange = restart;\npeer.on('connection', function (conn) {\n  conn.on('data', function (data) {\n    console.log(\"peer connected\", data);\n  });\n  conn.on('close', function () {//alert(\"close\")\n  });\n});\npeer.on('open', function (id) {\n  console.log(\"my peer id\" + id);\n  console.log(\"my user \", user);\n  console.log(\"my room id \", roomID);\n  myId = id;\n  data = {\n    'id': id,\n    'user': user,\n    'roomID': roomID\n  };\n  socket.emit(\"newUser\", data); //start a video with audio connection width data of user\n\n  var video = true;\n  var audio = true; //start the my own video camera\n\n  start(video, audio, data);\n});\npeer.on('call', function (call) {\n  var ctr = 0;\n  console.log(\"PEER:: CALLING... for a video stream or audio stream ...\");\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n    if (stream.getAudioTracks().length == 1 && stream.getVideoTracks().length == 1) {//alert(\"stream from sender is a video 1\")\n    } else {//alert(\"stream from sender is a audio 2\")\n    }\n\n    call.answer(stream);\n    call.on('stream', function (userStream) {\n      console.log(\"recieve video from initiator\");\n\n      if (ctr == 0) {\n        if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n          //alert(\"reciever from sender is a video 5 :: (peer)\" + call.peer)\n          removeElementByID(call.peer);\n          callerElement = document.createElement('video');\n          callerElement.setAttribute(\"id\", call.peer);\n          callerElement.setAttribute(\"class\", \"peerCallBackVideo\");\n          callerElement.muted = false;\n          addVideo(callerElement, userStream);\n        } else {\n          //alert(\"reciever from sender is a audio 6 :: (peer)\" + call.peer)\n          removeElementByID(call.peer);\n          callerElement = document.createElement('audio');\n          callerElement.setAttribute(\"id\", call.peer);\n          callerElement.setAttribute(\"class\", \"peerCallBackAudio\"); //call peer\n\n          callerElement.setAttribute(\"controls\", \"controls\");\n          callerElement.muted = false;\n          addAudio(callerElement, userStream);\n        }\n      }\n\n      ctr++;\n    });\n    call.on('close', function () {\n      removeElementByID(call.peer);\n      console.log(\"user disconected\");\n    });\n  })[\"catch\"](function (error) {\n    console.log(\"recieve audio from initiator\");\n    var audioSource = audioInputSelect.value;\n    var constraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n      if (stream.getAudioTracks().length == 1 && stream.getVideoTracks().length == 1) {//alert(\"stream from sender is a video 3\")\n      } else {//alert(\"stream from sender is a audio 4\")\n      }\n\n      call.answer(stream);\n      call.on('stream', function (userStream) {\n        if (ctr == 0) {\n          if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n            //alert(\"reciever from sender is a video 7  :: (peer) \" + call.peer)\n            removeElementByID(call.peer);\n            callerElement = document.createElement('video');\n            callerElement.setAttribute(\"id\", call.peer);\n            callerElement.setAttribute(\"class\", \"peerCallBackVideo\");\n            callerElement.muted = false;\n            addVideo(callerElement, userStream);\n          } else {\n            //alert(\"reciever from sender is a audio 8 :: (peer)\" + call.peer)\n            removeElementByID(call.peer);\n            callerElement = document.createElement('audio');\n            callerElement.setAttribute(\"id\", call.peer);\n            callerElement.setAttribute(\"class\", \"peerCallBackAudio\"); //call peer\n\n            callerElement.setAttribute(\"controls\", \"controls\");\n            callerElement.muted = false;\n            addAudio(callerElement, userStream);\n          }\n        }\n\n        ctr++;\n      });\n      call.on('close', function () {\n        removeElementByID(call.peer);\n        console.log(\"user disconected\");\n      });\n    })[\"catch\"](function (error) {//alert(\"I can't send any video r audio to your contact, please check media\")\n    });\n  });\n});\npeer.on('close', function (id) {\n  document.getElementById(id).remove();\n});\nsocket.on('userJoined', function (data) {\n  console.log(\"user joined ::: calling initiator with just audio and video\", data.id);\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (mediaStream) {\n    console.log(\"user joined ::: calling initiator with just audio and video\", data.id);\n    callback = peer.call(data.id, mediaStream);\n\n    if (callback) {\n      var ctr = 0;\n      callback.on('stream', function (userStream) {\n        if (ctr == 0) {\n          if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n            removeElementByID(data.id);\n            callerElement = document.createElement('video');\n            callerElement.setAttribute(\"id\", data.id);\n            callerElement.setAttribute(\"class\", \"user_joined_peer_call_back\");\n            callerElement.muted = false;\n            addVideo(callerElement, userStream);\n          } else {\n            removeElementByID(data.id);\n            callerElement = document.createElement('audio');\n            callerElement.setAttribute(\"id\", data.id);\n            callerElement.setAttribute(\"class\", \"user_joined_peer_call_back\");\n            callerElement.setAttribute(\"controls\", \"controls\");\n            callerElement.muted = false;\n            addAudio(callerElement, userStream);\n          }\n        }\n\n        ctr++;\n      });\n      callback.on('close', function () {\n        removeElementByID(data.id);\n      });\n      callback.on('error', function (err) {\n        console.log(err);\n      });\n      peerConnections[data.id] = callback;\n    }\n  })[\"catch\"](function (error) {\n    //I have only audio, send to the audio to my peer\n    console.log(\"user joined:: I have only audio, send to the audio to my peer\", data.id);\n    var audioConstraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    navigator.mediaDevices.getUserMedia(audioConstraints).then(function (mediaCallStream) {\n      if (myVideoStream) {\n        callback = peer.call(data.id, mediaCallStream);\n      } else {\n        data = {\n          'id': myId,\n          'user': user,\n          'roomID': roomID,\n          'videoStream': mediaCallStream\n        };\n        socket.emit(\"changeMedia\", data); //never mind callback, i will call change media\n\n        callback = null;\n      }\n\n      if (callback) {\n        var ctr = 0;\n        callback.on('stream', function (userStream) {\n          if (ctr == 0) {\n            if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n              //removeElementByID(data.id);\n              callerElement = document.createElement('video');\n              callerElement.setAttribute(\"id\", data.id);\n              callerElement.setAttribute(\"class\", \"user_joined_peer_call_back\");\n              callerElement.muted = false;\n              addVideo(callerElement, userStream);\n            } else {\n              removeElementByID(data.id);\n              callerElement = document.createElement('audio');\n              callerElement.setAttribute(\"id\", data.id);\n              callerElement.setAttribute(\"class\", \"user_joined_peer_call_back\");\n              callerElement.setAttribute(\"controls\", \"controls\");\n              callerElement.muted = false;\n              addAudio(callerElement, userStream);\n            }\n          }\n\n          ctr++;\n        });\n        callback.on('close', function () {\n          removeElementByID(data.id);\n        });\n        callback.on('error', function (err) {\n          console.log(err);\n        });\n        peerConnections[data.id] = callback;\n      }\n    })[\"catch\"](function (error) {\n      //alert(\"Please connect audioinput device and try again\");\n      console.log(error);\n    });\n  });\n  /*\n  let id = data.id;\n  let roomID = data.roomID;\n  let user = data.user;\n   const callback = peer.call(id, myVideoStream);\n   console.log(\"new user joined\", data);\n    if (callback) {\n       let ctr = 0;\n      callback.on('stream', (userStream) => {\n           if (ctr == 1) {\n               removeElementByID(data.id);\n               callerElement = document.createElement('video');\n              callerElement.setAttribute(\"id\", data.id);\n              callerElement.setAttribute(\"class\", \"callerBackVideo\");\n              callerElement.muted = false;\n              addVideo(callerElement, userStream);\n          }\n          ctr++;\n      });\n       callback.on('close', () => {\n          console.log(\"closing! callback video...\")\n          removeElementByID(data.id);\n      });\n       callback.on('error', (err) => {\n          console.log(err);\n      });\n  }\n  */\n});\nsocket.on('mediaChanged', function (data) {\n  //alert(\"media change\");\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (userStream) {\n    console.log(\"mediaChanged: initiator (recieved)\");\n    callback = peer.call(data.id, userStream);\n\n    if (callback) {\n      var ctr = 0;\n      callback.on('stream', function (userStream) {\n        if (ctr == 0) {\n          console.log(\"repipient callback : video stream\");\n\n          if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n            removeElementByID(data.id);\n            callerElement = document.createElement('video');\n            callerElement.setAttribute(\"id\", callback.peer);\n            callerElement.setAttribute(\"class\", \"repipient_video_changed\");\n            callerElement.muted = false;\n            addVideo(callerElement, userStream);\n          } else {\n            removeElementByID(data.id);\n            callerElement = document.createElement('audio');\n            callerElement.setAttribute(\"id\", data.id);\n            callerElement.setAttribute(\"class\", \"repipient_audio_changed\");\n            callerElement.setAttribute(\"controls\", \"controls\");\n            callerElement.muted = false;\n            addAudio(callerElement, userStream);\n          }\n        }\n\n        ctr++;\n      });\n      callback.on('close', function () {\n        removeElementByID(data.id);\n      });\n      callback.on('error', function (err) {\n        console.log(err);\n      });\n      peerConnections[data.id] = callback;\n    }\n  })[\"catch\"](function (error) {\n    var audioConstraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    navigator.mediaDevices.getUserMedia(audioConstraints).then(function (userStream) {\n      console.log(\"initiator SENT AND AUDIO\");\n      callback = peer.call(data.id, userStream);\n\n      if (callback) {\n        var ctr = 0;\n        callback.on('stream', function (userStream) {\n          console.log(\"this is for the audio, stream of the initiator\");\n\n          if (ctr == 0) {\n            console.log(userStream.getAudioTracks().length);\n            console.log(userStream.getVideoTracks().length);\n\n            if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n              console.log(\"user sent a video\");\n              removeElementByID(callback.peer);\n              callerElement = document.createElement('video');\n              callerElement.setAttribute(\"id\", callback.peer);\n              callerElement.setAttribute(\"class\", \"callerBackVideo\");\n              callerElement.muted = false;\n              addVideo(callerElement, userStream);\n            } else {\n              console.log(\"user sent a AUDIO\");\n              removeElementByID(callback.peer);\n              callerElement = document.createElement('audio');\n              callerElement.setAttribute(\"id\", callback.peer);\n              callerElement.setAttribute(\"class\", \"callbackAudio_media\");\n              callerElement.setAttribute(\"controls\", \"controls\");\n              callerElement.muted = false;\n              addAudio(callerElement, userStream);\n            }\n          }\n\n          ctr++;\n        });\n        callback.on('close', function () {\n          removeElementByID(data.id);\n        });\n        callback.on('error', function (err) {\n          console.log(err);\n        });\n        peerConnections[data.id] = callback;\n      }\n    })[\"catch\"](function (error) {\n      //alert(\"audio only\");\n      console.log(error);\n    });\n  });\n  /*\n  let id = data.id;\n  let roomID = data.roomID;\n  let user = data.user;\n   let callback = null;\n     if (myVideoStream !== null) {\n      callback = peer.call(id, myVideoStream);\n  } else if (myAudioStream !== null) {\n      callback = peer.call(id, myAudioStream);\n  }\n   console.log(\"my video\", myVideoStream);\n  console.log(\"my video\", myAudioStream);\n     if (callback) {\n       let ctr = 0;\n       callback.on('stream', (userStream) => {\n           if (ctr == 0) {\n               console.log(userStream.getAudioTracks().length)\n              console.log(userStream.getVideoTracks().length)\n               if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n                   console.log(\"user sent a video\")\n                   removeElementByID(data.id);\n                    callerElement = document.createElement('video');\n                  callerElement.setAttribute(\"id\", data.id);\n                  callerElement.setAttribute(\"class\", \"callerBackVideo\");\n                  callerElement.muted = false;\n                   addVideo(callerElement, userStream);\n                } else {\n                   console.log(\"user sent a AUDIO\")\n                   removeElementByID(data.id);\n                    callerElement = document.createElement('audio');\n                  callerElement.setAttribute(\"id\", data.id);\n                  callerElement.setAttribute(\"class\", \"callbackAudio\");\n                  callerElement.setAttribute(\"controls\", \"controls\");\n                  callerElement.muted = false;\n                   addAudio(callerElement, userStream);\n              }\n           }\n            ctr++;\n      });\n       callback.on('close', () => {\n          removeElementByID(data.id);\n      });\n       callback.on('error', (err) => {\n          console.log(err);\n      });\n       peerConnections[data.id] = callback;\n  }\n  */\n});\nsocket.on('userDisconnect', function (id) {\n  console.log(\"userDisconnected\", id);\n  removeElementByID(id);\n\n  if (peerConnections[id]) {\n    peerConnections[id].close();\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvd2ViUlRDLmpzP2MzMGQiXSwibmFtZXMiOlsic29ja2V0IiwiaW8iLCJwZWVyIiwiUGVlciIsImluaXRpYXRvciIsInRyaWNrbGUiLCJteVZpZGVvU3RyZWFtIiwibXlBdWRpb1N0cmVhbSIsInBlZXJDb25uZWN0aW9ucyIsIm1lZGlhQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZpZGVvR3JpZCIsImF1ZGlvSW5wdXRTZWxlY3QiLCJxdWVyeVNlbGVjdG9yIiwiYXVkaW9PdXRwdXRTZWxlY3QiLCJ2aWRlb1NlbGVjdCIsInNlbGVjdG9ycyIsImRpc2FibGVkIiwiSFRNTE1lZGlhRWxlbWVudCIsInByb3RvdHlwZSIsImdvdERldmljZXMiLCJkZXZpY2VJbmZvcyIsInZhbHVlcyIsIm1hcCIsInNlbGVjdCIsInZhbHVlIiwiZm9yRWFjaCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImkiLCJsZW5ndGgiLCJkZXZpY2VJbmZvIiwib3B0aW9uIiwiY3JlYXRlRWxlbWVudCIsImRldmljZUlkIiwia2luZCIsInRleHQiLCJsYWJlbCIsImFwcGVuZENoaWxkIiwiY29uc29sZSIsImxvZyIsInNlbGVjdG9ySW5kZXgiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsImNoaWxkTm9kZXMiLCJzb21lIiwibiIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImVudW1lcmF0ZURldmljZXMiLCJ0aGVuIiwiaGFuZGxlRXJyb3IiLCJhdHRhY2hTaW5rSWQiLCJlbGVtZW50Iiwic2lua0lkIiwic2V0U2lua0lkIiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJuYW1lIiwic2VsZWN0ZWRJbmRleCIsIndhcm4iLCJjaGFuZ2VBdWRpb0Rlc3RpbmF0aW9uIiwiYXVkaW9EZXN0aW5hdGlvbiIsInZpZGVvRWxlbWVudCIsImdvdFN0cmVhbSIsInN0cmVhbSIsIndpbmRvdyIsInNyY09iamVjdCIsInZpZGVvIiwiYXVkaW8iLCJkYXRhIiwibXlJZCIsInVzZXIiLCJyb29tSUQiLCJzdGFydCIsImFkZE15QXVkaW8iLCJhZGRFdmVudExpc3RlbmVyIiwicGxheSIsImFwcGVuZCIsImFkZE15VmlkZW8iLCJhZGRBdWRpbyIsImFkZFZpZGVvIiwicmVtb3ZlRWxlbWVudEJ5SUQiLCJpZCIsInJlbW92ZSIsImNyZWF0ZVVzZXJNZWRpYSIsImNvbnN0cmFpbnRzIiwiZ2V0VXNlck1lZGlhIiwic2V0QXR0cmlidXRlIiwibXV0ZWQiLCJlcnIiLCJnZXRUcmFja3MiLCJ0cmFjayIsInN0b3AiLCJhdWRpb1NvdXJjZSIsInZpZGVvU291cmNlIiwiZXhhY3QiLCJ1bmRlZmluZWQiLCJyZXN0YXJ0IiwiZW1pdCIsIm9uY2hhbmdlIiwib24iLCJjb25uIiwiY3RyIiwiZ2V0QXVkaW9UcmFja3MiLCJnZXRWaWRlb1RyYWNrcyIsImFuc3dlciIsInVzZXJTdHJlYW0iLCJjYWxsZXJFbGVtZW50IiwibWVkaWFTdHJlYW0iLCJjYWxsYmFjayIsImF1ZGlvQ29uc3RyYWludHMiLCJtZWRpYUNhbGxTdHJlYW0iLCJjbG9zZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxJQUFNQSxNQUFNLEdBQUdDLEVBQUUsQ0FBQywwQ0FBRCxFQUE2QyxFQUE3QyxDQUFqQjtBQUVBLElBQU1DLElBQUksR0FBRyxJQUFJQyxJQUFKLENBQVM7RUFDbEJDLFNBQVMsRUFBRSxLQURPO0VBRWxCQyxPQUFPLEVBQUU7QUFGUyxDQUFULENBQWI7QUFLQTs7QUFDQSxJQUFJQyxhQUFKO0FBQ0EsSUFBSUMsYUFBSjtBQUdBLElBQU1DLGVBQWUsR0FBRyxFQUF4QjtBQUdBLElBQUlDLGNBQWMsR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLGtCQUF4QixDQUFyQjtBQUdBLElBQUlDLFNBQVMsR0FBR0YsUUFBUSxDQUFDQyxjQUFULENBQXdCLFdBQXhCLENBQWhCO0FBRUEsSUFBTUUsZ0JBQWdCLEdB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0NDLENBL09EO0FBa1BBMUQsTUFBTSxDQUFDdUcsRUFBUCxDQUFVLGdCQUFWLEVBQTRCLFVBQUFsQixFQUFFLEVBQUk7RUFFOUI3QyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWixFQUFnQzRDLEVBQWhDO0VBRUFELGlCQUFpQixDQUFDQyxFQUFELENBQWpCOztFQUVBLElBQUk3RSxlQUFlLENBQUM2RSxFQUFELENBQW5CLEVBQXlCO0lBQ3JCN0UsZUFBZSxDQUFDNkUsRUFBRCxDQUFmLENBQW9COEIsS0FBcEI7RUFDSDtBQUNKLENBVEQiLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvd2ViUlRDLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTUgVGhlIFdlYlJUQyBwcm9qZWN0IGF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgQlNELXN0eWxlIGxpY2Vuc2VcbiAqICB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IG9mIHRoZSBzb3VyY2VcbiAqICB0cmVlLlxuICovXG5cbmNvbnN0IHNvY2tldCA9IGlvKCdodHRwczovL3J0Y3NlcnZlci5lc3VjY2Vzcy1pbmMuY29tOjQwMDAyJywge30pO1xuXG5jb25zdCBwZWVyID0gbmV3IFBlZXIoe1xuICAgIGluaXRpYXRvcjogZmFsc2UsXG4gICAgdHJpY2tsZTogZmFsc2UsXG59KTtcblxuJ3VzZSBzdHJpY3QnO1xubGV0IG15VmlkZW9TdHJlYW07XG5sZXQgbXlBdWRpb1N0cmVhbTtcblxuXG5jb25zdCBwZWVyQ29ubmVjdGlvbnMgPSB7fVxuXG5cbmxldCBtZWRpYUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteU1lZGlhQ29udGFpbmVyJyk7XG5cblxubGV0IHZpZGVvR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlb0dyaWQnKTtcblxuY29uc3QgYXVkaW9JbnB1dFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCNhdWRpb1NvdXJjZScpO1xuY29uc3QgYXVkaW9PdXRwdXRTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QjYXVkaW9PdXRwdXQnKTtcbmNvbnN0IHZpZGVvU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0I3ZpZGVvU291cmNlJyk7XG5jb25zdCBzZWxlY3RvcnMgPSBbYXVkaW9JbnB1dFNlbGVjdCwgYXVkaW9PdXRwdXRTZWxlY3QsIHZpZGVvU2VsZWN0XTtcblxuYXVkaW9PdXRwdXRTZWxlY3QuZGlzYWJsZWQgPSAhKCdzaW5rSWQnIGluIEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlKTtcblxuZnVuY3Rpb24gZ290RGV2aWNlcyhkZXZpY2VJbmZvcykge1xuICAgIC8vIEhhbmRsZXMgYmVpbmcgY2FsbGVkIHNldmVyYWwgdGltZXMgdG8gdXBkYXRlIGxhYmVscy4gUHJlc2VydmUgdmFsdWVzLlxuICAgIGNvbnN0IHZhbHVlcyA9IHNlbGVjdG9ycy5tYXAoc2VsZWN0ID0+IHNlbGVjdC52YWx1ZSk7XG4gICAgc2VsZWN0b3JzLmZvckVhY2goc2VsZWN0ID0+IHtcbiAgICAgICAgd2hpbGUgKHNlbGVjdC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBzZWxlY3QucmVtb3ZlQ2hpbGQoc2VsZWN0LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGRldmljZUluZm9zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGRldmljZUluZm8gPSBkZXZpY2VJbmZvc1tpXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IGRldmljZUluZm8uZGV2aWNlSWQ7XG4gICAgICAgIGlmIChkZXZpY2VJbmZvLmtpbmQgPT09ICdhdWRpb2lucHV0Jykge1xuICAgICAgICAgICAgb3B0aW9uLnRleHQgPSBkZXZpY2VJbmZvLmxhYmVsIHx8IGBtaWNyb3Bob25lICR7YXVkaW9JbnB1dFNlbGVjdC5sZW5ndGggKyAxfWA7XG4gICAgICAgICAgICBhdWRpb0lucHV0U2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIH0gZWxzZSBpZiAoZGV2aWNlSW5mby5raW5kID09PSAnYXVkaW9vdXRwdXQnKSB7XG4gICAgICAgICAgICBvcHRpb24udGV4dCA9IGRldmljZUluZm8ubGFiZWwgfHwgYHNwZWFrZXIgJHthdWRpb091dHB1dFNlbGVjdC5sZW5ndGggKyAxfWA7XG4gICAgICAgICAgICBhdWRpb091dHB1dFNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKGRldmljZUluZm8ua2luZCA9PT0gJ3ZpZGVvaW5wdXQnKSB7XG4gICAgICAgICAgICBvcHRpb24udGV4dCA9IGRldmljZUluZm8ubGFiZWwgfHwgYGNhbWVyYSAke3ZpZGVvU2VsZWN0Lmxlbmd0aCArIDF9YDtcbiAgICAgICAgICAgIHZpZGVvU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU29tZSBvdGhlciBraW5kIG9mIHNvdXJjZS9kZXZpY2U6ICcsIGRldmljZUluZm8pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlbGVjdG9ycy5mb3JFYWNoKChzZWxlY3QsIHNlbGVjdG9ySW5kZXgpID0+IHtcbiAgICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHNlbGVjdC5jaGlsZE5vZGVzKS5zb21lKG4gPT4gbi52YWx1ZSA9PT0gdmFsdWVzW3NlbGVjdG9ySW5kZXhdKSkge1xuICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gdmFsdWVzW3NlbGVjdG9ySW5kZXhdO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbm5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oZ290RGV2aWNlcykuY2F0Y2goaGFuZGxlRXJyb3IpO1xuXG4vLyBBdHRhY2ggYXVkaW8gb3V0cHV0IGRldmljZSB0byB2aWRlbyBlbGVtZW50IHVzaW5nIGRldmljZS9zaW5rIElELlxuZnVuY3Rpb24gYXR0YWNoU2lua0lkKGVsZW1lbnQsIHNpbmtJZCkge1xuICAgIGlmICh0eXBlb2YgZWxlbWVudC5zaW5rSWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0U2lua0lkKHNpbmtJZClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2VzcywgYXVkaW8gb3V0cHV0IGRldmljZSBhdHRhY2hlZDogJHtzaW5rSWR9YCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdTZWN1cml0eUVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBgWW91IG5lZWQgdG8gdXNlIEhUVFBTIGZvciBzZWxlY3RpbmcgYXVkaW8gb3V0cHV0IGRldmljZTogJHtlcnJvcn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgLy8gSnVtcCBiYWNrIHRvIGZpcnN0IG91dHB1dCBkZXZpY2UgaW4gdGhlIGxpc3QgYXMgaXQncyB0aGUgZGVmYXVsdC5cbiAgICAgICAgICAgICAgICBhdWRpb091dHB1dFNlbGVjdC5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICAgICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IG91dHB1dCBkZXZpY2Ugc2VsZWN0aW9uLicpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2hhbmdlQXVkaW9EZXN0aW5hdGlvbigpIHtcbiAgICBjb25zdCBhdWRpb0Rlc3RpbmF0aW9uID0gYXVkaW9PdXRwdXRTZWxlY3QudmFsdWU7XG4gICAgYXR0YWNoU2lua0lkKHZpZGVvRWxlbWVudCwgYXVkaW9EZXN0aW5hdGlvbik7XG59XG5cbmZ1bmN0aW9uIGdvdFN0cmVhbShzdHJlYW0pIHtcbiAgICB3aW5kb3cuc3RyZWFtID0gc3RyZWFtOyAvLyBtYWtlIHN0cmVhbSBhdmFpbGFibGUgdG8gY29uc29sZVxuICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBzdHJlYW07XG5cbiAgICAvL1JlZ2lzdGVyIHRoZSB2aWRlbyBzdHJlYW0gdG8gbXkgU3RyZWFtXG4gICAgbXlWaWRlb1N0cmVhbSA9IHN0cmVhbTtcblxuICAgIC8vIFJlZnJlc2ggYnV0dG9uIGxpc3QgaW4gY2FzZSBsYWJlbHMgaGF2ZSBiZWNvbWUgYXZhaWxhYmxlXG4gICAgcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnJvcikge1xuICAgIC8vc3RhcnQgYSB2aWRlbyB3aXRoIGF1ZGlvIGNvbm5lY3Rpb24gd2lkdGggZGF0YSBvZiB1c2VyXG4gICAgbGV0IHZpZGVvID0gZmFsc2U7XG4gICAgbGV0IGF1ZGlvID0gdHJ1ZTtcblxuXG4gICAgLy9zdGFydCBhdWRpb1xuICAgIGRhdGEgPSB7XG4gICAgICAgICdpZCc6IG15SWQsXG4gICAgICAgICd1c2VyJzogdXNlcixcbiAgICAgICAgJ3Jvb21JRCc6IHJvb21JRFxuICAgIH1cbiAgICBzdGFydCh2aWRlbywgYXVkaW8sIGRhdGEpO1xufVxuXG5cbmZ1bmN0aW9uIGFkZE15QXVkaW8oYXVkaW8sIHN0cmVhbSkge1xuICAgIGF1ZGlvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpID0+IHtcbiAgICAgICAgYXVkaW8ucGxheSgpXG4gICAgfSlcbiAgICBtZWRpYUNvbnRhaW5lci5hcHBlbmQoYXVkaW8pO1xufVxuXG5cbmZ1bmN0aW9uIGFkZE15VmlkZW8odmlkZW8sIHN0cmVhbSkge1xuICAgIHZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpID0+IHtcbiAgICAgICAgdmlkZW8ucGxheSgpXG4gICAgfSlcbiAgICBtZWRpYUNvbnRhaW5lci5hcHBlbmQodmlkZW8pO1xufVxuXG5cbmZ1bmN0aW9uIGFkZEF1ZGlvKGF1ZGlvLCBzdHJlYW0pIHtcbiAgICBhdWRpby5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKSA9PiB7XG4gICAgICAgIGF1ZGlvLnBsYXkoKVxuICAgIH0pXG4gICAgdmlkZW9HcmlkLmFwcGVuZChhdWRpbyk7XG59XG5cbmZ1bmN0aW9uIGFkZFZpZGVvKHZpZGVvLCBzdHJlYW0pIHtcbiAgICB2aWRlby5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKSA9PiB7XG4gICAgICAgIHZpZGVvLnBsYXkoKVxuICAgIH0pXG4gICAgdmlkZW9HcmlkLmFwcGVuZCh2aWRlbyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnRCeUlEKGlkKSB7XG4gICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVzZXJNZWRpYSh2aWRlbywgYXVkaW8sIGNvbnN0cmFpbnRzKSB7XG5cbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbigoc3RyZWFtKSA9PiB7XG5cbiAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoXCJteVZpZGVvXCIpO1xuICAgICAgICByZW1vdmVFbGVtZW50QnlJRChcIm15QXVkaW9cIik7XG5cbiAgICAgICAgaWYgKGF1ZGlvID09IHRydWUgJiYgdmlkZW8gPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICBteUF1ZGlvU3RyZWFtID0gbnVsbDtcblxuICAgICAgICAgICAgLy9SZWdpc3RlciB0aGUgdmlkZW8gc3RyZWFtIHRvIG15IFN0cmVhbVxuICAgICAgICAgICAgbXlWaWRlb1N0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgICAgIHdpbmRvdy5zdHJlYW0gPSBzdHJlYW07IC8vIG1ha2Ugc3RyZWFtIGF2YWlsYWJsZSB0byBjb25zb2xlICAgICAgIFxuXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBhIHZpZGVvXCIpO1xuXG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibXlWaWRlb1wiKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5tdXRlZCA9IHRydWU7XG4gICAgICAgICAgICBhZGRNeVZpZGVvKHZpZGVvRWxlbWVudCwgc3RyZWFtKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG5cbiAgICAgICAgICAgIC8vUmVnaXN0ZXIgdGhlIHZpZGVvIHN0cmVhbSB0byBteSBTdHJlYW1cbiAgICAgICAgICAgIG15VmlkZW9TdHJlYW0gPSBudWxsO1xuXG4gICAgICAgICAgICB3aW5kb3cuc3RyZWFtID0gc3RyZWFtOyAvLyBtYWtlIHN0cmVhbSBhdmFpbGFibGUgdG8gY29uc29sZSAgICAgICBcbiAgICAgICAgICAgIG15QXVkaW9TdHJlYW0gPSBzdHJlYW07XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBhIGF1ZGlvIG9ubHlcIilcblxuICAgICAgICAgICAgYXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgYXVkaW8uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJteUF1ZGlvXCIpO1xuICAgICAgICAgICAgYXVkaW8uc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIiwgXCJjb250cm9sc1wiKTtcbiAgICAgICAgICAgIGF1ZGlvLm11dGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgYWRkTXlBdWRpbyhhdWRpbywgc3RyZWFtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcblxuXG4gICAgfSkudGhlbihnb3REZXZpY2VzKS5jYXRjaCgoZXJyKSA9PiB7XG5cbiAgICAgICAgaWYgKHZpZGVvID09IHRydWUgJiYgYXVkaW8gPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIC8vYWxlcnQoXCJubyBtZWRpYSBkZXRlY3RlZCwgcGxlYXNlIGNvbm5lY3QgYW5kIHRyeSBhZ2FpblwiKVxuICAgICAgICB9XG4gICAgfSk7XG5cblxufVxuXG5mdW5jdGlvbiBzdGFydCh2aWRlbywgYXVkaW8sIGRhdGEpIHtcblxuICAgIGlmICh3aW5kb3cuc3RyZWFtKSB7XG5cbiAgICAgICAgd2luZG93LnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGF1ZGlvU291cmNlID0gYXVkaW9JbnB1dFNlbGVjdC52YWx1ZTtcbiAgICBjb25zdCB2aWRlb1NvdXJjZSA9IHZpZGVvU2VsZWN0LnZhbHVlO1xuXG4gICAgaWYgKHZpZGVvID09IHRydWUgJiYgYXVkaW8gPT0gdHJ1ZSkge1xuXG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgdmlkZW86IHsgZGV2aWNlSWQ6IHZpZGVvU291cmNlID8geyBleGFjdDogdmlkZW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0IHZpZGVvIDogc3RhcnRcIilcblxuICAgICAgICBjcmVhdGVVc2VyTWVkaWEodmlkZW8sIGF1ZGlvLCBjb25zdHJhaW50cylcblxuICAgIH0gZWxzZSBpZiAodmlkZW8gPT0gZmFsc2UgJiYgYXVkaW8gPT0gdHJ1ZSkge1xuXG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgdmlkZW86IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0IGF1ZGlvIDogc3RhcnRcIilcbiAgICAgICAgY3JlYXRlVXNlck1lZGlhKHZpZGVvLCBhdWRpbywgY29uc3RyYWludHMpXG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vYWxlcnQoXCJubyBtZWRpYSBkZXRlY3RlZCwgcGxlYXNlIGNvbm5lY3QgYW5kIHRyeSBhZ2FpblwiKVxuICAgIH1cblxufVxuXG5mdW5jdGlvbiByZXN0YXJ0KCkge1xuXG4gICAgLypcbiAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAnaWQnOiBteUlkLFxuICAgICAgICAgICAndXNlcic6IHVzZXIsXG4gICAgICAgICAgICdyb29tSUQnOiByb29tSUQsXG4gICAgICAgICAgICd2aWRlb1N0cmVhbSc6IG15VmlkZW9TdHJlYW1cbiAgICAgICB9XG5cbiAgICAqL1xuXG4gICAgc3RhcnQodHJ1ZSwgdHJ1ZSwgZGF0YSk7XG5cblxuICAgIHNvY2tldC5lbWl0KFwiY2hhbmdlTWVkaWFcIiwgZGF0YSk7XG5cblxuXG5cbiAgICBpZiAod2luZG93LnN0cmVhbSkge1xuICAgICAgICB3aW5kb3cuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBhdWRpb1NvdXJjZSA9IGF1ZGlvSW5wdXRTZWxlY3QudmFsdWU7XG4gICAgY29uc3QgdmlkZW9Tb3VyY2UgPSB2aWRlb1NlbGVjdC52YWx1ZTtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHtcbiAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICB2aWRlbzogeyBkZXZpY2VJZDogdmlkZW9Tb3VyY2UgPyB7IGV4YWN0OiB2aWRlb1NvdXJjZSB9IDogdW5kZWZpbmVkIH1cbiAgICB9O1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKChzdHJlYW0pID0+IHtcblxuICAgICAgICBjb25zb2xlLmxvZyhcInJlc3RhcnRcIilcblxuXG4gICAgICAgIHdpbmRvdy5zdHJlYW0gPSBzdHJlYW07IC8vIG1ha2Ugc3RyZWFtIGF2YWlsYWJsZSB0byBjb25zb2xlXG4gICAgICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBzdHJlYW07XG5cbiAgICAgICAgLy9SZWdpc3RlciB0aGUgdmlkZW8gc3RyZWFtIHRvIG15IFN0cmVhbVxuICAgICAgICBteVZpZGVvU3RyZWFtID0gc3RyZWFtO1xuXG4gICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgICAnaWQnOiBteUlkLFxuICAgICAgICAgICAgJ3VzZXInOiB1c2VyLFxuICAgICAgICAgICAgJ3Jvb21JRCc6IHJvb21JRCxcbiAgICAgICAgICAgICd2aWRlb1N0cmVhbSc6IG15VmlkZW9TdHJlYW1cbiAgICAgICAgfVxuXG5cblxuICAgICAgICBzb2NrZXQuZW1pdChcImNoYW5nZU1lZGlhXCIsIGRhdGEpO1xuXG4gICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKG15SWQpO1xuXG5cbiAgICB9KS5jYXRjaChoYW5kbGVFcnJvcik7XG5cbn1cblxuYXVkaW9JbnB1dFNlbGVjdC5vbmNoYW5nZSA9IHJlc3RhcnQ7XG5hdWRpb091dHB1dFNlbGVjdC5vbmNoYW5nZSA9IGNoYW5nZUF1ZGlvRGVzdGluYXRpb247XG52aWRlb1NlbGVjdC5vbmNoYW5nZSA9IHJlc3RhcnQ7XG5cblxuXG5cbnBlZXIub24oJ2Nvbm5lY3Rpb24nLCBmdW5jdGlvbihjb25uKSB7XG4gICAgY29ubi5vbignZGF0YScsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJwZWVyIGNvbm5lY3RlZFwiLCBkYXRhKVxuICAgIH0pO1xuICAgIGNvbm4ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAvL2FsZXJ0KFwiY2xvc2VcIilcbiAgICB9KTtcbn0pO1xuXG5wZWVyLm9uKCdvcGVuJywgKGlkKSA9PiB7XG5cbiAgICBjb25zb2xlLmxvZyhcIm15IHBlZXIgaWRcIiArIGlkKVxuICAgIGNvbnNvbGUubG9nKFwibXkgdXNlciBcIiwgdXNlcilcbiAgICBjb25zb2xlLmxvZyhcIm15IHJvb20gaWQgXCIsIHJvb21JRClcblxuICAgIG15SWQgPSBpZDtcblxuICAgIGRhdGEgPSB7XG4gICAgICAgICdpZCc6IGlkLFxuICAgICAgICAndXNlcic6IHVzZXIsXG4gICAgICAgICdyb29tSUQnOiByb29tSURcbiAgICB9XG5cbiAgICBzb2NrZXQuZW1pdChcIm5ld1VzZXJcIiwgZGF0YSk7XG5cbiAgICAvL3N0YXJ0IGEgdmlkZW8gd2l0aCBhdWRpbyBjb25uZWN0aW9uIHdpZHRoIGRhdGEgb2YgdXNlclxuICAgIGxldCB2aWRlbyA9IHRydWU7XG4gICAgbGV0IGF1ZGlvID0gdHJ1ZTtcblxuICAgIC8vc3RhcnQgdGhlIG15IG93biB2aWRlbyBjYW1lcmFcblxuICAgIHN0YXJ0KHZpZGVvLCBhdWRpbywgZGF0YSlcblxufSk7XG5cblxuXG5wZWVyLm9uKCdjYWxsJywgY2FsbCA9PiB7XG5cbiAgICBsZXQgY3RyID0gMDtcblxuICAgIGNvbnNvbGUubG9nKFwiUEVFUjo6IENBTExJTkcuLi4gZm9yIGEgdmlkZW8gc3RyZWFtIG9yIGF1ZGlvIHN0cmVhbSAuLi5cIik7XG5cblxuXG4gICAgY29uc3QgYXVkaW9Tb3VyY2UgPSBhdWRpb0lucHV0U2VsZWN0LnZhbHVlO1xuICAgIGNvbnN0IHZpZGVvU291cmNlID0gdmlkZW9TZWxlY3QudmFsdWU7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB7XG4gICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgdmlkZW86IHsgZGV2aWNlSWQ6IHZpZGVvU291cmNlID8geyBleGFjdDogdmlkZW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9XG4gICAgfTtcblxuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKChzdHJlYW0pID0+IHtcblxuICAgICAgICBpZiAoc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoID09IDEgJiYgc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIC8vYWxlcnQoXCJzdHJlYW0gZnJvbSBzZW5kZXIgaXMgYSB2aWRlbyAxXCIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL2FsZXJ0KFwic3RyZWFtIGZyb20gc2VuZGVyIGlzIGEgYXVkaW8gMlwiKVxuICAgICAgICB9XG5cblxuICAgICAgICBjYWxsLmFuc3dlcihzdHJlYW0pO1xuXG4gICAgICAgIGNhbGwub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVjaWV2ZSB2aWRlbyBmcm9tIGluaXRpYXRvclwiKTtcblxuICAgICAgICAgICAgaWYgKGN0ciA9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlclN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCA9PSAxICYmIHVzZXJTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPT0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoXCJyZWNpZXZlciBmcm9tIHNlbmRlciBpcyBhIHZpZGVvIDUgOjogKHBlZXIpXCIgKyBjYWxsLnBlZXIpXG5cbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBlZXJDYWxsQmFja1ZpZGVvXCIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgYWRkVmlkZW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuXG4gICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoXCJyZWNpZXZlciBmcm9tIHNlbmRlciBpcyBhIGF1ZGlvIDYgOjogKHBlZXIpXCIgKyBjYWxsLnBlZXIpXG5cbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBlZXJDYWxsQmFja0F1ZGlvXCIpOyAvL2NhbGwgcGVlclxuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsIFwiY29udHJvbHNcIik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQubXV0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBhZGRBdWRpbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0cisrXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhbGwub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoY2FsbC5wZWVyKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBkaXNjb25lY3RlZFwiKVxuICAgICAgICB9KTtcblxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVjaWV2ZSBhdWRpbyBmcm9tIGluaXRpYXRvclwiKTtcblxuICAgICAgICBjb25zdCBhdWRpb1NvdXJjZSA9IGF1ZGlvSW5wdXRTZWxlY3QudmFsdWU7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgdmlkZW86IGZhbHNlLFxuICAgICAgICB9O1xuXG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKChzdHJlYW0pID0+IHtcblxuICAgICAgICAgICAgaWYgKHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCA9PSAxICYmIHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCA9PSAxKSB7XG5cbiAgICAgICAgICAgICAgICAvL2FsZXJ0KFwic3RyZWFtIGZyb20gc2VuZGVyIGlzIGEgdmlkZW8gM1wiKVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgLy9hbGVydChcInN0cmVhbSBmcm9tIHNlbmRlciBpcyBhIGF1ZGlvIDRcIilcblxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGNhbGwuYW5zd2VyKHN0cmVhbSk7XG5cbiAgICAgICAgICAgIGNhbGwub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3RyID09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlclN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCA9PSAxICYmIHVzZXJTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPT0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwicmVjaWV2ZXIgZnJvbSBzZW5kZXIgaXMgYSB2aWRlbyA3ICA6OiAocGVlcikgXCIgKyBjYWxsLnBlZXIpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJwZWVyQ2FsbEJhY2tWaWRlb1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQubXV0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVmlkZW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoXCJyZWNpZXZlciBmcm9tIHNlbmRlciBpcyBhIGF1ZGlvIDggOjogKHBlZXIpXCIgKyBjYWxsLnBlZXIpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJwZWVyQ2FsbEJhY2tBdWRpb1wiKTsgLy9jYWxsIHBlZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIiwgXCJjb250cm9sc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQubXV0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdHIrK1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhbGwub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1c2VyIGRpc2NvbmVjdGVkXCIpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIC8vYWxlcnQoXCJJIGNhbid0IHNlbmQgYW55IHZpZGVvIHIgYXVkaW8gdG8geW91ciBjb250YWN0LCBwbGVhc2UgY2hlY2sgbWVkaWFcIilcbiAgICAgICAgfSk7XG5cblxuICAgIH0pO1xuXG5cblxuXG59KTtcblxucGVlci5vbignY2xvc2UnLCAoaWQpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkucmVtb3ZlKCk7XG59KTtcblxuXG5zb2NrZXQub24oJ3VzZXJKb2luZWQnLCAoZGF0YSkgPT4ge1xuXG5cbiAgICBjb25zb2xlLmxvZyhcInVzZXIgam9pbmVkIDo6OiBjYWxsaW5nIGluaXRpYXRvciB3aXRoIGp1c3QgYXVkaW8gYW5kIHZpZGVvXCIsIGRhdGEuaWQpO1xuXG4gICAgY29uc3QgYXVkaW9Tb3VyY2UgPSBhdWRpb0lucHV0U2VsZWN0LnZhbHVlO1xuICAgIGNvbnN0IHZpZGVvU291cmNlID0gdmlkZW9TZWxlY3QudmFsdWU7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB7XG4gICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgdmlkZW86IHsgZGV2aWNlSWQ6IHZpZGVvU291cmNlID8geyBleGFjdDogdmlkZW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9XG4gICAgfTtcblxuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKChtZWRpYVN0cmVhbSkgPT4ge1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBqb2luZWQgOjo6IGNhbGxpbmcgaW5pdGlhdG9yIHdpdGgganVzdCBhdWRpbyBhbmQgdmlkZW9cIiwgZGF0YS5pZCk7XG5cbiAgICAgICAgY2FsbGJhY2sgPSBwZWVyLmNhbGwoZGF0YS5pZCwgbWVkaWFTdHJlYW0pO1xuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuXG4gICAgICAgICAgICBsZXQgY3RyID0gMDtcblxuICAgICAgICAgICAgY2FsbGJhY2sub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3RyID09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlclN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCA9PSAxICYmIHVzZXJTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPT0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChkYXRhLmlkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInVzZXJfam9pbmVkX3BlZXJfY2FsbF9iYWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRWaWRlbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidXNlcl9qb2luZWRfcGVlcl9jYWxsX2JhY2tcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsIFwiY29udHJvbHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEF1ZGlvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGN0cisrO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChkYXRhLmlkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYWxsYmFjay5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbnNbZGF0YS5pZF0gPSBjYWxsYmFjaztcbiAgICAgICAgfVxuXG5cbiAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcblxuICAgICAgICAvL0kgaGF2ZSBvbmx5IGF1ZGlvLCBzZW5kIHRvIHRoZSBhdWRpbyB0byBteSBwZWVyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBqb2luZWQ6OiBJIGhhdmUgb25seSBhdWRpbywgc2VuZCB0byB0aGUgYXVkaW8gdG8gbXkgcGVlclwiLCBkYXRhLmlkKTtcblxuXG5cbiAgICAgICAgY29uc3QgYXVkaW9Db25zdHJhaW50cyA9IHtcbiAgICAgICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgIHZpZGVvOiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShhdWRpb0NvbnN0cmFpbnRzKS50aGVuKChtZWRpYUNhbGxTdHJlYW0pID0+IHtcblxuICAgICAgICAgICAgaWYgKG15VmlkZW9TdHJlYW0pIHtcblxuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBwZWVyLmNhbGwoZGF0YS5pZCwgbWVkaWFDYWxsU3RyZWFtKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICdpZCc6IG15SWQsXG4gICAgICAgICAgICAgICAgICAgICd1c2VyJzogdXNlcixcbiAgICAgICAgICAgICAgICAgICAgJ3Jvb21JRCc6IHJvb21JRCxcbiAgICAgICAgICAgICAgICAgICAgJ3ZpZGVvU3RyZWFtJzogbWVkaWFDYWxsU3RyZWFtXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoXCJjaGFuZ2VNZWRpYVwiLCBkYXRhKTtcblxuICAgICAgICAgICAgICAgIC8vbmV2ZXIgbWluZCBjYWxsYmFjaywgaSB3aWxsIGNhbGwgY2hhbmdlIG1lZGlhXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuXG4gICAgICAgICAgICAgICAgbGV0IGN0ciA9IDA7XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjay5vbignc3RyZWFtJywgKHVzZXJTdHJlYW0pID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3RyID09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiB1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ1c2VyX2pvaW5lZF9wZWVyX2NhbGxfYmFja1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRWaWRlbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ1c2VyX2pvaW5lZF9wZWVyX2NhbGxfYmFja1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsIFwiY29udHJvbHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgY3RyKys7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjay5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25zW2RhdGEuaWRdID0gY2FsbGJhY2s7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcblxuICAgICAgICAgICAgLy9hbGVydChcIlBsZWFzZSBjb25uZWN0IGF1ZGlvaW5wdXQgZGV2aWNlIGFuZCB0cnkgYWdhaW5cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICAgIC8qXG4gICAgbGV0IGlkID0gZGF0YS5pZDtcbiAgICBsZXQgcm9vbUlEID0gZGF0YS5yb29tSUQ7XG4gICAgbGV0IHVzZXIgPSBkYXRhLnVzZXI7XG5cbiAgICBjb25zdCBjYWxsYmFjayA9IHBlZXIuY2FsbChpZCwgbXlWaWRlb1N0cmVhbSk7XG5cbiAgICBjb25zb2xlLmxvZyhcIm5ldyB1c2VyIGpvaW5lZFwiLCBkYXRhKTtcblxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG5cbiAgICAgICAgbGV0IGN0ciA9IDA7XG4gICAgICAgIGNhbGxiYWNrLm9uKCdzdHJlYW0nLCAodXNlclN0cmVhbSkgPT4ge1xuXG4gICAgICAgICAgICBpZiAoY3RyID09IDEpIHtcblxuICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuXG4gICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FsbGVyQmFja1ZpZGVvXCIpO1xuICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQubXV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhZGRWaWRlbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0cisrO1xuICAgICAgICB9KTtcblxuICAgICAgICBjYWxsYmFjay5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNsb3NpbmchIGNhbGxiYWNrIHZpZGVvLi4uXCIpXG4gICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChkYXRhLmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2FsbGJhY2sub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgICovXG5cbn0pO1xuXG5cbnNvY2tldC5vbignbWVkaWFDaGFuZ2VkJywgKGRhdGEpID0+IHtcblxuXG4gICAgLy9hbGVydChcIm1lZGlhIGNoYW5nZVwiKTtcblxuICAgIGNvbnN0IGF1ZGlvU291cmNlID0gYXVkaW9JbnB1dFNlbGVjdC52YWx1ZTtcbiAgICBjb25zdCB2aWRlb1NvdXJjZSA9IHZpZGVvU2VsZWN0LnZhbHVlO1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICBhdWRpbzogeyBkZXZpY2VJZDogYXVkaW9Tb3VyY2UgPyB7IGV4YWN0OiBhdWRpb1NvdXJjZSB9IDogdW5kZWZpbmVkIH0sXG4gICAgICAgIHZpZGVvOiB7IGRldmljZUlkOiB2aWRlb1NvdXJjZSA/IHsgZXhhY3Q6IHZpZGVvU291cmNlIH0gOiB1bmRlZmluZWQgfVxuICAgIH07XG5cbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbigodXNlclN0cmVhbSkgPT4ge1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwibWVkaWFDaGFuZ2VkOiBpbml0aWF0b3IgKHJlY2lldmVkKVwiKVxuXG4gICAgICAgIGNhbGxiYWNrID0gcGVlci5jYWxsKGRhdGEuaWQsIHVzZXJTdHJlYW0pO1xuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuXG4gICAgICAgICAgICBsZXQgY3RyID0gMDtcblxuICAgICAgICAgICAgY2FsbGJhY2sub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3RyID09IDApIHtcblxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVwaXBpZW50IGNhbGxiYWNrIDogdmlkZW8gc3RyZWFtXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoID09IDEgJiYgdXNlclN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCA9PSAxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgY2FsbGJhY2sucGVlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicmVwaXBpZW50X3ZpZGVvX2NoYW5nZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJyZXBpcGllbnRfYXVkaW9fY2hhbmdlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIiwgXCJjb250cm9sc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQubXV0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgY3RyKys7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FsbGJhY2sub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uc1tkYXRhLmlkXSA9IGNhbGxiYWNrO1xuICAgICAgICB9XG5cblxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuXG4gICAgICAgIGNvbnN0IGF1ZGlvQ29uc3RyYWludHMgPSB7XG4gICAgICAgICAgICBhdWRpbzogeyBkZXZpY2VJZDogYXVkaW9Tb3VyY2UgPyB7IGV4YWN0OiBhdWRpb1NvdXJjZSB9IDogdW5kZWZpbmVkIH0sXG4gICAgICAgICAgICB2aWRlbzogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoYXVkaW9Db25zdHJhaW50cykudGhlbigodXNlclN0cmVhbSkgPT4ge1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImluaXRpYXRvciBTRU5UIEFORCBBVURJT1wiKVxuXG4gICAgICAgICAgICBjYWxsYmFjayA9IHBlZXIuY2FsbChkYXRhLmlkLCB1c2VyU3RyZWFtKTtcblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgY3RyID0gMDtcblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLm9uKCdzdHJlYW0nLCAodXNlclN0cmVhbSkgPT4ge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIGZvciB0aGUgYXVkaW8sIHN0cmVhbSBvZiB0aGUgaW5pdGlhdG9yXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdHIgPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlclN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aClcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiB1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBzZW50IGEgdmlkZW9cIilcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGxiYWNrLnBlZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBjYWxsYmFjay5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FsbGVyQmFja1ZpZGVvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQubXV0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInVzZXIgc2VudCBhIEFVRElPXCIpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChjYWxsYmFjay5wZWVyKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBjYWxsYmFjay5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FsbGJhY2tBdWRpb19tZWRpYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsIFwiY29udHJvbHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgY3RyKys7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjay5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25zW2RhdGEuaWRdID0gY2FsbGJhY2s7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcblxuICAgICAgICAgICAgLy9hbGVydChcImF1ZGlvIG9ubHlcIik7XG5cblxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuXG5cbiAgICAvKlxuICAgIGxldCBpZCA9IGRhdGEuaWQ7XG4gICAgbGV0IHJvb21JRCA9IGRhdGEucm9vbUlEO1xuICAgIGxldCB1c2VyID0gZGF0YS51c2VyO1xuXG4gICAgbGV0IGNhbGxiYWNrID0gbnVsbDtcblxuXG5cbiAgICBpZiAobXlWaWRlb1N0cmVhbSAhPT0gbnVsbCkge1xuICAgICAgICBjYWxsYmFjayA9IHBlZXIuY2FsbChpZCwgbXlWaWRlb1N0cmVhbSk7XG4gICAgfSBlbHNlIGlmIChteUF1ZGlvU3RyZWFtICE9PSBudWxsKSB7XG4gICAgICAgIGNhbGxiYWNrID0gcGVlci5jYWxsKGlkLCBteUF1ZGlvU3RyZWFtKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcIm15IHZpZGVvXCIsIG15VmlkZW9TdHJlYW0pO1xuICAgIGNvbnNvbGUubG9nKFwibXkgdmlkZW9cIiwgbXlBdWRpb1N0cmVhbSk7XG5cblxuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG5cbiAgICAgICAgbGV0IGN0ciA9IDA7XG5cbiAgICAgICAgY2FsbGJhY2sub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgIGlmIChjdHIgPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codXNlclN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKVxuXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiB1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInVzZXIgc2VudCBhIHZpZGVvXCIpXG5cbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG5cblxuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhbGxlckJhY2tWaWRlb1wiKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBzZW50IGEgQVVESU9cIilcblxuICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChkYXRhLmlkKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FsbGJhY2tBdWRpb1wiKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgY3RyKys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhbGxiYWNrLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjYWxsYmFjay5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwZWVyQ29ubmVjdGlvbnNbZGF0YS5pZF0gPSBjYWxsYmFjaztcbiAgICB9XG4gICAgKi9cbn0pO1xuXG5cbnNvY2tldC5vbigndXNlckRpc2Nvbm5lY3QnLCBpZCA9PiB7XG5cbiAgICBjb25zb2xlLmxvZyhcInVzZXJEaXNjb25uZWN0ZWRcIiwgaWQpO1xuXG4gICAgcmVtb3ZlRWxlbWVudEJ5SUQoaWQpO1xuXG4gICAgaWYgKHBlZXJDb25uZWN0aW9uc1tpZF0pIHtcbiAgICAgICAgcGVlckNvbm5lY3Rpb25zW2lkXS5jbG9zZSgpO1xuICAgIH1cbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/webRTC.js\n");

/***/ }),

/***/ 7:
/*!**************************************!*\
  !*** multi ./resources/js/webRTC.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /var/www/html/esi_development/resources/js/webRTC.js */"./resources/js/webRTC.js");


/***/ })

/******/ });