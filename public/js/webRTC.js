/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 7);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./resources/js/webRTC.js":
/*!********************************!*\
  !*** ./resources/js/webRTC.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var socket = io('https://rtcserver.esuccess-inc.com:40002', {});\nvar peer = new Peer();\nvar myVideoStream;\nvar myId;\nvar videoGrid = document.getElementById('videoGrid');\nvar myvideo = document.createElement('video');\nmyvideo.setAttribute(\"id\", \"myVideo\");\nvar mySharedVideo = document.createElement('video');\nmySharedVideo.setAttribute(\"id\", \"sharedVideo\");\nvar isSharedVideo = false;\nmyvideo.muted = true;\nvar peerConnections = {};\nsocket.on(\"connect\", function () {\n  console.log(\"socket created \" + socket.id);\n  createUserMedia();\n});\npeer.on('open', function (id) {\n  console.log(\"my peer id\" + id);\n  myId = id;\n  socket.emit(\"newUser\", id, roomID);\n});\npeer.on('error', function (err) {\n  console.log(err + \" : \" + err.type);\n});\nsocket.on('userShared', function (roomID, stream) {\n  /*\n  console.log(\"user shared :\" + myId);\n  const call = peer.call(myId, stream);\n   call.on(\"stream\", (remoteStream) => {\n      // Show stream in some <video> element.\n  });\n  */\n});\n\nfunction createUserMedia() {\n  console.log(\"my media created!\");\n  navigator.mediaDevices.getUserMedia({\n    video: true,\n    audio: false\n  }).then(function (stream) {\n    myVideoStream = stream;\n    var vid = document.createElement('video');\n    vid.setAttribute(\"id\", \"callerVideo\");\n    addVideo(myvideo, myVideoStream);\n    peer.on('connection', function (conn) {\n      conn.on('data', function (isSharedScreen) {\n        if (isSharedScreen == true) {\n          vid = document.createElement('video');\n          vid.setAttribute(\"id\", \"sharedVideo\");\n        } else {\n          stopSharing();\n          return false;\n        }\n\n        console.log(isSharedScreen);\n      });\n    });\n    peer.on('close', function (conn) {\n      console.log(\"close\");\n    });\n    peer.on('call', function (call) {\n      console.log(\"called\");\n      call.answer(stream);\n      call.on('stream', function (userStream) {\n        addVideo(vid, userStream);\n      });\n      call.on('finish', function () {\n        console.log(\"called finish\");\n      });\n      call.on('error', function (err) {\n        alert(err);\n      });\n      call.on(\"close\", function () {\n        console.log(vid);\n        vid.remove();\n      });\n      peerConnections[call.peer] = call;\n    });\n  })[\"catch\"](function (err) {\n    alert(err.message);\n  });\n} //user end stop sharing\n\n\nfunction stopSharing() {\n  document.getElementById(\"sharedVideo\").remove();\n}\n\nfunction shareScreen() {\n  navigator.mediaDevices.getDisplayMedia({\n    video: true,\n    audio: true\n  }).then(function (stream) {\n    sharedScreen = stream; //The screen record is stopped by myself\n\n    sharedScreen.getVideoTracks()[0].onended = function () {\n      document.getElementById(\"sharedVideo\").remove(); //send this shared screen false to stop peer\n\n      Object.keys(peerConnections).forEach(function (peerID) {\n        var conn = peer.connect(peerID);\n        conn.on('open', function () {\n          var isSharedScreen = false;\n          conn.send(isSharedScreen);\n        });\n      });\n    }; //Connect to peers\n\n\n    Object.keys(peerConnections).forEach(function (peerID) {\n      //connect and send\n      var conn = peer.connect(peerID);\n      conn.on('open', function () {\n        var isSharedScreen = true;\n        conn.send(isSharedScreen);\n        var vid = document.createElement('video');\n        vid.setAttribute(\"id\", \"vid\");\n        var newcall = peer.call(peerID, sharedScreen);\n        newcall.on('error', function (err) {\n          console.log(err);\n        });\n        newcall.on('stream', function (userStream) {// addVideo(vid, userStream);\n        });\n        newcall.on('close', function () {\n          vid.remove();\n          console.log(\"user disconect\");\n        });\n      });\n    });\n    replaceVideo(mySharedVideo, sharedScreen); //socket.emit(\"userShare\", roomID, sharedScreen);\n  });\n}\n\nsocket.on('userJoined', function (id) {\n  console.log(\"new user joined\", id);\n  var call = peer.call(id, myVideoStream);\n  var vid = document.createElement('video');\n  vid.setAttribute(\"id\", \"userVid\");\n  call.on('error', function (err) {\n    console.log(err);\n  });\n  call.on('stream', function (userStream) {\n    addVideo(vid, userStream);\n  });\n  call.on('close', function () {\n    vid.remove();\n    console.log(\"user disconect\");\n  });\n  peerConnections[id] = call;\n});\nsocket.on('userDisconnect', function (id) {\n  if (peerConnections[id]) {\n    peerConnections[id].close();\n  }\n});\n\nfunction replaceVideo(video, stream) {\n  video.srcObject = stream;\n  video.addEventListener('loadedmetadata', function () {\n    video.play();\n  });\n  videoGrid.append(video);\n}\n\nfunction addVideo(video, stream) {\n  video.srcObject = stream;\n  video.addEventListener('loadedmetadata', function () {\n    video.play();\n  });\n  videoGrid.append(video);\n}\n\nfunction stopCam() {\n  //myVideoStream.getVideoTracks().forEach(track => track.stop());\n  myVideoStream.getVideoTracks().forEach(function (track) {\n    if (track.readyState == 'live') {\n      track.stop();\n    } else {\n      console.log(\"video broadcasting live\");\n    }\n  });\n  myVideoStream.getTracks().forEach(function (track) {\n    if (track.readyState == 'live') {\n      track.stop();\n    } else {\n      console.log(\"audio not broadcasting live\");\n    }\n  });\n} // stop only camera\n\n\nfunction stopVideoOnly(stream) {\n  stream.getTracks().forEach(function (track) {\n    if (track.readyState == 'live' && track.kind === 'video') {\n      track.stop();\n    }\n  });\n} // stop only mic\n\n\nfunction stopAudioOnly(stream) {\n  stream.getTracks().forEach(function (track) {\n    if (track.readyState == 'live' && track.kind === 'audio') {\n      track.stop();\n    }\n  });\n}\n\nfunction muteCam() {\n  myVideoStream.getVideoTracks().forEach(function (track) {\n    track.enabled = !track.enabled;\n    console.log(track);\n  });\n}\n\nfunction muteMic() {\n  myVideoStream.getAudioTracks().forEach(function (track) {\n    return track.enabled = !track.enabled;\n  });\n} //DOM Execution\n\n\ndocument.getElementById(\"stopCamera\").addEventListener(\"click\", function () {\n  stopCam();\n});\ndocument.getElementById(\"toggleCamera\").addEventListener(\"click\", function () {\n  muteCam();\n});\ndocument.getElementById(\"toggleAudio\").addEventListener(\"click\", function () {\n  muteMic();\n});\ndocument.getElementById(\"shareScreen\").addEventListener(\"click\", function () {\n  shareScreen();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvd2ViUlRDLmpzP2MzMGQiXSwibmFtZXMiOlsic29ja2V0IiwiaW8iLCJwZWVyIiwiUGVlciIsIm15VmlkZW9TdHJlYW0iLCJteUlkIiwidmlkZW9HcmlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm15dmlkZW8iLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwibXlTaGFyZWRWaWRlbyIsImlzU2hhcmVkVmlkZW8iLCJtdXRlZCIsInBlZXJDb25uZWN0aW9ucyIsIm9uIiwiY29uc29sZSIsImxvZyIsImlkIiwiY3JlYXRlVXNlck1lZGlhIiwiZW1pdCIsInJvb21JRCIsImVyciIsInR5cGUiLCJzdHJlYW0iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJ2aWRlbyIsImF1ZGlvIiwidGhlbiIsInZpZCIsImFkZFZpZGVvIiwiY29ubiIsImlzU2hhcmVkU2NyZWVuIiwic3RvcFNoYXJpbmciLCJjYWxsIiwiYW5zd2VyIiwidXNlclN0cmVhbSIsImFsZXJ0IiwicmVtb3ZlIiwibWVzc2FnZSIsInNoYXJlU2NyZWVuIiwiZ2V0RGlzcGxheU1lZGlhIiwic2hhcmVkU2NyZWVuIiwiZ2V0VmlkZW9UcmFja3MiLCJvbmVuZGVkIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJwZWVySUQiLCJjb25uZWN0Iiwic2VuZCIsIm5ld2NhbGwiLCJyZXBsYWNlVmlkZW8iLCJjbG9zZSIsInNyY09iamVjdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwbGF5IiwiYXBwZW5kIiwic3RvcENhbSIsInRyYWNrIiwicmVhZHlTdGF0ZSIsInN0b3AiLCJnZXRUcmFja3MiLCJzdG9wVmlkZW9Pbmx5Iiwia2luZCIsInN0b3BBdWRpb09ubHkiLCJtdXRlQ2FtIiwiZW5hYmxlZCIsIm11dGVNaWMiLCJnZXRBdWRpb1RyYWNrcyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTUEsTUFBTSxHQUFH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LGNBQWQsR0FBK0J0QixPQUEvQixDQUF1QyxVQUFBWSxLQUFLO0lBQUEsT0FBSUEsS0FBSyxDQUFDUSxPQUFOLEdBQWdCLENBQUNSLEtBQUssQ0FBQ1EsT0FBM0I7RUFBQSxDQUE1QztBQUNILEMsQ0FFRDs7O0FBQ0EvRCxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsWUFBeEIsRUFBc0NrRCxnQkFBdEMsQ0FBdUQsT0FBdkQsRUFBZ0UsWUFBVztFQUN2RUcsT0FBTztBQUNWLENBRkQ7QUFJQXRELFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixjQUF4QixFQUF3Q2tELGdCQUF4QyxDQUF5RCxPQUF6RCxFQUFrRSxZQUFXO0VBQ3pFVyxPQUFPO0FBQ1YsQ0FGRDtBQUlBOUQsUUFBUSxDQUFDQyxjQUFULENBQXdCLGFBQXhCLEVBQXVDa0QsZ0JBQXZDLENBQXdELE9BQXhELEVBQWlFLFlBQVc7RUFDeEVhLE9BQU87QUFDVixDQUZEO0FBSUFoRSxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsYUFBeEIsRUFBdUNrRCxnQkFBdkMsQ0FBd0QsT0FBeEQsRUFBaUUsWUFBVztFQUN4RWYsV0FBVztBQUNkLENBRkQiLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvd2ViUlRDLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc29ja2V0ID0gaW8oJ2h0dHBzOi8vcnRjc2VydmVyLmVzdWNjZXNzLWluYy5jb206NDAwMDInLCB7fSk7XG5jb25zdCBwZWVyID0gbmV3IFBlZXIoKTtcbmxldCBteVZpZGVvU3RyZWFtO1xubGV0IG15SWQ7XG52YXIgdmlkZW9HcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvR3JpZCcpXG5cbnZhciBteXZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbm15dmlkZW8uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJteVZpZGVvXCIpXG5cbnZhciBteVNoYXJlZFZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbm15U2hhcmVkVmlkZW8uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJzaGFyZWRWaWRlb1wiKTtcblxubGV0IGlzU2hhcmVkVmlkZW8gPSBmYWxzZTtcblxubXl2aWRlby5tdXRlZCA9IHRydWU7XG5cblxuY29uc3QgcGVlckNvbm5lY3Rpb25zID0ge31cblxuc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJzb2NrZXQgY3JlYXRlZCBcIiArIHNvY2tldC5pZCk7XG4gICAgY3JlYXRlVXNlck1lZGlhKCk7XG5cbn0pO1xuXG5cblxucGVlci5vbignb3BlbicsIChpZCkgPT4ge1xuXG4gICAgY29uc29sZS5sb2coXCJteSBwZWVyIGlkXCIgKyBpZClcbiAgICBteUlkID0gaWQ7XG4gICAgc29ja2V0LmVtaXQoXCJuZXdVc2VyXCIsIGlkLCByb29tSUQpO1xufSk7XG5cbnBlZXIub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVyciArIFwiIDogXCIgKyBlcnIudHlwZSlcbn0pO1xuXG5cbnNvY2tldC5vbigndXNlclNoYXJlZCcsIChyb29tSUQsIHN0cmVhbSkgPT4ge1xuXG4gICAgLypcbiAgICBjb25zb2xlLmxvZyhcInVzZXIgc2hhcmVkIDpcIiArIG15SWQpO1xuICAgIGNvbnN0IGNhbGwgPSBwZWVyLmNhbGwobXlJZCwgc3RyZWFtKTtcblxuICAgIGNhbGwub24oXCJzdHJlYW1cIiwgKHJlbW90ZVN0cmVhbSkgPT4ge1xuICAgICAgICAvLyBTaG93IHN0cmVhbSBpbiBzb21lIDx2aWRlbz4gZWxlbWVudC5cbiAgICB9KTtcbiAgICAqL1xuXG59KTtcblxuXG5mdW5jdGlvbiBjcmVhdGVVc2VyTWVkaWEoKSB7XG5cbiAgICBjb25zb2xlLmxvZyhcIm15IG1lZGlhIGNyZWF0ZWQhXCIpXG5cbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICAgIHZpZGVvOiB0cnVlLFxuICAgICAgICBhdWRpbzogZmFsc2VcbiAgICB9KS50aGVuKChzdHJlYW0pID0+IHtcblxuICAgICAgICBteVZpZGVvU3RyZWFtID0gc3RyZWFtO1xuXG4gICAgICAgIHZhciB2aWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICB2aWQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJjYWxsZXJWaWRlb1wiKTtcblxuICAgICAgICBhZGRWaWRlbyhteXZpZGVvLCBteVZpZGVvU3RyZWFtKTtcblxuICAgICAgICBwZWVyLm9uKCdjb25uZWN0aW9uJywgZnVuY3Rpb24oY29ubikge1xuXG4gICAgICAgICAgICBjb25uLm9uKCdkYXRhJywgZnVuY3Rpb24oaXNTaGFyZWRTY3JlZW4pIHtcblxuICAgICAgICAgICAgICAgIGlmIChpc1NoYXJlZFNjcmVlbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgIHZpZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInNoYXJlZFZpZGVvXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3BTaGFyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGlzU2hhcmVkU2NyZWVuKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBlZXIub24oJ2Nsb3NlJywgZnVuY3Rpb24oY29ubikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjbG9zZVwiKVxuICAgICAgICB9KTtcblxuICAgICAgICBwZWVyLm9uKCdjYWxsJywgY2FsbCA9PiB7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2FsbGVkXCIpO1xuICAgICAgICAgICAgY2FsbC5hbnN3ZXIoc3RyZWFtKTtcblxuICAgICAgICAgICAgY2FsbC5vbignc3RyZWFtJywgdXNlclN0cmVhbSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkVmlkZW8odmlkLCB1c2VyU3RyZWFtKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYWxsLm9uKCdmaW5pc2gnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNhbGxlZCBmaW5pc2hcIilcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYWxsLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBhbGVydChlcnIpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FsbC5vbihcImNsb3NlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2aWQpO1xuICAgICAgICAgICAgICAgIHZpZC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbnNbY2FsbC5wZWVyXSA9IGNhbGw7XG4gICAgICAgIH0pO1xuXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgYWxlcnQoZXJyLm1lc3NhZ2UpXG4gICAgfSk7XG59XG5cbi8vdXNlciBlbmQgc3RvcCBzaGFyaW5nXG5mdW5jdGlvbiBzdG9wU2hhcmluZygpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlZFZpZGVvXCIpLnJlbW92ZSgpO1xufVxuXG5cbmZ1bmN0aW9uIHNoYXJlU2NyZWVuKCkge1xuXG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoe1xuICAgICAgICB2aWRlbzogdHJ1ZSxcbiAgICAgICAgYXVkaW86IHRydWVcbiAgICB9KS50aGVuKChzdHJlYW0pID0+IHtcblxuICAgICAgICBzaGFyZWRTY3JlZW4gPSBzdHJlYW07XG5cbiAgICAgICAgLy9UaGUgc2NyZWVuIHJlY29yZCBpcyBzdG9wcGVkIGJ5IG15c2VsZlxuICAgICAgICBzaGFyZWRTY3JlZW4uZ2V0VmlkZW9UcmFja3MoKVswXS5vbmVuZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlZFZpZGVvXCIpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAvL3NlbmQgdGhpcyBzaGFyZWQgc2NyZWVuIGZhbHNlIHRvIHN0b3AgcGVlclxuICAgICAgICAgICAgT2JqZWN0LmtleXMocGVlckNvbm5lY3Rpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKHBlZXJJRCkge1xuICAgICAgICAgICAgICAgIHZhciBjb25uID0gcGVlci5jb25uZWN0KHBlZXJJRCk7XG4gICAgICAgICAgICAgICAgY29ubi5vbignb3BlbicsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzU2hhcmVkU2NyZWVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbm4uc2VuZChpc1NoYXJlZFNjcmVlbik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vQ29ubmVjdCB0byBwZWVyc1xuICAgICAgICBPYmplY3Qua2V5cyhwZWVyQ29ubmVjdGlvbnMpLmZvckVhY2goZnVuY3Rpb24ocGVlcklEKSB7XG4gICAgICAgICAgICAvL2Nvbm5lY3QgYW5kIHNlbmRcbiAgICAgICAgICAgIHZhciBjb25uID0gcGVlci5jb25uZWN0KHBlZXJJRCk7XG4gICAgICAgICAgICBjb25uLm9uKCdvcGVuJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBpc1NoYXJlZFNjcmVlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29ubi5zZW5kKGlzU2hhcmVkU2NyZWVuKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgIHZpZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInZpZFwiKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld2NhbGwgPSBwZWVyLmNhbGwocGVlcklELCBzaGFyZWRTY3JlZW4pO1xuXG4gICAgICAgICAgICAgICAgbmV3Y2FsbC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG5ld2NhbGwub24oJ3N0cmVhbScsIHVzZXJTdHJlYW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGRWaWRlbyh2aWQsIHVzZXJTdHJlYW0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbmV3Y2FsbC5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZpZC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1c2VyIGRpc2NvbmVjdFwiKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9KTtcblxuXG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVwbGFjZVZpZGVvKG15U2hhcmVkVmlkZW8sIHNoYXJlZFNjcmVlbik7XG5cbiAgICAgICAgLy9zb2NrZXQuZW1pdChcInVzZXJTaGFyZVwiLCByb29tSUQsIHNoYXJlZFNjcmVlbik7XG5cbiAgICB9KTtcbn1cblxuXG5cbnNvY2tldC5vbigndXNlckpvaW5lZCcsIGlkID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIm5ldyB1c2VyIGpvaW5lZFwiLCBpZCk7XG4gICAgY29uc3QgY2FsbCA9IHBlZXIuY2FsbChpZCwgbXlWaWRlb1N0cmVhbSk7XG4gICAgY29uc3QgdmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICB2aWQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ1c2VyVmlkXCIpXG5cbiAgICBjYWxsLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIGNhbGwub24oJ3N0cmVhbScsIHVzZXJTdHJlYW0gPT4ge1xuICAgICAgICBhZGRWaWRlbyh2aWQsIHVzZXJTdHJlYW0pO1xuICAgIH0pXG4gICAgY2FsbC5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgIHZpZC5yZW1vdmUoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ1c2VyIGRpc2NvbmVjdFwiKVxuICAgIH0pO1xuXG4gICAgcGVlckNvbm5lY3Rpb25zW2lkXSA9IGNhbGw7XG59KTtcblxuXG5zb2NrZXQub24oJ3VzZXJEaXNjb25uZWN0JywgaWQgPT4ge1xuICAgIGlmIChwZWVyQ29ubmVjdGlvbnNbaWRdKSB7XG4gICAgICAgIHBlZXJDb25uZWN0aW9uc1tpZF0uY2xvc2UoKTtcbiAgICB9XG59KTtcblxuXG5mdW5jdGlvbiByZXBsYWNlVmlkZW8odmlkZW8sIHN0cmVhbSkge1xuICAgIHZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpID0+IHtcbiAgICAgICAgdmlkZW8ucGxheSgpXG4gICAgfSlcbiAgICB2aWRlb0dyaWQuYXBwZW5kKHZpZGVvKTtcblxufVxuXG5cbmZ1bmN0aW9uIGFkZFZpZGVvKHZpZGVvLCBzdHJlYW0pIHtcblxuXG4gICAgdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgKCkgPT4ge1xuICAgICAgICB2aWRlby5wbGF5KClcbiAgICB9KVxuICAgIHZpZGVvR3JpZC5hcHBlbmQodmlkZW8pO1xuXG5cbn1cblxuXG5mdW5jdGlvbiBzdG9wQ2FtKCkge1xuXG4gICAgLy9teVZpZGVvU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuXG4gICAgbXlWaWRlb1N0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgaWYgKHRyYWNrLnJlYWR5U3RhdGUgPT0gJ2xpdmUnKSB7XG4gICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInZpZGVvIGJyb2FkY2FzdGluZyBsaXZlXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBteVZpZGVvU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgaWYgKHRyYWNrLnJlYWR5U3RhdGUgPT0gJ2xpdmUnKSB7XG4gICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImF1ZGlvIG5vdCBicm9hZGNhc3RpbmcgbGl2ZVwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyBzdG9wIG9ubHkgY2FtZXJhXG5mdW5jdGlvbiBzdG9wVmlkZW9Pbmx5KHN0cmVhbSkge1xuICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgIGlmICh0cmFjay5yZWFkeVN0YXRlID09ICdsaXZlJyAmJiB0cmFjay5raW5kID09PSAndmlkZW8nKSB7XG4gICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8gc3RvcCBvbmx5IG1pY1xuZnVuY3Rpb24gc3RvcEF1ZGlvT25seShzdHJlYW0pIHtcbiAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICAgICAgICBpZiAodHJhY2sucmVhZHlTdGF0ZSA9PSAnbGl2ZScgJiYgdHJhY2sua2luZCA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG11dGVDYW0oKSB7XG4gICAgbXlWaWRlb1N0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgIHRyYWNrLmVuYWJsZWQgPSAhdHJhY2suZW5hYmxlZFxuICAgICAgICBjb25zb2xlLmxvZyh0cmFjaylcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbXV0ZU1pYygpIHtcbiAgICBteVZpZGVvU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5lbmFibGVkID0gIXRyYWNrLmVuYWJsZWQpO1xufVxuXG4vL0RPTSBFeGVjdXRpb25cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RvcENhbWVyYVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgc3RvcENhbSgpO1xufSk7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9nZ2xlQ2FtZXJhXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICBtdXRlQ2FtKCk7XG59KTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2dnbGVBdWRpb1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgbXV0ZU1pYygpO1xufSk7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVTY3JlZW5cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgIHNoYXJlU2NyZWVuKCk7XG59KTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/webRTC.js\n");

/***/ }),

/***/ 7:
/*!**************************************!*\
  !*** multi ./resources/js/webRTC.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /var/www/html/esi_development/resources/js/webRTC.js */"./resources/js/webRTC.js");


/***/ })

/******/ });