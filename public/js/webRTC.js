/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 7);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./resources/js/webRTC.js":
/*!********************************!*\
  !*** ./resources/js/webRTC.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar socket = io(APP_WEBRTC_SERVER_URL, {}); //const socket = io('{{ https://rtcserver.esuccess-inc.com:40002}}', {});\n\nvar myId = null;\nvar peer = new Peer({\n  initiator: false,\n  trickle: false\n});\n'use strict';\n\nvar myVideoStream = null;\nvar myAudioStream = null; //this will determine who calls\n\nvar userCallStream = null;\nvar recieverCallStream = null;\nvar userJoinedStream = null; //Elements\n\nvar videoElement;\nvar audioElement; //Share Screen\n\nvar sharedScreen = false;\nvar checkingInterval = null;\nvar peerConnections = {};\nvar mediaContainer = document.getElementById('myMediaContainer');\nvar videoGrid = document.getElementById('videoGrid'); //Source\n\nvar audioInputSelect = document.querySelector('select#audioSource');\nvar audioOutputSelect = document.querySelector('select#audioOutput');\nvar videoSelect = document.querySelector('select#videoSource');\nvar selectors = [audioInputSelect, audioOutputSelect, videoSelect];\naudioOutputSelect.disabled = !('sinkId' in HTMLMediaElement.prototype);\nnavigator.mediaDevices.enumerateDevices().then(gotDevices)[\"catch\"](handleError);\n\nfunction gotDevices(deviceInfos) {\n  // Handles being called several times to update labels. Preserve values.\n  var values = selectors.map(function (select) {\n    return select.value;\n  });\n  selectors.forEach(function (select) {\n    while (select.firstChild) {\n      select.removeChild(select.firstChild);\n    }\n  });\n\n  for (var i = 0; i !== deviceInfos.length; ++i) {\n    var deviceInfo = deviceInfos[i];\n    var option = document.createElement('option');\n    option.value = deviceInfo.deviceId;\n\n    if (deviceInfo.kind === 'audioinput') {\n      option.text = deviceInfo.label || \"microphone \".concat(audioInputSelect.length + 1);\n      audioInputSelect.appendChild(option);\n    } else if (deviceInfo.kind === 'audiooutput') {\n      option.text = deviceInfo.label || \"speaker \".concat(audioOutputSelect.length + 1);\n      audioOutputSelect.appendChild(option);\n    } else if (deviceInfo.kind === 'videoinput') {\n      option.text = deviceInfo.label || \"camera \".concat(videoSelect.length + 1);\n      videoSelect.appendChild(option);\n    } else {//console.log('Some other kind of source/device: ', deviceInfo);\n    }\n  }\n\n  selectors.forEach(function (select, selectorIndex) {\n    if (Array.prototype.slice.call(select.childNodes).some(function (n) {\n      return n.value === values[selectorIndex];\n    })) {\n      select.value = values[selectorIndex];\n    }\n  });\n} // Attach audio output device to video element using device/sink ID.\n\n\nfunction attachSinkId(element, sinkId) {\n  //(mute element, feedback if false)\n  element.muted = true;\n\n  if (typeof element.sinkId !== 'undefined') {\n    element.setSinkId(sinkId).then(function () {//console.log(`Success, audio output device attached: ${sinkId}`);\n    })[\"catch\"](function (error) {\n      var errorMessage = error;\n\n      if (error.name === 'SecurityError') {\n        errorMessage = \"You need to use HTTPS for selecting audio output device: \".concat(error);\n      }\n\n      console.error(errorMessage); // Jump back to first output device in the list as it's the default.\n\n      audioOutputSelect.selectedIndex = 0;\n    });\n  } else {\n    console.warn('Browser does not support output device selection.');\n  }\n}\n\nfunction changeAudioDestination() {\n  var audioDestination = audioOutputSelect.value;\n\n  if (myVideoStream) {\n    attachSinkId(videoElement, audioDestination);\n  } else {\n    attachSinkId(audioElement, audioDestination);\n  }\n}\n\nfunction gotStream(stream) {\n  window.stream = stream; // make stream available to console\n\n  videoElement.srcObject = stream; //Register the video stream to my Stream\n\n  myVideoStream = stream; // Refresh button list in case labels have become available\n\n  return navigator.mediaDevices.enumerateDevices();\n}\n\nfunction handleError(error) {\n  //start a video with audio connection width data of user\n  var video = false;\n  var audio = true; //start audio\n\n  data = {\n    'id': myId,\n    'user': user,\n    'roomID': roomID\n  };\n  start(video, audio, data);\n}\n\nfunction addMyAudio(audio, stream) {\n  audio.srcObject = stream;\n  audio.muted = true;\n  audio.addEventListener('loadedmetadata', function () {\n    audio.play();\n  });\n  mediaContainer.append(audio);\n}\n\nfunction addMyVideo(video, stream) {\n  video.srcObject = stream;\n  video.muted = true;\n  video.addEventListener('loadedmetadata', function () {\n    video.play();\n  });\n  mediaContainer.append(video);\n}\n\nfunction addAudio(audio, stream) {\n  audio.srcObject = stream;\n  audio.addEventListener('loadedmetadata', function () {\n    audio.play();\n  });\n  videoGrid.append(audio);\n}\n\nfunction addVideo(video, stream) {\n  video.srcObject = stream;\n  video.addEventListener('loadedmetadata', function () {\n    video.play();\n  });\n  videoGrid.append(video);\n}\n\nfunction addVideoContent(containerID, video, stream) {\n  video.srcObject = stream;\n  video.addEventListener('loadedmetadata', function () {\n    video.play();\n  });\n  var containerElement = document.getElementById(containerID);\n\n  if (containerElement) {\n    containerElement.append(video);\n  }\n}\n\nfunction showByElementId(elementID) {\n  var el = document.getElementById(elementID);\n\n  if (el) {\n    el.style.display = 'block';\n  }\n}\n\nfunction hideByElementId(elementID) {\n  var el = document.getElementById(elementID);\n\n  if (el) {\n    el.style.display = 'none';\n  }\n}\n\nfunction removeElementByID(id) {\n  console.log(\"removing element id\", id);\n  var element = document.getElementById(id);\n\n  if (element) {\n    element.remove();\n  }\n}\n\nfunction createUserMedia(video, audio, constraints) {\n  navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n    removeElementByID(\"myVideo\");\n    removeElementByID(\"myAudio\");\n\n    if (audio == true && video == true) {\n      myAudioStream = null; //Register the video stream to my Stream\n\n      myVideoStream = stream;\n      window.stream = stream; // make stream available to console     \n\n      /*******\n          (NOTE: THIS SHOULD BE MUTED = TRUE) \n      *******/\n\n      videoElement = document.createElement('video');\n      videoElement.setAttribute(\"id\", \"myVideo\");\n      videoElement.muted = false; //videoElement.muted = true;\n\n      addMyVideo(videoElement, stream); // detectDesktopShared(stream)\n    } else {\n      //Register the video stream to my Stream\n      myVideoStream = null;\n      window.stream = stream; // make stream available to console       \n      //add to my audio stream\n\n      myAudioStream = stream; //console.log(\"this is a audio only\")\n\n      /*******\n          (NOTE: THIS SHOULD BE MUTED = TRUE) \n      *******/\n\n      audioElement = document.createElement('audio');\n      audioElement.setAttribute(\"id\", \"myAudio\");\n      audioElement.setAttribute(\"controls\", \"controls\"); //audioElement.muted = false;\n\n      audioElement.muted = true;\n      addMyAudio(audioElement, stream); // detectDesktopShared(stream)\n    }\n\n    return navigator.mediaDevices.enumerateDevices();\n  }).then(gotDevices)[\"catch\"](function (err) {\n    if (video == true && audio == true) {\n      handleError(err);\n    } else {//alert(\"no media detected, please connect and try again\")\n    }\n  });\n}\n\nfunction start(video, audio, data) {\n  if (window.stream) {\n    window.stream.getTracks().forEach(function (track) {\n      track.stop();\n    });\n  }\n\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n\n  if (video == true && audio == true) {\n    var constraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: {\n        deviceId: videoSource ? {\n          exact: videoSource\n        } : undefined\n      }\n    }; //console.log(\"connect video : start\")\n\n    createUserMedia(video, audio, constraints);\n  } else if (video == false && audio == true) {\n    var _constraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    }; //console.log(\"connect audio : start\")\n\n    createUserMedia(video, audio, _constraints);\n  } else {//alert(\"no media detected, please connect and try again\")\n  }\n}\n\nfunction restart() {\n  if (window.stream) {\n    window.stream.getTracks().forEach(function (track) {\n      track.stop();\n    });\n  }\n\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n    window.stream = stream; // make stream available to console\n\n    videoElement.srcObject = stream; //console.log(\"i have muted this\")\n    //videoElement.muted = true;\n    //Register the video stream to my Stream\n\n    myVideoStream = stream;\n    data = {\n      'id': myId,\n      'user': user,\n      'roomID': roomID,\n      'videoStream': myVideoStream\n    };\n    console.log(\"changemedia\", data);\n    socket.emit(\"changeMedia\", data);\n    removeElementByID(myId);\n  })[\"catch\"](handleError);\n} //user end stop sharing\n\n\nfunction stopSharing() {\n  console.log(\"stopSharing()\");\n  var showElement = document.getElementById(\"lessonSlide\");\n\n  if (showElement) {\n    showElement.style.display = 'block';\n  }\n\n  checkAndRemoveSharedVideo();\n}\n\nfunction checkAndRemoveSharedVideo() {\n  var removeElement = document.getElementById(\"sharedVideo\");\n\n  if (removeElement) {\n    removeSharedVideo();\n  } else {\n    console.log(\"rechecking shared video after 1 second\"); // If not found, wait for a while and then check again\n    //checkingInterval = setTimeout(checkAndRemoveSharedVideo, 1000); // Wait for 1 second (adjust as needed)\n  }\n}\n\nfunction removeSharedVideo() {\n  var container = document.getElementById(\"lessonSharedContainer\");\n\n  if (container) {\n    // Store the parent element to insert the new container in the same position.\n    var parent = container.parentNode; // Create a new container element.\n\n    var newContainer = document.createElement(\"div\");\n    newContainer.id = \"lessonSharedContainer\"; // Add content or attributes to the new container if needed.\n\n    newContainer.textContent = \"\"; // Replace the old container with the new one.\n\n    parent.insertBefore(newContainer, container); // Remove the old shared video container.\n\n    container.remove();\n  }\n}\n\nfunction detectDesktopShared(stream) {\n  peer.on('connection', function (conn) {\n    conn.on('data', function (data) {\n      if (data.sharedScreen == true) {\n        sharedScreen = true;\n      } else if (data.sharedScreen == false) {\n        console.log(\"detectDesktopShared stopped\");\n        stopSharing();\n        sharedScreen = false;\n        return false;\n      } else {\n        alert(\"the stream data\");\n      }\n    });\n  });\n  peer.on('close', function (conn) {//console.log(\"close\")\n  });\n  peer.on('call', function (call) {\n    if (stream == null) {\n      //console.log(\"answer the stream without any stream\", call)\n      call.answer();\n    } else {\n      //console.log(\"answer the stream\", stream)\n      call.answer(stream);\n\n      if (stream.getAudioTracks().length == 1 && stream.getVideoTracks().length == 1) {\n        removeElementByID(call.peer);\n        callerElement = document.createElement('video');\n        callerElement.setAttribute(\"id\", call.peer);\n        callerElement.setAttribute(\"class\", \"peerCallBackVideo\");\n        callerElement.muted = false;\n        addVideo(callerElement, stream);\n      } else {\n        removeElementByID(call.peer);\n        callerElement = document.createElement('audio');\n        callerElement.setAttribute(\"id\", call.peer);\n        callerElement.setAttribute(\"class\", \"peerCallBackAudio\"); //call peer\n\n        callerElement.setAttribute(\"controls\", \"controls\");\n        callerElement.muted = false;\n        addAudio(callerElement, stream);\n      }\n    }\n\n    call.on('stream', function (userStream) {\n      if (sharedScreen == true) {\n        sharedVid = document.createElement('video');\n        sharedVid.setAttribute(\"id\", \"sharedVideo\");\n        sharedVid.setAttribute(\"class\", \"userStreamSharedVideo\"); //call peer\n        //the lesson shared container must be on the member lesson slider component\n\n        addVideoContent('lessonSharedContainer', sharedVid, userStream); //hide lesson Slide\n\n        hideByElementId(\"lessonSlide\");\n      } else {\n        data = {\n          'id': myId,\n          'user': user,\n          'roomID': roomID,\n          'videoStream': mediaCallStream\n        };\n        socket.emit(\"changeMedia\", data);\n      }\n    });\n    call.on('finish', function () {//console.log(\"called finish\")\n    });\n    call.on('error', function (err) {\n      alert(err);\n    });\n    call.on(\"close\", function () {\n      sharedVid.remove();\n    });\n  });\n}\n\n;\n\nfunction shareScreen() {\n  navigator.mediaDevices.getDisplayMedia({\n    video: true,\n    audio: true\n  }).then(function (userStream) {\n    sharedScreen = userStream; //@todo: (hide slide then show the user shared)\n\n    var sharedVid = document.createElement('video');\n    sharedVid.setAttribute(\"id\", \"sharedVideo\");\n    sharedVid.setAttribute(\"class\", \"shareScreen\");\n    sharedVid.muted = false; //the lesson shared container must be on the member lesson slider component\n\n    addVideoContent('lessonSharedContainer', sharedVid, userStream); //hide lesson Slide\n\n    hideByElementId(\"lessonSlide\"); //Connect to peers\n\n    Object.keys(peerConnections).forEach(function (peerID) {\n      //connect and send\n      var conn = peer.connect(peerID);\n      conn.on('open', function () {\n        /*********************               \n            (NEW) share screen data\n        *************************/\n        var data = {\n          'id': peerID,\n          'sharedScreen': true\n        }; //add to the connection, and send then call\n\n        conn.send(data);\n        var sharingScreen = peer.call(peerID, sharedScreen);\n      });\n    }); //The screen record is stopped by myself\n\n    sharedScreen.getVideoTracks()[0].onended = function () {\n      showByElementId(\"lessonSlide\");\n      document.getElementById(\"sharedVideo\").remove(); //send this shared screen false to stop peer\n\n      Object.keys(peerConnections).forEach(function (peerID) {\n        var conn = peer.connect(peerID);\n        conn.on('open', function () {\n          /*********************               \n              (STOP SHARE) share screen data\n          *************************/\n          var data = {\n            'id': peerID,\n            'sharedScreen': false\n          };\n          conn.send(data);\n        });\n      });\n    }; //socket.emit(\"userShare\", roomID, sharedScreen);\n\n  });\n}\n\naudioInputSelect.onchange = restart;\naudioOutputSelect.onchange = changeAudioDestination;\nvideoSelect.onchange = restart;\npeer.on('connection', function (conn) {\n  conn.on('data', function (data) {\n    console.log(\"share connection: peer connected\", data);\n\n    if (data.sharedScreen == true) {\n      sharedScreen = true;\n    } else if (data.sharedScreen == false) {\n      console.log(\"connection shared stopped\");\n      stopSharing();\n      sharedScreen = false;\n      return false;\n    } else {\n      alert(\"the stream data\");\n    }\n  });\n  conn.on('close', function (conn) {\n    console.log(\"shared video connection of peer has been closed\", conn);\n    var sharedVideo = document.getElementById('sharedVideo'); // Check if the video element exists before attempting to remove it\n\n    if (sharedVideo) {\n      // Remove the video element from the DOM\n      sharedVideo.remove();\n    } else {\n      console.log('Element with id \"sharedVideo\" not found.');\n    }\n  });\n});\npeer.on('open', function (id) {\n  //console.log(\"my peer id\" + id)\n  //console.log(\"my user \", user)\n  //console.log(\"my room id \", roomID)\n  myId = id;\n  data = {\n    'id': id,\n    'user': user,\n    'roomID': roomID\n  };\n  console.log(\"newuser\", data);\n  socket.emit(\"newUser\", data); //start a video with audio connection width data of user\n\n  var video = true;\n  var audio = true; //start the my own video camera\n\n  start(video, audio, data);\n});\npeer.on('call', function (call) {\n  var ctr = 0; //console.log(\"PEER:: CALLING... for a video stream or audio stream ...\");\n\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n    userCallStream = stream;\n\n    if (stream.getAudioTracks().length == 1 && stream.getVideoTracks().length == 1) {//alert(\"stream from sender is a video 1\")\n    } else {//alert(\"stream from sender is a audio 2\")\n    }\n\n    call.answer(stream);\n    call.on('stream', function (userStream) {\n      recieverCallStream = userStream;\n      peerConnections[call.peer] = call; //console.log(\"recieve video from initiator \", call);\n\n      if (ctr == 0) {\n        if (sharedScreen == true) {\n          console.log(userStream, user, call.peer);\n          var lessonSharedContainer = document.getElementById(\"lessonSharedContainer\");\n          var sharedVideo = document.getElementById(\"sharedVideo\");\n\n          if (lessonSharedContainer && sharedVideo && lessonSharedContainer.contains(sharedVideo)) {// The \"sharedVideo\" element is a child of \"lessonSharedContainer\"\n            // It already exists\n            // You can add additional code here if needed\n          } else {\n            sharedVid = document.createElement('video');\n            sharedVid.setAttribute(\"id\", \"sharedVideo\");\n            var classToAdd = \"callSharedVideo-\" + userStream.id;\n            sharedVid.setAttribute(\"class\", classToAdd);\n            addVideoContent('lessonSharedContainer', sharedVid, userStream); // Hide lesson Slide\n\n            hideByElementId(\"lessonSlide\");\n          }\n\n          return false;\n        }\n\n        if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n          //alert(\"reciever from sender is a video 5 :: (peer)\" + call.peer)\n          removeElementByID(call.peer);\n          callerElement = document.createElement('video');\n          callerElement.setAttribute(\"id\", call.peer);\n          callerElement.setAttribute(\"class\", \"peerCallBackVideo\");\n          callerElement.muted = false;\n          addVideo(callerElement, userStream);\n        } else {\n          //alert(\"reciever from sender is a audio 6 :: (peer)\" + call.peer)\n          removeElementByID(call.peer);\n          callerElement = document.createElement('audio');\n          callerElement.setAttribute(\"id\", call.peer);\n          callerElement.setAttribute(\"class\", \"peerCallBackAudio\"); //call peer\n\n          callerElement.setAttribute(\"controls\", \"controls\");\n          callerElement.muted = false;\n          addAudio(callerElement, userStream);\n        }\n      }\n\n      ctr++;\n    });\n    call.on('close', function () {\n      removeElementByID(call.peer); //console.log(\"user disconected\")\n    });\n  })[\"catch\"](function (error) {\n    //console.log(\"recieve audio from initiator\", call);\n    var audioSource = audioInputSelect.value;\n    var constraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n      userCallStream = stream;\n\n      if (stream.getAudioTracks().length == 1 && stream.getVideoTracks().length == 1) {//alert(\"stream from sender is a video 3\")\n      } else {//alert(\"stream from sender is a audio 4\")\n      }\n\n      call.answer(stream);\n      call.on('stream', function (userStream) {\n        recieverCallStream = userStream;\n        peerConnections[call.peer] = call;\n\n        if (ctr == 0) {\n          if (sharedScreen == true) {\n            sharedVid = document.createElement('video');\n            sharedVid.setAttribute(\"id\", \"sharedVideo_1\");\n            sharedVid.setAttribute(\"class\", \"stream_shared_video_1\"); //the lesson shared container must be on the member lesson slider component\n\n            addVideoContent('lessonSharedContainer', sharedVid, userStream); //hide lesson Slide\n\n            hideByElementId(\"lessonSlide\");\n            return false;\n          }\n\n          if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n            //alert(\"reciever from sender is a video 7  :: (peer) \" + call.peer)\n            removeElementByID(call.peer);\n            callerElement = document.createElement('video');\n            callerElement.setAttribute(\"id\", call.peer);\n            callerElement.setAttribute(\"class\", \"peerCallBackVideo\");\n            callerElement.muted = false;\n            addVideo(callerElement, userStream);\n          } else {\n            //alert(\"reciever from sender is a audio 8 :: (peer)\" + call.peer)\n            removeElementByID(call.peer);\n            callerElement = document.createElement('audio');\n            callerElement.setAttribute(\"id\", call.peer);\n            callerElement.setAttribute(\"class\", \"peerCallBackAudio\"); //call peer\n\n            callerElement.setAttribute(\"controls\", \"controls\");\n            callerElement.muted = false;\n            addAudio(callerElement, userStream);\n          }\n        }\n\n        ctr++;\n      });\n      call.on('close', function () {\n        removeElementByID(call.peer); //console.log(\"user disconected\")\n      });\n    })[\"catch\"](function (error) {//alert(\"I can't send any video r audio to your contact, please check media\")\n    });\n  });\n});\npeer.on('close', function (id) {\n  document.getElementById(id).remove();\n});\nsocket.on('userJoined', function (data) {\n  peerConnections[data.id] = data;\n  console.log(\"user joined ::: calling initiator with just audio and video\", data.id);\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (mediaStream) {\n    //console.log(\"user joined ::: calling initiator with just audio and video\", data.id);\n    userJoinedStream = mediaStream;\n    callback = peer.call(data.id, mediaStream);\n\n    if (callback) {\n      peerConnections[callback.peer] = callback;\n      var ctr = 0;\n      callback.on('stream', function (userStream) {\n        if (ctr == 0) {\n          if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n            removeElementByID(data.id);\n            callerElement = document.createElement('video');\n            callerElement.setAttribute(\"id\", data.id);\n            callerElement.setAttribute(\"class\", \"user_joined_peer_call_back\");\n            callerElement.muted = false;\n            addVideo(callerElement, userStream);\n          } else {\n            removeElementByID(data.id);\n            callerElement = document.createElement('audio');\n            callerElement.setAttribute(\"id\", data.id);\n            callerElement.setAttribute(\"class\", \"user_joined_peer_call_back\");\n            callerElement.setAttribute(\"controls\", \"controls\");\n            callerElement.muted = false;\n            addAudio(callerElement, userStream);\n          }\n        }\n\n        ctr++;\n      });\n      callback.on('close', function () {\n        removeElementByID(data.id);\n      });\n      callback.on('error', function (err) {//console.log(err);\n      });\n    }\n\n    checkVideoDisabled();\n    checkAudioMuted();\n  })[\"catch\"](function (error) {\n    //I have only audio, send to the audio to my peer\n    //console.log(\"user joined:: I have only audio, send to the audio to my peer\", data.id);\n    var audioConstraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    navigator.mediaDevices.getUserMedia(audioConstraints).then(function (mediaCallStream) {\n      userJoinedStream = mediaCallStream;\n\n      if (myVideoStream) {\n        callback = peer.call(data.id, mediaCallStream);\n      } else {\n        data = {\n          'id': myId,\n          'user': user,\n          'roomID': roomID,\n          'videoStream': mediaCallStream\n        };\n        socket.emit(\"changeMedia\", data); //never mind callback, i will call change media\n\n        callback = null;\n      }\n\n      if (callback) {\n        peerConnections[callback.peer] = callback;\n        var ctr = 0;\n        callback.on('stream', function (userStream) {\n          if (ctr == 0) {\n            if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n              //@new\n              removeElementByID(data.id);\n              callerElement = document.createElement('video');\n              callerElement.setAttribute(\"id\", data.id);\n              callerElement.setAttribute(\"class\", \"user_joined_peer_call_back\");\n              callerElement.muted = false;\n              addVideo(callerElement, userStream);\n            } else {\n              removeElementByID(data.id);\n              callerElement = document.createElement('audio');\n              callerElement.setAttribute(\"id\", data.id);\n              callerElement.setAttribute(\"class\", \"user_joined_peer_call_back\");\n              callerElement.setAttribute(\"controls\", \"controls\");\n              callerElement.muted = false;\n              addAudio(callerElement, userStream);\n            }\n          }\n\n          ctr++;\n        });\n        callback.on('close', function () {\n          removeElementByID(data.id);\n        });\n        callback.on('error', function (err) {//console.log(err);\n        });\n        peerConnections[data.id] = callback;\n      }\n    })[\"catch\"](function (error) {//alert(\"Please connect audioinput device and try again\");\n      // //console.log(error)\n    });\n    checkVideoDisabled();\n    checkAudioMuted();\n  });\n});\nsocket.on('mediaChanged', function (data) {\n  var audioSource = audioInputSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      deviceId: audioSource ? {\n        exact: audioSource\n      } : undefined\n    },\n    video: {\n      deviceId: videoSource ? {\n        exact: videoSource\n      } : undefined\n    }\n  };\n  navigator.mediaDevices.getUserMedia(constraints).then(function (userStream) {\n    //console.log(\"mediaChanged: initiator (recieved)\")\n    callback = peer.call(data.id, userStream);\n\n    if (callback) {\n      var ctr = 0;\n      callback.on('stream', function (userStream) {\n        if (ctr == 0) {\n          //console.log(\"recipient callback : video stream\");\n          if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n            removeElementByID(data.id);\n            callerElement = document.createElement('video');\n            callerElement.setAttribute(\"id\", callback.peer);\n            callerElement.setAttribute(\"class\", \"repipient_video_changed\");\n            callerElement.muted = false;\n            addVideo(callerElement, userStream);\n          } else {\n            removeElementByID(data.id);\n            callerElement = document.createElement('audio');\n            callerElement.setAttribute(\"id\", data.id);\n            callerElement.setAttribute(\"class\", \"repipient_audio_changed\");\n            callerElement.setAttribute(\"controls\", \"controls\");\n            callerElement.muted = false;\n            addAudio(callerElement, userStream);\n          }\n        }\n\n        ctr++;\n      });\n      callback.on('close', function () {\n        removeElementByID(data.id);\n      });\n      callback.on('error', function (err) {//console.log(err);\n      });\n      peerConnections[data.id] = callback;\n    }\n  })[\"catch\"](function (error) {\n    var audioConstraints = {\n      audio: {\n        deviceId: audioSource ? {\n          exact: audioSource\n        } : undefined\n      },\n      video: false\n    };\n    navigator.mediaDevices.getUserMedia(audioConstraints).then(function (userStream) {\n      userCallStream = userStream; //console.log(\"initiator SENT AND AUDIO\")\n\n      callback = peer.call(data.id, userStream);\n\n      if (callback) {\n        var ctr = 0;\n        callback.on('stream', function (userStream) {\n          recieverCallStream = userStream; //console.log(\"this is for the audio, stream of the initiator\");\n\n          if (ctr == 0) {\n            //console.log(userStream.getAudioTracks().length)\n            //console.log(userStream.getVideoTracks().length)\n            if (userStream.getAudioTracks().length == 1 && userStream.getVideoTracks().length == 1) {\n              //console.log(\"user sent a video\")\n              removeElementByID(callback.peer);\n              callerElement = document.createElement('video');\n              callerElement.setAttribute(\"id\", callback.peer);\n              callerElement.setAttribute(\"class\", \"callerBackVideo\");\n              callerElement.muted = false;\n              addVideo(callerElement, userStream);\n            } else {\n              //console.log(\"user sent a AUDIO\")\n              removeElementByID(callback.peer);\n              callerElement = document.createElement('audio');\n              callerElement.setAttribute(\"id\", callback.peer);\n              callerElement.setAttribute(\"class\", \"callbackAudio_media\");\n              callerElement.setAttribute(\"controls\", \"controls\");\n              callerElement.muted = false;\n              addAudio(callerElement, userStream);\n            }\n          }\n\n          ctr++;\n        });\n        callback.on('close', function () {\n          removeElementByID(data.id);\n        });\n        callback.on('error', function (err) {//console.log(err);\n        });\n        peerConnections[data.id] = callback;\n      }\n    })[\"catch\"](function (error) {//alert(\"audio only\");\n      //console.log(error)\n    });\n  });\n});\nsocket.on('WEBRTC_USER_LEAVE_SESSION', function (user) {\n  console.log(\"webRTC userDisconnected\", user);\n  removeElementByID(user.peerid);\n\n  try {\n    peerConnections[user.peerid].close();\n  } catch (err) {//console.log(\"error disconnect : \", err)\n  }\n});\n\nfunction checkAudioMuted() {\n  var muteIcon = document.querySelector('.fa-volume-mute'); // Check if the 'display' property is set to 'none'\n\n  if (muteIcon.style.display !== 'none') {\n    // The element with class 'fa-volume-mute' is not hidden\n    console.log('fa-volume-mute is visible, we will mute mic');\n    muteMic();\n  }\n}\n\nfunction muteMic() {\n  userJoinedStream.getAudioTracks().forEach(function (track) {\n    track.enabled = !track.enabled;\n  });\n}\n\nfunction toggleMic() {\n  if (userJoinedStream != null) {\n    userJoinedStream.getAudioTracks().forEach(function (track) {\n      track.enabled = !track.enabled; //console.log(track);\n\n      if (track.enabled == true) {\n        $('#toggleAudio .fa-volume-up').show();\n        $('#toggleAudio .fa-volume-mute').hide();\n      } else {\n        $('#toggleAudio .fa-volume-up').hide();\n        $('#toggleAudio .fa-volume-mute').show();\n      }\n    });\n  }\n\n  if (userCallStream != null) {\n    userCallStream.getAudioTracks().forEach(function (track) {\n      track.enabled = !track.enabled; //console.log(track);\n\n      if (track.enabled == true) {\n        $('#toggleAudio .fa-volume-up').show();\n        $('#toggleAudio .fa-volume-mute').hide();\n      } else {\n        $('#toggleAudio .fa-volume-up').hide();\n        $('#toggleAudio .fa-volume-mute').show();\n      }\n    });\n  }\n}\n\nfunction checkVideoDisabled() {\n  var videoIcon = document.querySelector('.fa-video-slash');\n\n  if (videoIcon.style.display !== 'none') {\n    console.log('video slash is visible, we will disable video');\n    disableVideo();\n  }\n}\n\nfunction disableVideo() {\n  userJoinedStream.getVideoTracks().forEach(function (track) {\n    track.enabled = !track.enabled;\n  });\n}\n\nfunction toggleCamera() {\n  if (userJoinedStream != null) {\n    userJoinedStream.getVideoTracks().forEach(function (track) {\n      track.enabled = !track.enabled; //console.log(track);\n\n      if (track.enabled == true) {\n        $('#toggleCamera .fa-video').show();\n        $('#toggleCamera .fa-video-slash').hide();\n      } else {\n        $('#toggleCamera .fa-video').hide();\n        $('#toggleCamera .fa-video-slash').show();\n      }\n    });\n  }\n\n  if (userCallStream != null) {\n    userCallStream.getVideoTracks().forEach(function (track) {\n      track.enabled = !track.enabled; //console.log(track);\n\n      if (track.enabled == true) {\n        $('#toggleCamera .fa-video').show();\n        $('#toggleCamera .fa-video-slash').hide();\n      } else {\n        $('#toggleCamera .fa-video').hide();\n        $('#toggleCamera .fa-video-slash').show();\n      }\n    });\n  }\n}\n\nvar shareScreenBtn = document.getElementById(\"btnShareScreen\");\n\nif (shareScreenBtn) {\n  document.getElementById(\"btnShareScreen\").addEventListener(\"click\", function () {\n    shareScreen();\n  });\n}\n\nvar toggleCameraBtn = document.getElementById(\"toggleCamera\");\n\nif (toggleCameraBtn) {\n  document.getElementById(\"toggleCamera\").addEventListener(\"click\", function () {\n    toggleCamera();\n  });\n}\n\nvar toggleAudioBtn = document.getElementById(\"toggleAudio\");\n\nif (toggleAudioBtn) {\n  document.getElementById(\"toggleAudio\").addEventListener(\"click\", function () {\n    toggleMic();\n  });\n}\n/************VOLUME CONTROL*************** */\n\n\nfunction setVolume(volume) {\n  myVideoStream.getAudioTracks().forEach(function (track) {\n    track.applyConstraints({\n      volume: volume\n    });\n  });\n}\n\nvar volumeControl = document.getElementById('volume-control');\n\nif (volumeControl) {\n  volumeControl.addEventListener('input', function () {\n    setVolume(volumeControl.value);\n  });\n}\n\nfunction destroyVideoSteam(mediaStream) {\n  mediaStream.getVideoTracks().forEach(function (track) {\n    track.stop();\n  });\n}\n\nfunction destroyAudioStream(audioStream) {\n  audioStream.getAudioTracks().forEach(function (track) {\n    track.stop();\n  });\n}\n/************ END SESSION *************** */\n\n\nfunction destroyUserMediaContainer() {\n  $('.right-fixed').remove();\n}\n\nfunction destroyUserMedia() {\n  return _destroyUserMedia.apply(this, arguments);\n}\n\nfunction _destroyUserMedia() {\n  _destroyUserMedia = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            Object.keys(peerConnections).forEach(function (peerID) {\n              peerConnections[peerID].close();\n            });\n\n            if (myVideoStream != null) {\n              destroyVideoSteam(myVideoStream);\n              destroyAudioStream(myVideoStream);\n            }\n\n            if (myAudioStream != null) {\n              destroyVideoSteam(myAudioStream);\n              destroyAudioStream(myAudioStream);\n            }\n\n            if (userJoinedStream != null) {\n              destroyVideoSteam(userJoinedStream);\n              destroyAudioStream(userJoinedStream);\n            }\n\n            if (userCallStream != null) {\n              destroyVideoSteam(userCallStream);\n              destroyAudioStream(userCallStream);\n            }\n\n            if (recieverCallStream != null) {\n              destroyVideoSteam(recieverCallStream);\n              destroyAudioStream(recieverCallStream);\n            }\n\n            destroyUserMediaContainer();\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _destroyUserMedia.apply(this, arguments);\n}\n\nvar destroySessionMediaBtn = document.getElementById('destroy-session-media');\n\nif (destroySessionMediaBtn) {\n  destroySessionMediaBtn.addEventListener('click', function () {\n    destroyUserMedia();\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvd2ViUlRDLmpzP2MzMGQiXSwibmFtZXMiOlsic29ja2V0IiwiaW8iLCJBUFBfV0VCUlRDX1NFUlZFUl9VUkwiLCJteUlkIiwicGVlciIsIlBlZXIiLCJpbml0aWF0b3IiLCJ0cmlja2xlIiwibXlWaWRlb1N0cmVhbSIsIm15QXVkaW9TdHJlYW0iLCJ1c2VyQ2FsbFN0cmVhbSIsInJlY2lldmVyQ2FsbFN0cmVhbSIsInVzZXJKb2luZWRTdHJlYW0iLCJ2aWRlb0VsZW1lbnQiLCJhdWRpb0VsZW1lbnQiLCJzaGFyZWRTY3JlZW4iLCJjaGVja2luZ0ludGVydmFsIiwicGVlckNvbm5lY3Rpb25zIiwibWVkaWFDb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidmlkZW9HcmlkIiwiYXVkaW9JbnB1dFNlbGVjdCIsInF1ZXJ5U2VsZWN0b3IiLCJhdWRpb091dHB1dFNlbGVjdCIsInZpZGVvU2VsZWN0Iiwic2VsZWN0b3JzIiwiZGlzYWJsZWQiLCJIVE1MTWVkaWFFbGVtZW50IiwicHJvdG90eXBlIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZW51bWVyYXRlRGV2aWNlcyIsInRoZW4iLCJnb3REZXZpY2VzIiwiaGFuZGxlRXJyb3IiLCJkZXZpY2VJbmZvcyIsInZhbHVlcyIsIm1hcCIsInNlbGVjdCIsInZhbHVlIiwiZm9yRWFjaCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImkiLCJsZW5ndGgiLCJkZXZpY2VJbmZvIiwib3B0aW9uIiwiY3JlYXRlRWxlbWVudCIsImRldmljZUlkIiwia2luZCIsInRleHQiLCJsYWJlbCIsImFwcGVuZENoaWxkIiwic2VsZWN0b3JJbmRleCIsIkFycmF5Iiwic2xpY2UiLCJjYWxsIiwiY2hpbGROb2RlcyIsInNvbWUiLCJuIiwiYXR0YWNoU2lua0lkIiwiZWxlbWVudCIsInNpbmtJZCIsIm11dGVkIiwic2V0U2lua0lkIiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJuYW1lIiwiY29uc29sZSIsInNlbGVjdGVkSW5kZXgiLCJ3YXJuIiwiY2hhbmdlQXVkaW9EZXN0aW5hdGlvbiIsImF1ZGlvRGVzdGluYXRpb24iLCJnb3RTdHJlYW0iLCJzdHJlYW0iLCJ3aW5kb3ciLCJzcmNPYmplY3QiLCJ2aWRlbyIsImF1ZGlvIiwiZGF0YSIsInVzZXIiLCJyb29tSUQiLCJzdGFydCIsImFkZE15QXVkaW8iLCJhZGRFdmVudExpc3RlbmVyIiwicGxheSIsImFwcGVuZCIsImFkZE15VmlkZW8iLCJhZGRBdWRpbyIsImFkZFZpZGVvIiwiYWRkVmlkZW9Db250ZW50IiwiY29udGFpbmVySUQiLCJjb250YWluZXJFbGVtZW50Iiwic2hvd0J5RWxlbWVudElkIiwiZWxlbWVudElEIiwiZWwiLCJzdHlsZSIsImRpc3BsYXkiLCJoaWRlQnlFbGVtZW50SWQiLCJyZW1vdmVFbGVtZW50QnlJRCIsImlkIiwibG9nIiwicmVtb3ZlIiwiY3JlYXRlVXNlck1lZGlhIiwiY29uc3RyYWludHMiLCJnZXRVc2VyTWVkaWEiLCJzZXRBdHRyaWJ1dGUiLCJlcnIiLCJnZXRUcmFja3MiLCJ0cmFjayIsInN0b3AiLCJhdWRpb1NvdXJjZSIsInZpZGVvU291cmNlIiwiZXhhY3QiLCJ1bmRlZmluZWQiLCJyZXN0YXJ0IiwiZW1pdCIsInN0b3BTaGFyaW5nIiwic2hvd0VsZW1lbnQiLCJjaGVja0FuZFJlbW92ZVNoYXJlZFZpZGVvIiwicmVtb3ZlRWxlbWVudCIsInJlbW92ZVNoYXJlZFZpZGVvIiwiY29udGFpbmVyIiwicGFyZW50IiwicGFyZW50Tm9kZSIsIm5ld0NvbnRhaW5lciIsInRleHRDb250ZW50IiwiaW5zZXJ0QmVmb3JlIiwiZGV0ZWN0RGVza3RvcFNoYXJlZCIsIm9uIiwiY29ubiIsImFsZXJ0IiwiYW5zd2VyIiwiZ2V0QXVkaW9UcmFja3MiLCJnZXRWaWRlb1RyYWNrcyIsImNhbGxlckVsZW1lbnQiLCJ1c2VyU3RyZWFtIiwic2hhcmVkVmlkIiwibWVkaWFDYWxsU3RyZWFtIiwic2hhcmVTY3JlZW4iLCJnZXREaXNwbGF5TWVkaWEiLCJPYmplY3QiLCJrZXlzIiwicGVlcklEIiwiY29ubmVjdCIsInNlbmQiLCJzaGFyaW5nU2NyZWVuIiwib25lbmRlZCIsIm9uY2hhbmdlIiwic2hhcmVkVmlkZW8iLCJjdHIiLCJsZXNzb25TaGFyZWRDb250YWluZXIiLCJjb250YWlucyIsImNsYXNzVG9BZGQiLCJtZWRpYVN0cmVhbSIsImNhbGxiYWNrIiwiY2hlY2tWaWRlb0Rpc2FibGVkIiwiY2hlY2tBdWRpb011dGVkIiwiYXVkaW9Db25zdHJhaW50cyIsInBlZXJpZCIsImNsb3NlIiwibXV0ZUljb24iLCJtdXRlTWljIiwiZW5hYmxlZCIsInRvZ2dsZU1pYyIsIiQiLCJzaG93IiwiaGlkZSIsInZpZGVvSWNvbiIsImRpc2FibGVWaWRlbyIsInRvZ2dsZUNhbWVyYSIsInNoYXJlU2NyZWVuQnRuIiwidG9nZ2xlQ2FtZXJhQnRuIiwidG9nZ2xlQXVkaW9CdG4iLCJzZXRWb2x1bWUiLCJ2b2x1bWUiLCJhcHBseUNvbnN0cmFpbnRzIiwidm9sdW1lQ29udHJvbCIsImRlc3Ryb3lWaWRlb1N0ZWFtIiwiZGVzdHJveUF1ZGlvU3RyZWFtIiwiYXVkaW9TdHJlYW0iLCJkZXN0cm95VXNlck1lZGlhQ29udGFpbmVyIiwiZGVzdHJveVVzZXJNZWRpYSIsImRlc3Ryb3lTZXNzaW9uTWVkaWFCdG4iXSwibWFwcGluZ3MiOiI7OytDQUNBLG9KOzs7Ozs7QUFEQSxJQUFNQSxNQUFNLEdBQUdDLEVBQUUsQ0FBQ0MscUJBQUQsRUFBd0IsRUFBeEIsQ0FBakIsQyxDQUNBOztBQUVBLElBQUlDLElBQUksR0FBRyxJQUFYO0FBRUEsSUFBTUMsSUFBSSxHQUFHLElBQUlDLElBQUosQ0FBUztFQUNsQkMsU0FBUyxFQUFFLEtBRE87RUFFbEJDLE9BQU8sRUFBRTtBQUZTLENBQVQsQ0FBYjtBQUtBOztBQUVBLElBQUlDLGFBQWEsR0FBRyxJQUFwQjtBQUNBLElBQUlDLGFBQWEsR0FBRyxJQUFwQixDLENBRUE7O0FBQ0EsSUFBSUMsY0FBYyxHQUFHLElBQXJCO0FBQ0EsSUFBSUMsa0JBQWtCLEdBQUcsSUFBekI7QUFDQSxJQUFJQyxnQkFBZ0IsR0FBRyxJQUF2QixDLENBRUE7O0FBQ0EsSUFBSUMsWUFBSjtBQUNBLElBQUlDLFlBQUosQyxDQUVBOztBQUNBLElBQUlDLFlBQVksR0FBRyxLQUFuQjtBQUNBLElBQUlDLGdCQUFnQixHQUFHLElBQXZCO0FBRUEsSUFBTUMsZUFBZSxHQUFHLEVBQXhCO0FBRUEsSUFBSUMsY0FBYyxHQUFHQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0Isa0JBQXhCLENBQXJCO0FBQ0EsSUFBSUMsU0FBUyxHQUFHRixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsV0FBeEIsQ0FBaEIsQyxDQUVBOztBQUNBLElBQU1FLGdCQUFnQixHQUFHSCxRQUFRLENBQUNJLGFBQVQsQ0FBdUIsb0JBQXZCLENBQXpCO0FBQ0EsSUFBTUMsaUJBQWlCLEdBQUdMLFFBQVEsQ0FBQ0ksYUFBVCxDQUF1QixvQkFBdkIsQ0FBMUI7QUFDQSxJQUFNRSxXQUFXLEdBQUdOLFFBQVEsQ0FBQ0ksYUFBVCxDQUF1QixvQkFBdkIsQ0FBcEI7QUFDQSxJQUFNRyxTQUFTLEdBQUcsQ0FBQ0osZ0JBQUQsRUFBbUJFLGlCQUFuQixFQUFzQ0MsV0FBdEMsQ0FBbEI7QUFFQUQsaUJBQWlCLENBQUNHLFFBQWxCLEdBQTZCLEVBQUUsWUFBWUMsZ0JBQWdCLENBQUNDLFNBQS9CLENBQTdCO0FBRUFDLFNBQVMsQ0FBQ0MsWUFBVixDQUF1QkMsZ0JBQXZCLEdBQTBDQyxJQUExQyxDQUErQ0MsVUFBL0MsV0FBaUVDLFdBQWpFOztBQUdBLFNBQVNELFVBQVQsQ0FBb0JFLFdBQXBCLEVBQWlDO0VBQzdCO0VBQ0EsSUFBTUMsTUFBTSxHQUFHWCxTQUFTLENBQUNZLEdBQVYsQ0FBYyxVQUFBQyxNQUFNO0lBQUEsT0FBSUEsTUFBTSxDQUFDQyxLQUFYO0VBQUEsQ0FBcEIsQ0FBZjtFQUNBZCxTQUFTLENBQUNlLE9BQVYsQ0FBa0IsVUFBQUYsTUFBTSxFQUFJO0lBQ3hCLE9BQU9BLE1BQU0sQ0FBQ0csVUFBZCxFQUEwQjtNQUN0QkgsTUFBTSxDQUFDSSxXQUFQLENBQW1CSixNQUFNLENBQUNHLFVBQTFCO0lBQ0g7RUFDSixDQUpEOztFQUtBLEtBQUssSUFBSUUsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsS0FBS1IsV0FBVyxDQUFDUyxNQUFsQyxFQUEwQyxFQUFFRCxDQUE1QyxFQUErQztJQUMzQyxJQUFNRSxVQUFVLEdBQUdWLFdBQVcsQ0FBQ1EsQ0FBRCxDQUE5QjtJQUNBLElBQU1HLE1BQU0sR0FBRzVCLFFBQVEsQ0FBQzZCLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBZjtJQUNBRCxNQUFNLENBQUNQLEtBQVAsR0FBZU0sVUFBVSxDQUFDRyxRQUExQjs7SUFFQSxJQUFJSCxVQUFVLENBQUNJLElBQVgsS0FBb0IsWUFBeEIsRUFBc0M7TUFDbENILE1BQU0sQ0FBQ0ksSUFBUCxHQUFjTCxVQUFVLENBQUNNLEtBQVgseUJBQWtDOUIsZ0JBQWdCLENBQUN1QixNQUFqQixHQUEwQixDQUE1RCxDQUFkO01BQ0F2QixnQkFBZ0IsQ0FBQytCLFdBQWpCLENBQTZCTixNQUE3QjtJQUNILENBSEQsTUFHTyxJQUFJRCxVQUFVLENBQUNJLElBQVgsS0FBb0IsYUFBeEIsRUFBdUM7TUFDMUNILE1BQU0sQ0FBQ0ksSUFBUCxHQUFjTCxVQUFVLENBQUNNLEtBQVgsc0JBQStCNUIsaUJBQWlCLENBQUNxQixNQUFsQixHQUEyQixDQUExRCxDQUFkO01BQ0FyQixpQkFBaUIsQ0FBQzZCLFdBQWxCLENBQThCTixNQUE5QjtJQUNILENBSE0sTUFHQSxJQUFJRCxVQUFVLENBQUNJLElBQVgsS0FBb0IsWUFBeEIsRUFBc0M7TUFDekNILE1BQU0sQ0FBQ0ksSUFBUCxHQUFjTCxVQUFVLENBQUNNLEtBQVgscUJBQThCM0IsV0FBVyxDQUFDb0IsTUFBWixHQUFxQixDQUFuRCxDQUFkO01BQ0FwQixXQUFXLENBQUM0QixXQUFaLENBQXdCTixNQUF4QjtJQUNILENBSE0sTUFHQSxDQUNIO0lBQ0g7RUFDSjs7RUFDRHJCLFNBQVMsQ0FBQ2UsT0FBVixDQUFrQixVQUFDRixNQUFELEVBQVNlLGFBQVQsRUFBMkI7SUFDekMsSUFBSUMsS0FBSyxDQUFDMUIsU0FBTixDQUFnQjJCLEtBQWhCLENBQXNCQyxJQUF0QixDQUEyQmxCLE1BQU0sQ0FBQ21CLFVBQWxDLEVBQThDQyxJQUE5QyxDQUFtRCxVQUFBQyxDQUFDO01BQUEsT0FBSUEsQ0FBQyxDQUFDcEIsS0FBRixLQUFZSCxNQUFNLENBQUNpQixhQUFELENBQXRCO0lBQUEsQ0FBcEQsQ0FBSixFQUFnRztNQUM1RmYsTUFBTSxDQUFDQyxLQUFQLEdBQWVILE1BQU0sQ0FBQ2lCLGFBQUQsQ0FBckI7SUFDSDtFQUNKLENBSkQ7QUFLSCxDLENBSUQ7OztBQUNBLFNBQVNPLFlBQVQsQ0FBc0JDLE9BQXRCLEVBQStCQyxNQUEvQixFQUF1QztFQUVuQztFQUNBRCxPQUFPLENBQUNFLEtBQVIsR0FBZ0IsSUFBaEI7O0VBRUEsSUFBSSxPQUFPRixPQUFPLENBQUNDLE1BQWYsS0FBMEIsV0FBOUIsRUFBMkM7SUFDdkNELE9BQU8sQ0FBQ0csU0FBUixDQUFrQkYsTUFBbEIsRUFDSzlCLElBREwsQ0FDVSxZQUFNLENBQ1I7SUFDSCxDQUhMLFdBSVcsVUFBQWlDLEtBQUssRUFBSTtNQUNaLElBQUlDLFlBQVksR0FBR0QsS0FBbkI7O01BQ0EsSUFBSUEsS0FBSyxDQUFDRSxJQUFOLEtBQWUsZUFBbkIsRUFBb0M7UUFDaENELFlBQVksc0VBQStERCxLQUEvRCxDQUFaO01BQ0g7O01BQ0RHLE9BQU8sQ0FBQ0gsS0FBUixDQUFjQyxZQUFkLEVBTFksQ0FNWjs7TUFDQTNDLGlCQUFpQixDQUFDOEMsYUFBbEIsR0FBa0MsQ0FBbEM7SUFDSCxDQVpMO0VBYUgsQ0FkRCxNQWNPO0lBQ0hELE9BQU8sQ0FBQ0UsSUFBUixDQUFhLG1EQUFiO0VBQ0g7QUFDSjs7QUFFRCxTQUFTQyxzQkFBVCxHQUFrQztFQUM5QixJQUFNQyxnQkFBZ0IsR0FBR2pELGlCQUFpQixDQUFDZ0IsS0FBM0M7O0VBR0EsSUFBSWhDLGFBQUosRUFBbUI7SUFDZnFELFlBQVksQ0FBQ2hELFlBQUQsRUFBZTRELGdCQUFmLENBQVo7RUFDSCxDQUZELE1BRU87SUFDSFosWUFBWSxDQUFDL0MsWUFBRCxFQUFlMkQsZ0JBQWYsQ0FBWjtFQUNIO0FBQ0o7O0FBRUQsU0FBU0MsU0FBVCxDQUFtQkMsTUFBbkIsRUFBMkI7RUFDdkJDLE1BQU0sQ0FBQ0QsTUFBUCxHQUFnQkEsTUFBaEIsQ0FEdUIsQ0FDQzs7RUFDeEI5RCxZQUFZLENBQUNnRSxTQUFiLEdBQXlCRixNQUF6QixDQUZ1QixDQUl2Qjs7RUFDQW5FLGFBQWEsR0FBR21FLE1BQWhCLENBTHVCLENBT3ZCOztFQUNBLE9BQU83QyxTQUFTLENBQUNDLFlBQVYsQ0FBdUJDLGdCQUF2QixFQUFQO0FBQ0g7O0FBRUQsU0FBU0csV0FBVCxDQUFxQitCLEtBQXJCLEVBQTRCO0VBQ3hCO0VBQ0EsSUFBSVksS0FBSyxHQUFHLEtBQVo7RUFDQSxJQUFJQyxLQUFLLEdBQUcsSUFBWixDQUh3QixDQU14Qjs7RUFDQUMsSUFBSSxHQUFHO0lBQ0gsTUFBTTdFLElBREg7SUFFSCxRQUFROEUsSUFGTDtJQUdILFVBQVVDO0VBSFAsQ0FBUDtFQU1BQyxLQUFLLENBQUNMLEtBQUQsRUFBUUMsS0FBUixFQUFlQyxJQUFmLENBQUw7QUFDSDs7QUFHRCxTQUFTSSxVQUFULENBQW9CTCxLQUFwQixFQUEyQkosTUFBM0IsRUFBbUM7RUFDL0JJLEtBQUssQ0FBQ0YsU0FBTixHQUFrQkYsTUFBbEI7RUFDQUksS0FBSyxDQUFDZixLQUFOLEdBQWMsSUFBZDtFQUVBZSxLQUFLLENBQUNNLGdCQUFOLENBQXVCLGdCQUF2QixFQUF5QyxZQUFNO0lBQzNDTixLQUFLLENBQUNPLElBQU47RUFDSCxDQUZEO0VBR0FwRSxjQUFjLENBQUNxRSxNQUFmLENBQXNCUixLQUF0QjtBQUNIOztBQUdELFNBQVNTLFVBQVQsQ0FBb0JWLEtBQXBCLEVBQTJCSCxNQUEzQixFQUFtQztFQUMvQkcsS0FBSyxDQUFDRCxTQUFOLEdBQWtCRixNQUFsQjtFQUNBRyxLQUFLLENBQUNkLEtBQU4sR0FBYyxJQUFkO0VBRUFjLEtBQUssQ0FBQ08sZ0JBQU4sQ0FBdUIsZ0JBQXZCLEVBQXlDLFlBQU07SUFDM0NQLEtBQUssQ0FBQ1EsSUFBTjtFQUNILENBRkQ7RUFHQXBFLGNBQWMsQ0FBQ3FFLE1BQWYsQ0FBc0JULEtBQXRCO0FBQ0g7O0FBR0QsU0FBU1csUUFBVCxDQUFrQlYsS0FBbEIsRUFBeUJKLE1BQXpCLEVBQWlDO0VBQzdCSSxLQUFLLENBQUNGLFNBQU4sR0FBa0JGLE1BQWxCO0VBQ0FJLEtBQUssQ0FBQ00sZ0JBQU4sQ0FBdUIsZ0JBQXZCLEVBQXlDLFlBQU07SUFDM0NOLEtBQUssQ0FBQ08sSUFBTjtFQUNILENBRkQ7RUFHQWpFLFNBQVMsQ0FBQ2tFLE1BQVYsQ0FBaUJSLEtBQWpCO0FBQ0g7O0FBRUQsU0FBU1csUUFBVCxDQUFrQlosS0FBbEIsRUFBeUJILE1BQXpCLEVBQWlDO0VBQzdCRyxLQUFLLENBQUNELFNBQU4sR0FBa0JGLE1BQWxCO0VBQ0FHLEtBQUssQ0FBQ08sZ0JBQU4sQ0FBdUIsZ0JBQXZCLEVBQXlDLFlBQU07SUFDM0NQLEtBQUssQ0FBQ1EsSUFBTjtFQUNILENBRkQ7RUFHQWpFLFNBQVMsQ0FBQ2tFLE1BQVYsQ0FBaUJULEtBQWpCO0FBQ0g7O0FBR0QsU0FBU2EsZUFBVCxDQUF5QkMsV0FBekIsRUFBc0NkLEtBQXRDLEVBQTZDSCxNQUE3QyxFQUFxRDtFQUNqREcsS0FBSyxDQUFDRCxTQUFOLEdBQWtCRixNQUFsQjtFQUNBRyxLQUFLLENBQUNPLGdCQUFOLENBQXVCLGdCQUF2QixFQUF5QyxZQUFNO0lBQzNDUCxLQUFLLENBQUNRLElBQU47RUFDSCxDQUZEO0VBSUEsSUFBSU8sZ0JBQWdCLEdBQUcxRSxRQUFRLENBQUNDLGNBQVQsQ0FBd0J3RSxXQUF4QixDQUF2Qjs7RUFDQSxJQUFJQyxnQkFBSixFQUFzQjtJQUNsQkEsZ0JBQWdCLENBQUNOLE1BQWpCLENBQXdCVCxLQUF4QjtFQUNIO0FBQ0o7O0FBR0QsU0FBU2dCLGVBQVQsQ0FBeUJDLFNBQXpCLEVBQW9DO0VBQ2hDLElBQUlDLEVBQUUsR0FBRzdFLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QjJFLFNBQXhCLENBQVQ7O0VBQ0EsSUFBSUMsRUFBSixFQUFRO0lBQ0pBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTQyxPQUFULEdBQW1CLE9BQW5CO0VBQ0g7QUFDSjs7QUFFRCxTQUFTQyxlQUFULENBQXlCSixTQUF6QixFQUFvQztFQUNoQyxJQUFJQyxFQUFFLEdBQUc3RSxRQUFRLENBQUNDLGNBQVQsQ0FBd0IyRSxTQUF4QixDQUFUOztFQUNBLElBQUlDLEVBQUosRUFBUTtJQUNKQSxFQUFFLENBQUNDLEtBQUgsQ0FBU0MsT0FBVCxHQUFtQixNQUFuQjtFQUNIO0FBQ0o7O0FBRUQsU0FBU0UsaUJBQVQsQ0FBMkJDLEVBQTNCLEVBQStCO0VBRTNCaEMsT0FBTyxDQUFDaUMsR0FBUixDQUFZLHFCQUFaLEVBQW1DRCxFQUFuQztFQUVBLElBQUl2QyxPQUFPLEdBQUczQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0JpRixFQUF4QixDQUFkOztFQUNBLElBQUl2QyxPQUFKLEVBQWE7SUFDVEEsT0FBTyxDQUFDeUMsTUFBUjtFQUNIO0FBQ0o7O0FBRUQsU0FBU0MsZUFBVCxDQUF5QjFCLEtBQXpCLEVBQWdDQyxLQUFoQyxFQUF1QzBCLFdBQXZDLEVBQW9EO0VBRWhEM0UsU0FBUyxDQUFDQyxZQUFWLENBQXVCMkUsWUFBdkIsQ0FBb0NELFdBQXBDLEVBQWlEeEUsSUFBakQsQ0FBc0QsVUFBQzBDLE1BQUQsRUFBWTtJQUU5RHlCLGlCQUFpQixDQUFDLFNBQUQsQ0FBakI7SUFDQUEsaUJBQWlCLENBQUMsU0FBRCxDQUFqQjs7SUFFQSxJQUFJckIsS0FBSyxJQUFJLElBQVQsSUFBaUJELEtBQUssSUFBSSxJQUE5QixFQUFvQztNQUNoQ3JFLGFBQWEsR0FBRyxJQUFoQixDQURnQyxDQUdoQzs7TUFDQUQsYUFBYSxHQUFHbUUsTUFBaEI7TUFDQUMsTUFBTSxDQUFDRCxNQUFQLEdBQWdCQSxNQUFoQixDQUxnQyxDQUtSOztNQUN4QjtBQUNaO0FBQ0E7O01BRVk5RCxZQUFZLEdBQUdNLFFBQVEsQ0FBQzZCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBZjtNQUNBbkMsWUFBWSxDQUFDOEYsWUFBYixDQUEwQixJQUExQixFQUFnQyxTQUFoQztNQUNBOUYsWUFBWSxDQUFDbUQsS0FBYixHQUFxQixLQUFyQixDQVpnQyxDQWFoQzs7TUFDQXdCLFVBQVUsQ0FBQzNFLFlBQUQsRUFBZThELE1BQWYsQ0FBVixDQWRnQyxDQWlCaEM7SUFDSCxDQWxCRCxNQWtCTztNQUdIO01BQ0FuRSxhQUFhLEdBQUcsSUFBaEI7TUFDQW9FLE1BQU0sQ0FBQ0QsTUFBUCxHQUFnQkEsTUFBaEIsQ0FMRyxDQUtxQjtNQUV4Qjs7TUFDQWxFLGFBQWEsR0FBR2tFLE1BQWhCLENBUkcsQ0FVSDs7TUFFQTtBQUNaO0FBQ0E7O01BQ1k3RCxZQUFZLEdBQUdLLFFBQVEsQ0FBQzZCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBZjtNQUNBbEMsWUFBWSxDQUFDNkYsWUFBYixDQUEwQixJQUExQixFQUFnQyxTQUFoQztNQUNBN0YsWUFBWSxDQUFDNkYsWUFBYixDQUEwQixVQUExQixFQUFzQyxVQUF0QyxFQWpCRyxDQWtCSDs7TUFDQTdGLFlBQVksQ0FBQ2tELEtBQWIsR0FBcUIsSUFBckI7TUFFQW9CLFVBQVUsQ0FBQ3RFLFlBQUQsRUFBZTZELE1BQWYsQ0FBVixDQXJCRyxDQXNCSDtJQUNIOztJQUVELE9BQU83QyxTQUFTLENBQUNDLFlBQVYsQ0FBdUJDLGdCQUF2QixFQUFQO0VBR0gsQ0FuREQsRUFtREdDLElBbkRILENBbURRQyxVQW5EUixXQW1EMEIsVUFBQzBFLEdBQUQsRUFBUztJQUUvQixJQUFJOUIsS0FBSyxJQUFJLElBQVQsSUFBaUJDLEtBQUssSUFBSSxJQUE5QixFQUFvQztNQUVoQzVDLFdBQVcsQ0FBQ3lFLEdBQUQsQ0FBWDtJQUVILENBSkQsTUFJTyxDQUVIO0lBQ0g7RUFDSixDQTdERDtBQWdFSDs7QUFFRCxTQUFTekIsS0FBVCxDQUFlTCxLQUFmLEVBQXNCQyxLQUF0QixFQUE2QkMsSUFBN0IsRUFBbUM7RUFFL0IsSUFBSUosTUFBTSxDQUFDRCxNQUFYLEVBQW1CO0lBQ2ZDLE1BQU0sQ0FBQ0QsTUFBUCxDQUFja0MsU0FBZCxHQUEwQnBFLE9BQTFCLENBQWtDLFVBQUFxRSxLQUFLLEVBQUk7TUFDdkNBLEtBQUssQ0FBQ0MsSUFBTjtJQUNILENBRkQ7RUFHSDs7RUFDRCxJQUFNQyxXQUFXLEdBQUcxRixnQkFBZ0IsQ0FBQ2tCLEtBQXJDO0VBQ0EsSUFBTXlFLFdBQVcsR0FBR3hGLFdBQVcsQ0FBQ2UsS0FBaEM7O0VBRUEsSUFBSXNDLEtBQUssSUFBSSxJQUFULElBQWlCQyxLQUFLLElBQUksSUFBOUIsRUFBb0M7SUFFaEMsSUFBTTBCLFdBQVcsR0FBRztNQUNoQjFCLEtBQUssRUFBRTtRQUFFOUIsUUFBUSxFQUFFK0QsV0FBVyxHQUFHO1VBQUVFLEtBQUssRUFBRUY7UUFBVCxDQUFILEdBQTRCRztNQUFuRCxDQURTO01BRWhCckMsS0FBSyxFQUFFO1FBQUU3QixRQUFRLEVBQUVnRSxXQUFXLEdBQUc7VUFBRUMsS0FBSyxFQUFFRDtRQUFULENBQUgsR0FBNEJFO01BQW5EO0lBRlMsQ0FBcEIsQ0FGZ0MsQ0FPaEM7O0lBRUFYLGVBQWUsQ0FBQzFCLEtBQUQsRUFBUUMsS0FBUixFQUFlMEIsV0FBZixDQUFmO0VBRUgsQ0FYRCxNQVdPLElBQUkzQixLQUFLLElBQUksS0FBVCxJQUFrQkMsS0FBSyxJQUFJLElBQS9CLEVBQXFDO0lBRXhDLElBQU0wQixZQUFXLEdBQUc7TUFDaEIxQixLQUFLLEVBQUU7UUFBRTlCLFFBQVEsRUFBRStELFdBQVcsR0FBRztVQUFFRSxLQUFLLEVBQUVGO1FBQVQsQ0FBSCxHQUE0Qkc7TUFBbkQsQ0FEUztNQUVoQnJDLEtBQUssRUFBRTtJQUZTLENBQXBCLENBRndDLENBT3hDOztJQUNBMEIsZUFBZSxDQUFDMUIsS0FBRCxFQUFRQyxLQUFSLEVBQWUwQixZQUFmLENBQWY7RUFFSCxDQVZNLE1BVUEsQ0FFSDtFQUNIO0FBRUo7O0FBRUQsU0FBU1csT0FBVCxHQUFtQjtFQUVmLElBQUl4QyxNQUFNLENBQUNELE1BQVgsRUFBbUI7SUFDZkMsTUFBTSxDQUFDRCxNQUFQLENBQWNrQyxTQUFkLEdBQTBCcEUsT0FBMUIsQ0FBa0MsVUFBQXFFLEtBQUssRUFBSTtNQUN2Q0EsS0FBSyxDQUFDQyxJQUFOO0lBQ0gsQ0FGRDtFQUdIOztFQUVELElBQU1DLFdBQVcsR0FBRzFGLGdCQUFnQixDQUFDa0IsS0FBckM7RUFDQSxJQUFNeUUsV0FBVyxHQUFHeEYsV0FBVyxDQUFDZSxLQUFoQztFQUNBLElBQU1pRSxXQUFXLEdBQUc7SUFDaEIxQixLQUFLLEVBQUU7TUFBRTlCLFFBQVEsRUFBRStELFdBQVcsR0FBRztRQUFFRSxLQUFLLEVBQUVGO01BQVQsQ0FBSCxHQUE0Qkc7SUFBbkQsQ0FEUztJQUVoQnJDLEtBQUssRUFBRTtNQUFFN0IsUUFBUSxFQUFFZ0UsV0FBVyxHQUFHO1FBQUVDLEtBQUssRUFBRUQ7TUFBVCxDQUFILEdBQTRCRTtJQUFuRDtFQUZTLENBQXBCO0VBSUFyRixTQUFTLENBQUNDLFlBQVYsQ0FBdUIyRSxZQUF2QixDQUFvQ0QsV0FBcEMsRUFBaUR4RSxJQUFqRCxDQUFzRCxVQUFDMEMsTUFBRCxFQUFZO0lBQzlEQyxNQUFNLENBQUNELE1BQVAsR0FBZ0JBLE1BQWhCLENBRDhELENBQ3RDOztJQUN4QjlELFlBQVksQ0FBQ2dFLFNBQWIsR0FBeUJGLE1BQXpCLENBRjhELENBSTlEO0lBQ0E7SUFFQTs7SUFDQW5FLGFBQWEsR0FBR21FLE1BQWhCO0lBRUFLLElBQUksR0FBRztNQUNILE1BQU03RSxJQURIO01BRUgsUUFBUThFLElBRkw7TUFHSCxVQUFVQyxNQUhQO01BSUgsZUFBZTFFO0lBSlosQ0FBUDtJQU9BNkQsT0FBTyxDQUFDaUMsR0FBUixDQUFZLGFBQVosRUFBMkJ0QixJQUEzQjtJQUdBaEYsTUFBTSxDQUFDcUgsSUFBUCxDQUFZLGFBQVosRUFBMkJyQyxJQUEzQjtJQUVBb0IsaUJBQWlCLENBQUNqRyxJQUFELENBQWpCO0VBR0gsQ0F6QkQsV0F5QlNnQyxXQXpCVDtBQTJCSCxDLENBSUQ7OztBQUNBLFNBQVNtRixXQUFULEdBQXVCO0VBQ25CakQsT0FBTyxDQUFDaUMsR0FBUixDQUFZLGVBQVo7RUFFQSxJQUFJaUIsV0FBVyxHQUFHcEcsUUFBUSxDQUFDQyxjQUFULENBQXdCLGFBQXhCLENBQWxCOztFQUVBLElBQUltRyxXQUFKLEVBQWlCO0lBQ2JBLFdBQVcsQ0FBQ3RCLEtBQVosQ0FBa0JDLE9BQWxCLEdBQTRCLE9BQTVCO0VBQ0g7O0VBRURzQix5QkFBeUI7QUFDNUI7O0FBRUQsU0FBU0EseUJBQVQsR0FBcUM7RUFDakMsSUFBTUMsYUFBYSxHQUFHdEcsUUFBUSxDQUFDQyxjQUFULENBQXdCLGFBQXhCLENBQXRCOztFQUNBLElBQUlxRyxhQUFKLEVBQW1CO0lBQ2ZDLGlCQUFpQjtFQUNwQixDQUZELE1BRU87SUFDSHJELE9BQU8sQ0FBQ2lDLEdBQVIsQ0FBWSx3Q0FBWixFQURHLENBRUg7SUFDQTtFQUNIO0FBQ0o7O0FBR0QsU0FBU29CLGlCQUFULEdBQTZCO0VBRXpCLElBQU1DLFNBQVMsR0FBR3hHLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3Qix1QkFBeEIsQ0FBbEI7O0VBRUEsSUFBSXVHLFNBQUosRUFBZTtJQUNYO0lBQ0EsSUFBTUMsTUFBTSxHQUFHRCxTQUFTLENBQUNFLFVBQXpCLENBRlcsQ0FJWDs7SUFDQSxJQUFNQyxZQUFZLEdBQUczRyxRQUFRLENBQUM2QixhQUFULENBQXVCLEtBQXZCLENBQXJCO0lBQ0E4RSxZQUFZLENBQUN6QixFQUFiLEdBQWtCLHVCQUFsQixDQU5XLENBUVg7O0lBQ0F5QixZQUFZLENBQUNDLFdBQWIsR0FBMkIsRUFBM0IsQ0FUVyxDQVdYOztJQUNBSCxNQUFNLENBQUNJLFlBQVAsQ0FBb0JGLFlBQXBCLEVBQWtDSCxTQUFsQyxFQVpXLENBY1g7O0lBQ0FBLFNBQVMsQ0FBQ3BCLE1BQVY7RUFDSDtBQUVKOztBQUVELFNBQVMwQixtQkFBVCxDQUE2QnRELE1BQTdCLEVBQXFDO0VBQ2pDdkUsSUFBSSxDQUFDOEgsRUFBTCxDQUFRLFlBQVIsRUFBc0IsVUFBU0MsSUFBVCxFQUFlO0lBQ2pDQSxJQUFJLENBQUNELEVBQUwsQ0FBUSxNQUFSLEVBQWdCLFVBQVNsRCxJQUFULEVBQWU7TUFDM0IsSUFBSUEsSUFBSSxDQUFDakUsWUFBTCxJQUFxQixJQUF6QixFQUErQjtRQUMzQkEsWUFBWSxHQUFHLElBQWY7TUFDSCxDQUZELE1BRU8sSUFBSWlFLElBQUksQ0FBQ2pFLFlBQUwsSUFBcUIsS0FBekIsRUFBZ0M7UUFFbkNzRCxPQUFPLENBQUNpQyxHQUFSLENBQVksNkJBQVo7UUFFQWdCLFdBQVc7UUFDWHZHLFlBQVksR0FBRyxLQUFmO1FBQ0EsT0FBTyxLQUFQO01BQ0gsQ0FQTSxNQU9BO1FBQ0hxSCxLQUFLLENBQUMsaUJBQUQsQ0FBTDtNQUNIO0lBQ0osQ0FiRDtFQWNILENBZkQ7RUFrQkFoSSxJQUFJLENBQUM4SCxFQUFMLENBQVEsT0FBUixFQUFpQixVQUFTQyxJQUFULEVBQWUsQ0FDNUI7RUFDSCxDQUZEO0VBSUEvSCxJQUFJLENBQUM4SCxFQUFMLENBQVEsTUFBUixFQUFnQixVQUFBekUsSUFBSSxFQUFJO0lBRXBCLElBQUlrQixNQUFNLElBQUksSUFBZCxFQUFvQjtNQUVoQjtNQUNBbEIsSUFBSSxDQUFDNEUsTUFBTDtJQUVILENBTEQsTUFLTztNQUVIO01BRUE1RSxJQUFJLENBQUM0RSxNQUFMLENBQVkxRCxNQUFaOztNQUVBLElBQUlBLE1BQU0sQ0FBQzJELGNBQVAsR0FBd0J6RixNQUF4QixJQUFrQyxDQUFsQyxJQUF1QzhCLE1BQU0sQ0FBQzRELGNBQVAsR0FBd0IxRixNQUF4QixJQUFrQyxDQUE3RSxFQUFnRjtRQUM1RXVELGlCQUFpQixDQUFDM0MsSUFBSSxDQUFDckQsSUFBTixDQUFqQjtRQUNBb0ksYUFBYSxHQUFHckgsUUFBUSxDQUFDNkIsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtRQUNBd0YsYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixJQUEzQixFQUFpQ2xELElBQUksQ0FBQ3JELElBQXRDO1FBQ0FvSSxhQUFhLENBQUM3QixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLG1CQUFwQztRQUNBNkIsYUFBYSxDQUFDeEUsS0FBZCxHQUFzQixLQUF0QjtRQUVBMEIsUUFBUSxDQUFDOEMsYUFBRCxFQUFnQjdELE1BQWhCLENBQVI7TUFDSCxDQVJELE1BUU87UUFDSHlCLGlCQUFpQixDQUFDM0MsSUFBSSxDQUFDckQsSUFBTixDQUFqQjtRQUNBb0ksYUFBYSxHQUFHckgsUUFBUSxDQUFDNkIsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtRQUNBd0YsYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixJQUEzQixFQUFpQ2xELElBQUksQ0FBQ3JELElBQXRDO1FBQ0FvSSxhQUFhLENBQUM3QixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLG1CQUFwQyxFQUpHLENBSXVEOztRQUMxRDZCLGFBQWEsQ0FBQzdCLFlBQWQsQ0FBMkIsVUFBM0IsRUFBdUMsVUFBdkM7UUFDQTZCLGFBQWEsQ0FBQ3hFLEtBQWQsR0FBc0IsS0FBdEI7UUFDQXlCLFFBQVEsQ0FBQytDLGFBQUQsRUFBZ0I3RCxNQUFoQixDQUFSO01BQ0g7SUFDSjs7SUFFRGxCLElBQUksQ0FBQ3lFLEVBQUwsQ0FBUSxRQUFSLEVBQWtCLFVBQUFPLFVBQVUsRUFBSTtNQUU1QixJQUFJMUgsWUFBWSxJQUFJLElBQXBCLEVBQTBCO1FBQ3RCMkgsU0FBUyxHQUFHdkgsUUFBUSxDQUFDNkIsYUFBVCxDQUF1QixPQUF2QixDQUFaO1FBQ0EwRixTQUFTLENBQUMvQixZQUFWLENBQXVCLElBQXZCLEVBQTZCLGFBQTdCO1FBQ0ErQixTQUFTLENBQUMvQixZQUFWLENBQXVCLE9BQXZCLEVBQWdDLHVCQUFoQyxFQUhzQixDQUdvQztRQUUxRDs7UUFDQWhCLGVBQWUsQ0FBQyx1QkFBRCxFQUEwQitDLFNBQTFCLEVBQXFDRCxVQUFyQyxDQUFmLENBTnNCLENBT3RCOztRQUNBdEMsZUFBZSxDQUFDLGFBQUQsQ0FBZjtNQUNILENBVEQsTUFTTztRQUNIbkIsSUFBSSxHQUFHO1VBQ0gsTUFBTTdFLElBREg7VUFFSCxRQUFROEUsSUFGTDtVQUdILFVBQVVDLE1BSFA7VUFJSCxlQUFleUQ7UUFKWixDQUFQO1FBTUEzSSxNQUFNLENBQUNxSCxJQUFQLENBQVksYUFBWixFQUEyQnJDLElBQTNCO01BQ0g7SUFDSixDQXBCRDtJQXNCQXZCLElBQUksQ0FBQ3lFLEVBQUwsQ0FBUSxRQUFSLEVBQWtCLFlBQVcsQ0FDekI7SUFDSCxDQUZEO0lBSUF6RSxJQUFJLENBQUN5RSxFQUFMLENBQVEsT0FBUixFQUFpQixVQUFDdEIsR0FBRCxFQUFTO01BQ3RCd0IsS0FBSyxDQUFDeEIsR0FBRCxDQUFMO0lBQ0gsQ0FGRDtJQUlBbkQsSUFBSSxDQUFDeUUsRUFBTCxDQUFRLE9BQVIsRUFBaUIsWUFBTTtNQUNuQlEsU0FBUyxDQUFDbkMsTUFBVjtJQUNILENBRkQ7RUFLSCxDQW5FRDtBQW9FSDs7QUFBQTs7QUFJRCxTQUFTcUMsV0FBVCxHQUF1QjtFQUVuQjlHLFNBQVMsQ0FBQ0MsWUFBVixDQUF1QjhHLGVBQXZCLENBQXVDO0lBQ25DL0QsS0FBSyxFQUFFLElBRDRCO0lBRW5DQyxLQUFLLEVBQUU7RUFGNEIsQ0FBdkMsRUFHRzlDLElBSEgsQ0FHUSxVQUFDd0csVUFBRCxFQUFnQjtJQUVwQjFILFlBQVksR0FBRzBILFVBQWYsQ0FGb0IsQ0FJcEI7O0lBQ0EsSUFBTUMsU0FBUyxHQUFHdkgsUUFBUSxDQUFDNkIsYUFBVCxDQUF1QixPQUF2QixDQUFsQjtJQUNBMEYsU0FBUyxDQUFDL0IsWUFBVixDQUF1QixJQUF2QixFQUE2QixhQUE3QjtJQUNBK0IsU0FBUyxDQUFDL0IsWUFBVixDQUF1QixPQUF2QixFQUFnQyxhQUFoQztJQUNBK0IsU0FBUyxDQUFDMUUsS0FBVixHQUFrQixLQUFsQixDQVJvQixDQVVwQjs7SUFDQTJCLGVBQWUsQ0FBQyx1QkFBRCxFQUEwQitDLFNBQTFCLEVBQXFDRCxVQUFyQyxDQUFmLENBWG9CLENBYXBCOztJQUNBdEMsZUFBZSxDQUFDLGFBQUQsQ0FBZixDQWRvQixDQWdCcEI7O0lBQ0EyQyxNQUFNLENBQUNDLElBQVAsQ0FBWTlILGVBQVosRUFBNkJ3QixPQUE3QixDQUFxQyxVQUFTdUcsTUFBVCxFQUFpQjtNQUNsRDtNQUNBLElBQUliLElBQUksR0FBRy9ILElBQUksQ0FBQzZJLE9BQUwsQ0FBYUQsTUFBYixDQUFYO01BQ0FiLElBQUksQ0FBQ0QsRUFBTCxDQUFRLE1BQVIsRUFBZ0IsWUFBTTtRQUNsQjtBQUNoQjtBQUNBO1FBQ2dCLElBQUlsRCxJQUFJLEdBQUc7VUFDSCxNQUFNZ0UsTUFESDtVQUVILGdCQUFnQjtRQUZiLENBQVgsQ0FKa0IsQ0FRZDs7UUFDSmIsSUFBSSxDQUFDZSxJQUFMLENBQVVsRSxJQUFWO1FBQ0EsSUFBSW1FLGFBQWEsR0FBRy9JLElBQUksQ0FBQ3FELElBQUwsQ0FBVXVGLE1BQVYsRUFBa0JqSSxZQUFsQixDQUFwQjtNQUNILENBWEQ7SUFZSCxDQWZELEVBakJvQixDQW1DcEI7O0lBQ0FBLFlBQVksQ0FBQ3dILGNBQWIsR0FBOEIsQ0FBOUIsRUFBaUNhLE9BQWpDLEdBQTJDLFlBQVc7TUFDbER0RCxlQUFlLENBQUMsYUFBRCxDQUFmO01BQ0EzRSxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsYUFBeEIsRUFBdUNtRixNQUF2QyxHQUZrRCxDQUdsRDs7TUFDQXVDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZOUgsZUFBWixFQUE2QndCLE9BQTdCLENBQXFDLFVBQVN1RyxNQUFULEVBQWlCO1FBQ2xELElBQUliLElBQUksR0FBRy9ILElBQUksQ0FBQzZJLE9BQUwsQ0FBYUQsTUFBYixDQUFYO1FBQ0FiLElBQUksQ0FBQ0QsRUFBTCxDQUFRLE1BQVIsRUFBZ0IsWUFBTTtVQUNsQjtBQUNwQjtBQUNBO1VBQ29CLElBQUlsRCxJQUFJLEdBQUc7WUFDUCxNQUFNZ0UsTUFEQztZQUVQLGdCQUFnQjtVQUZULENBQVg7VUFJQWIsSUFBSSxDQUFDZSxJQUFMLENBQVVsRSxJQUFWO1FBQ0gsQ0FURDtNQVVILENBWkQ7SUFhSCxDQWpCRCxDQXBDb0IsQ0EyRHBCOztFQUVILENBaEVEO0FBaUVIOztBQUVEMUQsZ0JBQWdCLENBQUMrSCxRQUFqQixHQUE0QmpDLE9BQTVCO0FBQ0E1RixpQkFBaUIsQ0FBQzZILFFBQWxCLEdBQTZCN0Usc0JBQTdCO0FBQ0EvQyxXQUFXLENBQUM0SCxRQUFaLEdBQXVCakMsT0FBdkI7QUFLQWhILElBQUksQ0FBQzhILEVBQUwsQ0FBUSxZQUFSLEVBQXNCLFVBQVNDLElBQVQsRUFBZTtFQUVqQ0EsSUFBSSxDQUFDRCxFQUFMLENBQVEsTUFBUixFQUFnQixVQUFTbEQsSUFBVCxFQUFlO0lBRTNCWCxPQUFPLENBQUNpQyxHQUFSLENBQVksa0NBQVosRUFBZ0R0QixJQUFoRDs7SUFFQSxJQUFJQSxJQUFJLENBQUNqRSxZQUFMLElBQXFCLElBQXpCLEVBQStCO01BRTNCQSxZQUFZLEdBQUcsSUFBZjtJQUVILENBSkQsTUFJTyxJQUFJaUUsSUFBSSxDQUFDakUsWUFBTCxJQUFxQixLQUF6QixFQUFnQztNQUVuQ3NELE9BQU8sQ0FBQ2lDLEdBQVIsQ0FBWSwyQkFBWjtNQUNBZ0IsV0FBVztNQUNYdkcsWUFBWSxHQUFHLEtBQWY7TUFDQSxPQUFPLEtBQVA7SUFDSCxDQU5NLE1BTUE7TUFFSHFILEtBQUssQ0FBQyxpQkFBRCxDQUFMO0lBQ0g7RUFFSixDQW5CRDtFQXFCQUQsSUFBSSxDQUFDRCxFQUFMLENBQVEsT0FBUixFQUFpQixVQUFDQyxJQUFELEVBQVU7SUFDdkI5RCxPQUFPLENBQUNpQyxHQUFSLENBQVksaURBQVosRUFBK0Q2QixJQUEvRDtJQUVBLElBQU1tQixXQUFXLEdBQUduSSxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsYUFBeEIsQ0FBcEIsQ0FIdUIsQ0FLdkI7O0lBQ0EsSUFBSWtJLFdBQUosRUFBaUI7TUFDZjtNQUNBQSxXQUFXLENBQUMvQyxNQUFaO0lBQ0QsQ0FIRCxNQUdPO01BQ0xsQyxPQUFPLENBQUNpQyxHQUFSLENBQVksMENBQVo7SUFDRDtFQUVKLENBYkQ7QUFlSCxDQXRDRDtBQXdDQWxHLElBQUksQ0FBQzhILEVBQUwsQ0FBUSxNQUFSLEVBQWdCLFVBQUM3QixFQUFELEVBQVE7RUFFcEI7RUFDQTtFQUNBO0VBRUFsRyxJQUFJLEdBQUdrRyxFQUFQO0VBRUFyQixJQUFJLEdBQUc7SUFDSCxNQUFNcUIsRUFESDtJQUVILFFBQVFwQixJQUZMO0lBR0gsVUFBVUM7RUFIUCxDQUFQO0VBTUFiLE9BQU8sQ0FBQ2lDLEdBQVIsQ0FBWSxTQUFaLEVBQXVCdEIsSUFBdkI7RUFFQWhGLE1BQU0sQ0FBQ3FILElBQVAsQ0FBWSxTQUFaLEVBQXVCckMsSUFBdkIsRUFoQm9CLENBa0JwQjs7RUFDQSxJQUFJRixLQUFLLEdBQUcsSUFBWjtFQUNBLElBQUlDLEtBQUssR0FBRyxJQUFaLENBcEJvQixDQXNCcEI7O0VBRUFJLEtBQUssQ0FBQ0wsS0FBRCxFQUFRQyxLQUFSLEVBQWVDLElBQWYsQ0FBTDtBQUVILENBMUJEO0FBOEJBNUUsSUFBSSxDQUFDOEgsRUFBTCxDQUFRLE1BQVIsRUFBZ0IsVUFBQXpFLElBQUksRUFBSTtFQUVwQixJQUFJOEYsR0FBRyxHQUFHLENBQVYsQ0FGb0IsQ0FJcEI7O0VBRUEsSUFBTXZDLFdBQVcsR0FBRzFGLGdCQUFnQixDQUFDa0IsS0FBckM7RUFDQSxJQUFNeUUsV0FBVyxHQUFHeEYsV0FBVyxDQUFDZSxLQUFoQztFQUNBLElBQU1pRSxXQUFXLEdBQUc7SUFDaEIxQixLQUFLLEVBQUU7TUFBRTlCLFFBQVEsRUFBRStELFdBQVcsR0FBRztRQUFFRSxLQUFLLEVBQUVGO01BQVQsQ0FBSCxHQUE0Qkc7SUFBbkQsQ0FEUztJQUVoQnJDLEtBQUssRUFBRTtNQUFFN0IsUUFBUSxFQUFFZ0UsV0FBVyxHQUFHO1FBQUVDLEtBQUssRUFBRUQ7TUFBVCxDQUFILEdBQTRCRTtJQUFuRDtFQUZTLENBQXBCO0VBS0FyRixTQUFTLENBQUNDLFlBQVYsQ0FBdUIyRSxZQUF2QixDQUFvQ0QsV0FBcEMsRUFBaUR4RSxJQUFqRCxDQUFzRCxVQUFDMEMsTUFBRCxFQUFZO0lBRTlEakUsY0FBYyxHQUFHaUUsTUFBakI7O0lBRUEsSUFBSUEsTUFBTSxDQUFDMkQsY0FBUCxHQUF3QnpGLE1BQXhCLElBQWtDLENBQWxDLElBQXVDOEIsTUFBTSxDQUFDNEQsY0FBUCxHQUF3QjFGLE1BQXhCLElBQWtDLENBQTdFLEVBQWdGLENBQzVFO0lBQ0gsQ0FGRCxNQUVPLENBQ0g7SUFDSDs7SUFFRFksSUFBSSxDQUFDNEUsTUFBTCxDQUFZMUQsTUFBWjtJQUVBbEIsSUFBSSxDQUFDeUUsRUFBTCxDQUFRLFFBQVIsRUFBa0IsVUFBQ08sVUFBRCxFQUFnQjtNQUU5QjlILGtCQUFrQixHQUFHOEgsVUFBckI7TUFDQXhILGVBQWUsQ0FBQ3dDLElBQUksQ0FBQ3JELElBQU4sQ0FBZixHQUE2QnFELElBQTdCLENBSDhCLENBSzlCOztNQUVBLElBQUk4RixHQUFHLElBQUksQ0FBWCxFQUFjO1FBRVYsSUFBSXhJLFlBQVksSUFBSSxJQUFwQixFQUEwQjtVQUd0QnNELE9BQU8sQ0FBQ2lDLEdBQVIsQ0FBWW1DLFVBQVosRUFBd0J4RCxJQUF4QixFQUE4QnhCLElBQUksQ0FBQ3JELElBQW5DO1VBRUEsSUFBSW9KLHFCQUFxQixHQUFHckksUUFBUSxDQUFDQyxjQUFULENBQXdCLHVCQUF4QixDQUE1QjtVQUNBLElBQUlrSSxXQUFXLEdBQUduSSxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsYUFBeEIsQ0FBbEI7O1VBRUEsSUFBSW9JLHFCQUFxQixJQUFJRixXQUF6QixJQUF3Q0UscUJBQXFCLENBQUNDLFFBQXRCLENBQStCSCxXQUEvQixDQUE1QyxFQUF5RixDQUN6RjtZQUNBO1lBQ0E7VUFDQyxDQUpELE1BSU87WUFFSFosU0FBUyxHQUFHdkgsUUFBUSxDQUFDNkIsYUFBVCxDQUF1QixPQUF2QixDQUFaO1lBQ0EwRixTQUFTLENBQUMvQixZQUFWLENBQXVCLElBQXZCLEVBQTZCLGFBQTdCO1lBQ0EsSUFBSStDLFVBQVUsR0FBRyxxQkFBcUJqQixVQUFVLENBQUNwQyxFQUFqRDtZQUNBcUMsU0FBUyxDQUFDL0IsWUFBVixDQUF1QixPQUF2QixFQUFnQytDLFVBQWhDO1lBRUEvRCxlQUFlLENBQUMsdUJBQUQsRUFBMEIrQyxTQUExQixFQUFxQ0QsVUFBckMsQ0FBZixDQVBHLENBU0g7O1lBQ0F0QyxlQUFlLENBQUMsYUFBRCxDQUFmO1VBQ0g7O1VBS0QsT0FBTyxLQUFQO1FBQ0g7O1FBRUQsSUFBSXNDLFVBQVUsQ0FBQ0gsY0FBWCxHQUE0QnpGLE1BQTVCLElBQXNDLENBQXRDLElBQTJDNEYsVUFBVSxDQUFDRixjQUFYLEdBQTRCMUYsTUFBNUIsSUFBc0MsQ0FBckYsRUFBd0Y7VUFFcEY7VUFFQXVELGlCQUFpQixDQUFDM0MsSUFBSSxDQUFDckQsSUFBTixDQUFqQjtVQUNBb0ksYUFBYSxHQUFHckgsUUFBUSxDQUFDNkIsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtVQUNBd0YsYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixJQUEzQixFQUFpQ2xELElBQUksQ0FBQ3JELElBQXRDO1VBQ0FvSSxhQUFhLENBQUM3QixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLG1CQUFwQztVQUNBNkIsYUFBYSxDQUFDeEUsS0FBZCxHQUFzQixLQUF0QjtVQUVBMEIsUUFBUSxDQUFDOEMsYUFBRCxFQUFnQkMsVUFBaEIsQ0FBUjtRQUNILENBWEQsTUFXTztVQUdIO1VBRUFyQyxpQkFBaUIsQ0FBQzNDLElBQUksQ0FBQ3JELElBQU4sQ0FBakI7VUFDQW9JLGFBQWEsR0FBR3JILFFBQVEsQ0FBQzZCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBaEI7VUFDQXdGLGFBQWEsQ0FBQzdCLFlBQWQsQ0FBMkIsSUFBM0IsRUFBaUNsRCxJQUFJLENBQUNyRCxJQUF0QztVQUNBb0ksYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixPQUEzQixFQUFvQyxtQkFBcEMsRUFSRyxDQVF1RDs7VUFDMUQ2QixhQUFhLENBQUM3QixZQUFkLENBQTJCLFVBQTNCLEVBQXVDLFVBQXZDO1VBQ0E2QixhQUFhLENBQUN4RSxLQUFkLEdBQXNCLEtBQXRCO1VBRUF5QixRQUFRLENBQUMrQyxhQUFELEVBQWdCQyxVQUFoQixDQUFSO1FBRUg7TUFDSjs7TUFDRGMsR0FBRztJQUNOLENBcEVEO0lBc0VBOUYsSUFBSSxDQUFDeUUsRUFBTCxDQUFRLE9BQVIsRUFBaUIsWUFBTTtNQUNuQjlCLGlCQUFpQixDQUFDM0MsSUFBSSxDQUFDckQsSUFBTixDQUFqQixDQURtQixDQUVuQjtJQUNILENBSEQ7RUFLSCxDQXZGRCxXQXVGUyxVQUFDOEQsS0FBRCxFQUFXO0lBRWhCO0lBSUEsSUFBTThDLFdBQVcsR0FBRzFGLGdCQUFnQixDQUFDa0IsS0FBckM7SUFDQSxJQUFNaUUsV0FBVyxHQUFHO01BQ2hCMUIsS0FBSyxFQUFFO1FBQUU5QixRQUFRLEVBQUUrRCxXQUFXLEdBQUc7VUFBRUUsS0FBSyxFQUFFRjtRQUFULENBQUgsR0FBNEJHO01BQW5ELENBRFM7TUFFaEJyQyxLQUFLLEVBQUU7SUFGUyxDQUFwQjtJQUtBaEQsU0FBUyxDQUFDQyxZQUFWLENBQXVCMkUsWUFBdkIsQ0FBb0NELFdBQXBDLEVBQWlEeEUsSUFBakQsQ0FBc0QsVUFBQzBDLE1BQUQsRUFBWTtNQUU5RGpFLGNBQWMsR0FBR2lFLE1BQWpCOztNQUNBLElBQUlBLE1BQU0sQ0FBQzJELGNBQVAsR0FBd0J6RixNQUF4QixJQUFrQyxDQUFsQyxJQUF1QzhCLE1BQU0sQ0FBQzRELGNBQVAsR0FBd0IxRixNQUF4QixJQUFrQyxDQUE3RSxFQUFnRixDQUM1RTtNQUNILENBRkQsTUFFTyxDQUNIO01BQ0g7O01BRURZLElBQUksQ0FBQzRFLE1BQUwsQ0FBWTFELE1BQVo7TUFFQWxCLElBQUksQ0FBQ3lFLEVBQUwsQ0FBUSxRQUFSLEVBQWtCLFVBQUNPLFVBQUQsRUFBZ0I7UUFFOUI5SCxrQkFBa0IsR0FBRzhILFVBQXJCO1FBQ0F4SCxlQUFlLENBQUN3QyxJQUFJLENBQUNyRCxJQUFOLENBQWYsR0FBNkJxRCxJQUE3Qjs7UUFFQSxJQUFJOEYsR0FBRyxJQUFJLENBQVgsRUFBYztVQUdWLElBQUl4SSxZQUFZLElBQUksSUFBcEIsRUFBMEI7WUFDdEIySCxTQUFTLEdBQUd2SCxRQUFRLENBQUM2QixhQUFULENBQXVCLE9BQXZCLENBQVo7WUFDQTBGLFNBQVMsQ0FBQy9CLFlBQVYsQ0FBdUIsSUFBdkIsRUFBNkIsZUFBN0I7WUFDQStCLFNBQVMsQ0FBQy9CLFlBQVYsQ0FBdUIsT0FBdkIsRUFBZ0MsdUJBQWhDLEVBSHNCLENBS3RCOztZQUNBaEIsZUFBZSxDQUFDLHVCQUFELEVBQTBCK0MsU0FBMUIsRUFBcUNELFVBQXJDLENBQWYsQ0FOc0IsQ0FRdEI7O1lBQ0F0QyxlQUFlLENBQUMsYUFBRCxDQUFmO1lBRUEsT0FBTyxLQUFQO1VBQ0g7O1VBRUQsSUFBSXNDLFVBQVUsQ0FBQ0gsY0FBWCxHQUE0QnpGLE1BQTVCLElBQXNDLENBQXRDLElBQTJDNEYsVUFBVSxDQUFDRixjQUFYLEdBQTRCMUYsTUFBNUIsSUFBc0MsQ0FBckYsRUFBd0Y7WUFFcEY7WUFFQXVELGlCQUFpQixDQUFDM0MsSUFBSSxDQUFDckQsSUFBTixDQUFqQjtZQUNBb0ksYUFBYSxHQUFHckgsUUFBUSxDQUFDNkIsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtZQUNBd0YsYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixJQUEzQixFQUFpQ2xELElBQUksQ0FBQ3JELElBQXRDO1lBQ0FvSSxhQUFhLENBQUM3QixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLG1CQUFwQztZQUNBNkIsYUFBYSxDQUFDeEUsS0FBZCxHQUFzQixLQUF0QjtZQUVBMEIsUUFBUSxDQUFDOEMsYUFBRCxFQUFnQkMsVUFBaEIsQ0FBUjtVQUNILENBWEQsTUFXTztZQUVIO1lBQ0FyQyxpQkFBaUIsQ0FBQzNDLElBQUksQ0FBQ3JELElBQU4sQ0FBakI7WUFDQW9JLGFBQWEsR0FBR3JILFFBQVEsQ0FBQzZCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBaEI7WUFDQXdGLGFBQWEsQ0FBQzdCLFlBQWQsQ0FBMkIsSUFBM0IsRUFBaUNsRCxJQUFJLENBQUNyRCxJQUF0QztZQUNBb0ksYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixPQUEzQixFQUFvQyxtQkFBcEMsRUFORyxDQU11RDs7WUFDMUQ2QixhQUFhLENBQUM3QixZQUFkLENBQTJCLFVBQTNCLEVBQXVDLFVBQXZDO1lBQ0E2QixhQUFhLENBQUN4RSxLQUFkLEdBQXNCLEtBQXRCO1lBQ0F5QixRQUFRLENBQUMrQyxhQUFELEVBQWdCQyxVQUFoQixDQUFSO1VBQ0g7UUFDSjs7UUFFRGMsR0FBRztNQUNOLENBL0NEO01BaURBOUYsSUFBSSxDQUFDeUUsRUFBTCxDQUFRLE9BQVIsRUFBaUIsWUFBTTtRQUNuQjlCLGlCQUFpQixDQUFDM0MsSUFBSSxDQUFDckQsSUFBTixDQUFqQixDQURtQixDQUVuQjtNQUNILENBSEQ7SUFLSCxDQWpFRCxXQWlFUyxVQUFDOEQsS0FBRCxFQUFXLENBQ2hCO0lBQ0gsQ0FuRUQ7RUFvRUgsQ0F2S0Q7QUF3S0gsQ0FyTEQ7QUF1TEE5RCxJQUFJLENBQUM4SCxFQUFMLENBQVEsT0FBUixFQUFpQixVQUFDN0IsRUFBRCxFQUFRO0VBQ3JCbEYsUUFBUSxDQUFDQyxjQUFULENBQXdCaUYsRUFBeEIsRUFBNEJFLE1BQTVCO0FBQ0gsQ0FGRDtBQUtBdkcsTUFBTSxDQUFDa0ksRUFBUCxDQUFVLFlBQVYsRUFBd0IsVUFBQ2xELElBQUQsRUFBVTtFQUc5Qi9ELGVBQWUsQ0FBQytELElBQUksQ0FBQ3FCLEVBQU4sQ0FBZixHQUEyQnJCLElBQTNCO0VBRUFYLE9BQU8sQ0FBQ2lDLEdBQVIsQ0FBWSw2REFBWixFQUEyRXRCLElBQUksQ0FBQ3FCLEVBQWhGO0VBRUEsSUFBTVcsV0FBVyxHQUFHMUYsZ0JBQWdCLENBQUNrQixLQUFyQztFQUNBLElBQU15RSxXQUFXLEdBQUd4RixXQUFXLENBQUNlLEtBQWhDO0VBQ0EsSUFBTWlFLFdBQVcsR0FBRztJQUNoQjFCLEtBQUssRUFBRTtNQUFFOUIsUUFBUSxFQUFFK0QsV0FBVyxHQUFHO1FBQUVFLEtBQUssRUFBRUY7TUFBVCxDQUFILEdBQTRCRztJQUFuRCxDQURTO0lBRWhCckMsS0FBSyxFQUFFO01BQUU3QixRQUFRLEVBQUVnRSxXQUFXLEdBQUc7UUFBRUMsS0FBSyxFQUFFRDtNQUFULENBQUgsR0FBNEJFO0lBQW5EO0VBRlMsQ0FBcEI7RUFLQXJGLFNBQVMsQ0FBQ0MsWUFBVixDQUF1QjJFLFlBQXZCLENBQW9DRCxXQUFwQyxFQUFpRHhFLElBQWpELENBQXNELFVBQUMwSCxXQUFELEVBQWlCO0lBRW5FO0lBRUEvSSxnQkFBZ0IsR0FBRytJLFdBQW5CO0lBRUFDLFFBQVEsR0FBR3hKLElBQUksQ0FBQ3FELElBQUwsQ0FBVXVCLElBQUksQ0FBQ3FCLEVBQWYsRUFBbUJzRCxXQUFuQixDQUFYOztJQUVBLElBQUlDLFFBQUosRUFBYztNQUVWM0ksZUFBZSxDQUFDMkksUUFBUSxDQUFDeEosSUFBVixDQUFmLEdBQWlDd0osUUFBakM7TUFFQSxJQUFJTCxHQUFHLEdBQUcsQ0FBVjtNQUVBSyxRQUFRLENBQUMxQixFQUFULENBQVksUUFBWixFQUFzQixVQUFDTyxVQUFELEVBQWdCO1FBRWxDLElBQUljLEdBQUcsSUFBSSxDQUFYLEVBQWM7VUFFVixJQUFJZCxVQUFVLENBQUNILGNBQVgsR0FBNEJ6RixNQUE1QixJQUFzQyxDQUF0QyxJQUEyQzRGLFVBQVUsQ0FBQ0YsY0FBWCxHQUE0QjFGLE1BQTVCLElBQXNDLENBQXJGLEVBQXdGO1lBSXBGdUQsaUJBQWlCLENBQUNwQixJQUFJLENBQUNxQixFQUFOLENBQWpCO1lBRUFtQyxhQUFhLEdBQUdySCxRQUFRLENBQUM2QixhQUFULENBQXVCLE9BQXZCLENBQWhCO1lBQ0F3RixhQUFhLENBQUM3QixZQUFkLENBQTJCLElBQTNCLEVBQWlDM0IsSUFBSSxDQUFDcUIsRUFBdEM7WUFDQW1DLGFBQWEsQ0FBQzdCLFlBQWQsQ0FBMkIsT0FBM0IsRUFBb0MsNEJBQXBDO1lBQ0E2QixhQUFhLENBQUN4RSxLQUFkLEdBQXNCLEtBQXRCO1lBRUEwQixRQUFRLENBQUM4QyxhQUFELEVBQWdCQyxVQUFoQixDQUFSO1VBRUgsQ0FiRCxNQWFPO1lBRUhyQyxpQkFBaUIsQ0FBQ3BCLElBQUksQ0FBQ3FCLEVBQU4sQ0FBakI7WUFFQW1DLGFBQWEsR0FBR3JILFFBQVEsQ0FBQzZCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBaEI7WUFDQXdGLGFBQWEsQ0FBQzdCLFlBQWQsQ0FBMkIsSUFBM0IsRUFBaUMzQixJQUFJLENBQUNxQixFQUF0QztZQUNBbUMsYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixPQUEzQixFQUFvQyw0QkFBcEM7WUFDQTZCLGFBQWEsQ0FBQzdCLFlBQWQsQ0FBMkIsVUFBM0IsRUFBdUMsVUFBdkM7WUFDQTZCLGFBQWEsQ0FBQ3hFLEtBQWQsR0FBc0IsS0FBdEI7WUFFQXlCLFFBQVEsQ0FBQytDLGFBQUQsRUFBZ0JDLFVBQWhCLENBQVI7VUFFSDtRQUNKOztRQUVEYyxHQUFHO01BQ04sQ0FqQ0Q7TUFtQ0FLLFFBQVEsQ0FBQzFCLEVBQVQsQ0FBWSxPQUFaLEVBQXFCLFlBQU07UUFDdkI5QixpQkFBaUIsQ0FBQ3BCLElBQUksQ0FBQ3FCLEVBQU4sQ0FBakI7TUFDSCxDQUZEO01BSUF1RCxRQUFRLENBQUMxQixFQUFULENBQVksT0FBWixFQUFxQixVQUFDdEIsR0FBRCxFQUFTLENBQzFCO01BQ0gsQ0FGRDtJQUtIOztJQUVEaUQsa0JBQWtCO0lBQ2xCQyxlQUFlO0VBRWxCLENBL0RELFdBK0RTLFVBQUM1RixLQUFELEVBQVc7SUFFaEI7SUFDQTtJQUdBLElBQU02RixnQkFBZ0IsR0FBRztNQUNyQmhGLEtBQUssRUFBRTtRQUFFOUIsUUFBUSxFQUFFK0QsV0FBVyxHQUFHO1VBQUVFLEtBQUssRUFBRUY7UUFBVCxDQUFILEdBQTRCRztNQUFuRCxDQURjO01BRXJCckMsS0FBSyxFQUFFO0lBRmMsQ0FBekI7SUFLQWhELFNBQVMsQ0FBQ0MsWUFBVixDQUF1QjJFLFlBQXZCLENBQW9DcUQsZ0JBQXBDLEVBQXNEOUgsSUFBdEQsQ0FBMkQsVUFBQzBHLGVBQUQsRUFBcUI7TUFDNUUvSCxnQkFBZ0IsR0FBRytILGVBQW5COztNQUdBLElBQUluSSxhQUFKLEVBQW1CO1FBQ2ZvSixRQUFRLEdBQUd4SixJQUFJLENBQUNxRCxJQUFMLENBQVV1QixJQUFJLENBQUNxQixFQUFmLEVBQW1Cc0MsZUFBbkIsQ0FBWDtNQUNILENBRkQsTUFFTztRQUNIM0QsSUFBSSxHQUFHO1VBQ0gsTUFBTTdFLElBREg7VUFFSCxRQUFROEUsSUFGTDtVQUdILFVBQVVDLE1BSFA7VUFJSCxlQUFleUQ7UUFKWixDQUFQO1FBT0EzSSxNQUFNLENBQUNxSCxJQUFQLENBQVksYUFBWixFQUEyQnJDLElBQTNCLEVBUkcsQ0FVSDs7UUFDQTRFLFFBQVEsR0FBRyxJQUFYO01BQ0g7O01BSUQsSUFBSUEsUUFBSixFQUFjO1FBRVYzSSxlQUFlLENBQUMySSxRQUFRLENBQUN4SixJQUFWLENBQWYsR0FBaUN3SixRQUFqQztRQUNBLElBQUlMLEdBQUcsR0FBRyxDQUFWO1FBQ0FLLFFBQVEsQ0FBQzFCLEVBQVQsQ0FBWSxRQUFaLEVBQXNCLFVBQUNPLFVBQUQsRUFBZ0I7VUFDbEMsSUFBSWMsR0FBRyxJQUFJLENBQVgsRUFBYztZQUVWLElBQUlkLFVBQVUsQ0FBQ0gsY0FBWCxHQUE0QnpGLE1BQTVCLElBQXNDLENBQXRDLElBQTJDNEYsVUFBVSxDQUFDRixjQUFYLEdBQTRCMUYsTUFBNUIsSUFBc0MsQ0FBckYsRUFBd0Y7Y0FFcEY7Y0FDQXVELGlCQUFpQixDQUFDcEIsSUFBSSxDQUFDcUIsRUFBTixDQUFqQjtjQUVBbUMsYUFBYSxHQUFHckgsUUFBUSxDQUFDNkIsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtjQUNBd0YsYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixJQUEzQixFQUFpQzNCLElBQUksQ0FBQ3FCLEVBQXRDO2NBQ0FtQyxhQUFhLENBQUM3QixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLDRCQUFwQztjQUNBNkIsYUFBYSxDQUFDeEUsS0FBZCxHQUFzQixLQUF0QjtjQUNBMEIsUUFBUSxDQUFDOEMsYUFBRCxFQUFnQkMsVUFBaEIsQ0FBUjtZQUVILENBWEQsTUFXTztjQUNIckMsaUJBQWlCLENBQUNwQixJQUFJLENBQUNxQixFQUFOLENBQWpCO2NBQ0FtQyxhQUFhLEdBQUdySCxRQUFRLENBQUM2QixhQUFULENBQXVCLE9BQXZCLENBQWhCO2NBQ0F3RixhQUFhLENBQUM3QixZQUFkLENBQTJCLElBQTNCLEVBQWlDM0IsSUFBSSxDQUFDcUIsRUFBdEM7Y0FDQW1DLGFBQWEsQ0FBQzdCLFlBQWQsQ0FBMkIsT0FBM0IsRUFBb0MsNEJBQXBDO2NBQ0E2QixhQUFhLENBQUM3QixZQUFkLENBQTJCLFVBQTNCLEVBQXVDLFVBQXZDO2NBQ0E2QixhQUFhLENBQUN4RSxLQUFkLEdBQXNCLEtBQXRCO2NBQ0F5QixRQUFRLENBQUMrQyxhQUFELEVBQWdCQyxVQUFoQixDQUFSO1lBQ0g7VUFDSjs7VUFDRGMsR0FBRztRQUNOLENBekJEO1FBMkJBSyxRQUFRLENBQUMxQixFQUFULENBQVksT0FBWixFQUFxQixZQUFNO1VBQ3ZCOUIsaUJBQWlCLENBQUNwQixJQUFJLENBQUNxQixFQUFOLENBQWpCO1FBQ0gsQ0FGRDtRQUlBdUQsUUFBUSxDQUFDMUIsRUFBVCxDQUFZLE9BQVosRUFBcUIsVUFBQ3RCLEdBQUQsRUFBUyxDQUMxQjtRQUNILENBRkQ7UUFJQTNGLGVBQWUsQ0FBQytELElBQUksQ0FBQ3FCLEVBQU4sQ0FBZixHQUEyQnVELFFBQTNCO01BQ0g7SUFDSixDQS9ERCxXQStEUyxVQUFDMUYsS0FBRCxFQUFXLENBRWhCO01BQ0E7SUFDSCxDQW5FRDtJQXFFQTJGLGtCQUFrQjtJQUNsQkMsZUFBZTtFQUVsQixDQWxKRDtBQW9KSCxDQWxLRDtBQXFLQTlKLE1BQU0sQ0FBQ2tJLEVBQVAsQ0FBVSxjQUFWLEVBQTBCLFVBQUNsRCxJQUFELEVBQVU7RUFDaEMsSUFBTWdDLFdBQVcsR0FBRzFGLGdCQUFnQixDQUFDa0IsS0FBckM7RUFDQSxJQUFNeUUsV0FBVyxHQUFHeEYsV0FBVyxDQUFDZSxLQUFoQztFQUNBLElBQU1pRSxXQUFXLEdBQUc7SUFDaEIxQixLQUFLLEVBQUU7TUFBRTlCLFFBQVEsRUFBRStELFdBQVcsR0FBRztRQUFFRSxLQUFLLEVBQUVGO01BQVQsQ0FBSCxHQUE0Qkc7SUFBbkQsQ0FEUztJQUVoQnJDLEtBQUssRUFBRTtNQUFFN0IsUUFBUSxFQUFFZ0UsV0FBVyxHQUFHO1FBQUVDLEtBQUssRUFBRUQ7TUFBVCxDQUFILEdBQTRCRTtJQUFuRDtFQUZTLENBQXBCO0VBS0FyRixTQUFTLENBQUNDLFlBQVYsQ0FBdUIyRSxZQUF2QixDQUFvQ0QsV0FBcEMsRUFBaUR4RSxJQUFqRCxDQUFzRCxVQUFDd0csVUFBRCxFQUFnQjtJQUVsRTtJQUVBbUIsUUFBUSxHQUFHeEosSUFBSSxDQUFDcUQsSUFBTCxDQUFVdUIsSUFBSSxDQUFDcUIsRUFBZixFQUFtQm9DLFVBQW5CLENBQVg7O0lBRUEsSUFBSW1CLFFBQUosRUFBYztNQUVWLElBQUlMLEdBQUcsR0FBRyxDQUFWO01BRUFLLFFBQVEsQ0FBQzFCLEVBQVQsQ0FBWSxRQUFaLEVBQXNCLFVBQUNPLFVBQUQsRUFBZ0I7UUFFbEMsSUFBSWMsR0FBRyxJQUFJLENBQVgsRUFBYztVQUVWO1VBRUEsSUFBSWQsVUFBVSxDQUFDSCxjQUFYLEdBQTRCekYsTUFBNUIsSUFBc0MsQ0FBdEMsSUFBMkM0RixVQUFVLENBQUNGLGNBQVgsR0FBNEIxRixNQUE1QixJQUFzQyxDQUFyRixFQUF3RjtZQUVwRnVELGlCQUFpQixDQUFDcEIsSUFBSSxDQUFDcUIsRUFBTixDQUFqQjtZQUVBbUMsYUFBYSxHQUFHckgsUUFBUSxDQUFDNkIsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtZQUNBd0YsYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixJQUEzQixFQUFpQ2lELFFBQVEsQ0FBQ3hKLElBQTFDO1lBQ0FvSSxhQUFhLENBQUM3QixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLHlCQUFwQztZQUNBNkIsYUFBYSxDQUFDeEUsS0FBZCxHQUFzQixLQUF0QjtZQUVBMEIsUUFBUSxDQUFDOEMsYUFBRCxFQUFnQkMsVUFBaEIsQ0FBUjtVQUdILENBWkQsTUFZTztZQUVIckMsaUJBQWlCLENBQUNwQixJQUFJLENBQUNxQixFQUFOLENBQWpCO1lBQ0FtQyxhQUFhLEdBQUdySCxRQUFRLENBQUM2QixhQUFULENBQXVCLE9BQXZCLENBQWhCO1lBQ0F3RixhQUFhLENBQUM3QixZQUFkLENBQTJCLElBQTNCLEVBQWlDM0IsSUFBSSxDQUFDcUIsRUFBdEM7WUFDQW1DLGFBQWEsQ0FBQzdCLFlBQWQsQ0FBMkIsT0FBM0IsRUFBb0MseUJBQXBDO1lBQ0E2QixhQUFhLENBQUM3QixZQUFkLENBQTJCLFVBQTNCLEVBQXVDLFVBQXZDO1lBQ0E2QixhQUFhLENBQUN4RSxLQUFkLEdBQXNCLEtBQXRCO1lBQ0F5QixRQUFRLENBQUMrQyxhQUFELEVBQWdCQyxVQUFoQixDQUFSO1VBQ0g7UUFDSjs7UUFDRGMsR0FBRztNQUNOLENBOUJEO01BZ0NBSyxRQUFRLENBQUMxQixFQUFULENBQVksT0FBWixFQUFxQixZQUFNO1FBQ3ZCOUIsaUJBQWlCLENBQUNwQixJQUFJLENBQUNxQixFQUFOLENBQWpCO01BQ0gsQ0FGRDtNQUlBdUQsUUFBUSxDQUFDMUIsRUFBVCxDQUFZLE9BQVosRUFBcUIsVUFBQ3RCLEdBQUQsRUFBUyxDQUMxQjtNQUNILENBRkQ7TUFJQTNGLGVBQWUsQ0FBQytELElBQUksQ0FBQ3FCLEVBQU4sQ0FBZixHQUEyQnVELFFBQTNCO0lBQ0g7RUFHSixDQXRERCxXQXNEUyxVQUFDMUYsS0FBRCxFQUFXO0lBRWhCLElBQU02RixnQkFBZ0IsR0FBRztNQUNyQmhGLEtBQUssRUFBRTtRQUFFOUIsUUFBUSxFQUFFK0QsV0FBVyxHQUFHO1VBQUVFLEtBQUssRUFBRUY7UUFBVCxDQUFILEdBQTRCRztNQUFuRCxDQURjO01BRXJCckMsS0FBSyxFQUFFO0lBRmMsQ0FBekI7SUFLQWhELFNBQVMsQ0FBQ0MsWUFBVixDQUF1QjJFLFlBQXZCLENBQW9DcUQsZ0JBQXBDLEVBQXNEOUgsSUFBdEQsQ0FBMkQsVUFBQ3dHLFVBQUQsRUFBZ0I7TUFFdkUvSCxjQUFjLEdBQUcrSCxVQUFqQixDQUZ1RSxDQUl2RTs7TUFFQW1CLFFBQVEsR0FBR3hKLElBQUksQ0FBQ3FELElBQUwsQ0FBVXVCLElBQUksQ0FBQ3FCLEVBQWYsRUFBbUJvQyxVQUFuQixDQUFYOztNQUVBLElBQUltQixRQUFKLEVBQWM7UUFFVixJQUFJTCxHQUFHLEdBQUcsQ0FBVjtRQUVBSyxRQUFRLENBQUMxQixFQUFULENBQVksUUFBWixFQUFzQixVQUFDTyxVQUFELEVBQWdCO1VBRWxDOUgsa0JBQWtCLEdBQUc4SCxVQUFyQixDQUZrQyxDQUlsQzs7VUFFQSxJQUFJYyxHQUFHLElBQUksQ0FBWCxFQUFjO1lBRVY7WUFDQTtZQUVBLElBQUlkLFVBQVUsQ0FBQ0gsY0FBWCxHQUE0QnpGLE1BQTVCLElBQXNDLENBQXRDLElBQTJDNEYsVUFBVSxDQUFDRixjQUFYLEdBQTRCMUYsTUFBNUIsSUFBc0MsQ0FBckYsRUFBd0Y7Y0FFcEY7Y0FFQXVELGlCQUFpQixDQUFDd0QsUUFBUSxDQUFDeEosSUFBVixDQUFqQjtjQUNBb0ksYUFBYSxHQUFHckgsUUFBUSxDQUFDNkIsYUFBVCxDQUF1QixPQUF2QixDQUFoQjtjQUNBd0YsYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixJQUEzQixFQUFpQ2lELFFBQVEsQ0FBQ3hKLElBQTFDO2NBQ0FvSSxhQUFhLENBQUM3QixZQUFkLENBQTJCLE9BQTNCLEVBQW9DLGlCQUFwQztjQUNBNkIsYUFBYSxDQUFDeEUsS0FBZCxHQUFzQixLQUF0QjtjQUNBMEIsUUFBUSxDQUFDOEMsYUFBRCxFQUFnQkMsVUFBaEIsQ0FBUjtZQUNILENBVkQsTUFVTztjQUVIO2NBRUFyQyxpQkFBaUIsQ0FBQ3dELFFBQVEsQ0FBQ3hKLElBQVYsQ0FBakI7Y0FDQW9JLGFBQWEsR0FBR3JILFFBQVEsQ0FBQzZCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBaEI7Y0FDQXdGLGFBQWEsQ0FBQzdCLFlBQWQsQ0FBMkIsSUFBM0IsRUFBaUNpRCxRQUFRLENBQUN4SixJQUExQztjQUNBb0ksYUFBYSxDQUFDN0IsWUFBZCxDQUEyQixPQUEzQixFQUFvQyxxQkFBcEM7Y0FDQTZCLGFBQWEsQ0FBQzdCLFlBQWQsQ0FBMkIsVUFBM0IsRUFBdUMsVUFBdkM7Y0FDQTZCLGFBQWEsQ0FBQ3hFLEtBQWQsR0FBc0IsS0FBdEI7Y0FDQXlCLFFBQVEsQ0FBQytDLGFBQUQsRUFBZ0JDLFVBQWhCLENBQVI7WUFDSDtVQUNKOztVQUdEYyxHQUFHO1FBQ04sQ0FyQ0Q7UUF1Q0FLLFFBQVEsQ0FBQzFCLEVBQVQsQ0FBWSxPQUFaLEVBQXFCLFlBQU07VUFDdkI5QixpQkFBaUIsQ0FBQ3BCLElBQUksQ0FBQ3FCLEVBQU4sQ0FBakI7UUFDSCxDQUZEO1FBSUF1RCxRQUFRLENBQUMxQixFQUFULENBQVksT0FBWixFQUFxQixVQUFDdEIsR0FBRCxFQUFTLENBQzFCO1FBQ0gsQ0FGRDtRQUlBM0YsZUFBZSxDQUFDK0QsSUFBSSxDQUFDcUIsRUFBTixDQUFmLEdBQTJCdUQsUUFBM0I7TUFDSDtJQUdKLENBL0RELFdBK0RTLFVBQUMxRixLQUFELEVBQVcsQ0FFaEI7TUFDQTtJQUNILENBbkVEO0VBcUVILENBbElEO0FBbUlILENBM0lEO0FBOElBbEUsTUFBTSxDQUFDa0ksRUFBUCxDQUFVLDJCQUFWLEVBQXVDLFVBQUFqRCxJQUFJLEVBQUk7RUFFM0NaLE9BQU8sQ0FBQ2lDLEdBQVIsQ0FBWSx5QkFBWixFQUF1Q3JCLElBQXZDO0VBRUFtQixpQkFBaUIsQ0FBQ25CLElBQUksQ0FBQytFLE1BQU4sQ0FBakI7O0VBQ0EsSUFBSTtJQUNBL0ksZUFBZSxDQUFDZ0UsSUFBSSxDQUFDK0UsTUFBTixDQUFmLENBQTZCQyxLQUE3QjtFQUNILENBRkQsQ0FFRSxPQUFPckQsR0FBUCxFQUFZLENBQ1Y7RUFDSDtBQUNKLENBVkQ7O0FBYUEsU0FBU2tELGVBQVQsR0FBMkI7RUFDdkIsSUFBTUksUUFBUSxHQUFHL0ksUUFBUSxDQUFDSSxhQUFULENBQXVCLGlCQUF2QixDQUFqQixDQUR1QixDQUd2Qjs7RUFDQSxJQUFJMkksUUFBUSxDQUFDakUsS0FBVCxDQUFlQyxPQUFmLEtBQTJCLE1BQS9CLEVBQXVDO0lBQ25DO0lBQ0E3QixPQUFPLENBQUNpQyxHQUFSLENBQVksNkNBQVo7SUFDQTZELE9BQU87RUFDVjtBQUNKOztBQUVELFNBQVNBLE9BQVQsR0FBbUI7RUFDakJ2SixnQkFBZ0IsQ0FBQzBILGNBQWpCLEdBQWtDN0YsT0FBbEMsQ0FBMEMsVUFBQ3FFLEtBQUQsRUFBVztJQUNuREEsS0FBSyxDQUFDc0QsT0FBTixHQUFnQixDQUFDdEQsS0FBSyxDQUFDc0QsT0FBdkI7RUFDRCxDQUZEO0FBR0Q7O0FBR0QsU0FBU0MsU0FBVCxHQUFxQjtFQUNqQixJQUFJekosZ0JBQWdCLElBQUksSUFBeEIsRUFBOEI7SUFDMUJBLGdCQUFnQixDQUFDMEgsY0FBakIsR0FBa0M3RixPQUFsQyxDQUEwQyxVQUFDcUUsS0FBRCxFQUFXO01BQ2pEQSxLQUFLLENBQUNzRCxPQUFOLEdBQWdCLENBQUN0RCxLQUFLLENBQUNzRCxPQUF2QixDQURpRCxDQUVqRDs7TUFFQSxJQUFJdEQsS0FBSyxDQUFDc0QsT0FBTixJQUFpQixJQUFyQixFQUEyQjtRQUN2QkUsQ0FBQyxDQUFDLDRCQUFELENBQUQsQ0FBZ0NDLElBQWhDO1FBQ0FELENBQUMsQ0FBQyw4QkFBRCxDQUFELENBQWtDRSxJQUFsQztNQUNILENBSEQsTUFHTztRQUNIRixDQUFDLENBQUMsNEJBQUQsQ0FBRCxDQUFnQ0UsSUFBaEM7UUFDQUYsQ0FBQyxDQUFDLDhCQUFELENBQUQsQ0FBa0NDLElBQWxDO01BQ0g7SUFDSixDQVhEO0VBYUg7O0VBRUQsSUFBSTdKLGNBQWMsSUFBSSxJQUF0QixFQUE0QjtJQUN4QkEsY0FBYyxDQUFDNEgsY0FBZixHQUFnQzdGLE9BQWhDLENBQXdDLFVBQUNxRSxLQUFELEVBQVc7TUFDL0NBLEtBQUssQ0FBQ3NELE9BQU4sR0FBZ0IsQ0FBQ3RELEtBQUssQ0FBQ3NELE9BQXZCLENBRCtDLENBRS9DOztNQUVBLElBQUl0RCxLQUFLLENBQUNzRCxPQUFOLElBQWlCLElBQXJCLEVBQTJCO1FBQ3ZCRSxDQUFDLENBQUMsNEJBQUQsQ0FBRCxDQUFnQ0MsSUFBaEM7UUFDQUQsQ0FBQyxDQUFDLDhCQUFELENBQUQsQ0FBa0NFLElBQWxDO01BQ0gsQ0FIRCxNQUdPO1FBQ0hGLENBQUMsQ0FBQyw0QkFBRCxDQUFELENBQWdDRSxJQUFoQztRQUNBRixDQUFDLENBQUMsOEJBQUQsQ0FBRCxDQUFrQ0MsSUFBbEM7TUFDSDtJQUNKLENBWEQ7RUFZSDtBQUNKOztBQUlELFNBQVNWLGtCQUFULEdBQThCO0VBQzFCLElBQU1ZLFNBQVMsR0FBR3RKLFFBQVEsQ0FBQ0ksYUFBVCxDQUF1QixpQkFBdkIsQ0FBbEI7O0VBQ0EsSUFBSWtKLFNBQVMsQ0FBQ3hFLEtBQVYsQ0FBZ0JDLE9BQWhCLEtBQTRCLE1BQWhDLEVBQXdDO0lBQ3BDN0IsT0FBTyxDQUFDaUMsR0FBUixDQUFZLCtDQUFaO0lBQ0FvRSxZQUFZO0VBQ2Y7QUFDSjs7QUFFRCxTQUFTQSxZQUFULEdBQXdCO0VBQ3BCOUosZ0JBQWdCLENBQUMySCxjQUFqQixHQUFrQzlGLE9BQWxDLENBQTBDLFVBQUNxRSxLQUFELEVBQVc7SUFDbkRBLEtBQUssQ0FBQ3NELE9BQU4sR0FBZ0IsQ0FBQ3RELEtBQUssQ0FBQ3NELE9BQXZCO0VBQ0QsQ0FGRDtBQUdEOztBQUdILFNBQVNPLFlBQVQsR0FBd0I7RUFDcEIsSUFBSS9KLGdCQUFnQixJQUFJLElBQXhCLEVBQThCO0lBQzFCQSxnQkFBZ0IsQ0FBQzJILGNBQWpCLEdBQWtDOUYsT0FBbEMsQ0FBMEMsVUFBQ3FFLEtBQUQsRUFBVztNQUNqREEsS0FBSyxDQUFDc0QsT0FBTixHQUFnQixDQUFDdEQsS0FBSyxDQUFDc0QsT0FBdkIsQ0FEaUQsQ0FFakQ7O01BRUEsSUFBSXRELEtBQUssQ0FBQ3NELE9BQU4sSUFBaUIsSUFBckIsRUFBMkI7UUFDdkJFLENBQUMsQ0FBQyx5QkFBRCxDQUFELENBQTZCQyxJQUE3QjtRQUNBRCxDQUFDLENBQUMsK0JBQUQsQ0FBRCxDQUFtQ0UsSUFBbkM7TUFDSCxDQUhELE1BR087UUFDSEYsQ0FBQyxDQUFDLHlCQUFELENBQUQsQ0FBNkJFLElBQTdCO1FBQ0FGLENBQUMsQ0FBQywrQkFBRCxDQUFELENBQW1DQyxJQUFuQztNQUNIO0lBQ0osQ0FYRDtFQVlIOztFQUdELElBQUk3SixjQUFjLElBQUksSUFBdEIsRUFBNEI7SUFDeEJBLGNBQWMsQ0FBQzZILGNBQWYsR0FBZ0M5RixPQUFoQyxDQUF3QyxVQUFDcUUsS0FBRCxFQUFXO01BQy9DQSxLQUFLLENBQUNzRCxPQUFOLEdBQWdCLENBQUN0RCxLQUFLLENBQUNzRCxPQUF2QixDQUQrQyxDQUUvQzs7TUFFQSxJQUFJdEQsS0FBSyxDQUFDc0QsT0FBTixJQUFpQixJQUFyQixFQUEyQjtRQUN2QkUsQ0FBQyxDQUFDLHlCQUFELENBQUQsQ0FBNkJDLElBQTdCO1FBQ0FELENBQUMsQ0FBQywrQkFBRCxDQUFELENBQW1DRSxJQUFuQztNQUNILENBSEQsTUFHTztRQUNIRixDQUFDLENBQUMseUJBQUQsQ0FBRCxDQUE2QkUsSUFBN0I7UUFDQUYsQ0FBQyxDQUFDLCtCQUFELENBQUQsQ0FBbUNDLElBQW5DO01BQ0g7SUFFSixDQVpEO0VBY0g7QUFDSjs7QUFFRCxJQUFJSyxjQUFjLEdBQUd6SixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsZ0JBQXhCLENBQXJCOztBQUVBLElBQUl3SixjQUFKLEVBQW9CO0VBQ2hCekosUUFBUSxDQUFDQyxjQUFULENBQXdCLGdCQUF4QixFQUEwQ2lFLGdCQUExQyxDQUEyRCxPQUEzRCxFQUFvRSxZQUFXO0lBQzNFdUQsV0FBVztFQUNkLENBRkQ7QUFHSDs7QUFHRCxJQUFJaUMsZUFBZSxHQUFHMUosUUFBUSxDQUFDQyxjQUFULENBQXdCLGNBQXhCLENBQXRCOztBQUVBLElBQUl5SixlQUFKLEVBQXFCO0VBQ2pCMUosUUFBUSxDQUFDQyxjQUFULENBQXdCLGNBQXhCLEVBQXdDaUUsZ0JBQXhDLENBQXlELE9BQXpELEVBQWtFLFlBQVc7SUFDekVzRixZQUFZO0VBQ2YsQ0FGRDtBQUdIOztBQUVELElBQUlHLGNBQWMsR0FBRzNKLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixhQUF4QixDQUFyQjs7QUFFQSxJQUFJMEosY0FBSixFQUFvQjtFQUNoQjNKLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixhQUF4QixFQUF1Q2lFLGdCQUF2QyxDQUF3RCxPQUF4RCxFQUFpRSxZQUFXO0lBQ3hFZ0YsU0FBUztFQUNaLENBRkQ7QUFHSDtBQUVEOzs7QUFDQSxTQUFTVSxTQUFULENBQW1CQyxNQUFuQixFQUEyQjtFQUN2QnhLLGFBQWEsQ0FBQzhILGNBQWQsR0FBK0I3RixPQUEvQixDQUF1QyxVQUFBcUUsS0FBSyxFQUFJO0lBQzVDQSxLQUFLLENBQUNtRSxnQkFBTixDQUF1QjtNQUFFRCxNQUFNLEVBQUVBO0lBQVYsQ0FBdkI7RUFDSCxDQUZEO0FBR0g7O0FBSUQsSUFBTUUsYUFBYSxHQUFHL0osUUFBUSxDQUFDQyxjQUFULENBQXdCLGdCQUF4QixDQUF0Qjs7QUFDQSxJQUFJOEosYUFBSixFQUFtQjtFQUNmQSxhQUFhLENBQUM3RixnQkFBZCxDQUErQixPQUEvQixFQUF3QyxZQUFNO0lBQzFDMEYsU0FBUyxDQUFDRyxhQUFhLENBQUMxSSxLQUFmLENBQVQ7RUFDSCxDQUZEO0FBR0g7O0FBRUQsU0FBUzJJLGlCQUFULENBQTJCeEIsV0FBM0IsRUFBd0M7RUFDcENBLFdBQVcsQ0FBQ3BCLGNBQVosR0FBNkI5RixPQUE3QixDQUFxQyxVQUFDcUUsS0FBRCxFQUFXO0lBQzVDQSxLQUFLLENBQUNDLElBQU47RUFDSCxDQUZEO0FBR0g7O0FBRUQsU0FBU3FFLGtCQUFULENBQTRCQyxXQUE1QixFQUF5QztFQUNyQ0EsV0FBVyxDQUFDL0MsY0FBWixHQUE2QjdGLE9BQTdCLENBQXFDLFVBQUNxRSxLQUFELEVBQVc7SUFDNUNBLEtBQUssQ0FBQ0MsSUFBTjtFQUNILENBRkQ7QUFHSDtBQUVEOzs7QUFDQSxTQUFTdUUseUJBQVQsR0FBcUM7RUFDakNoQixDQUFDLENBQUMsY0FBRCxDQUFELENBQWtCL0QsTUFBbEI7QUFDSDs7U0FFY2dGLGdCOzs7OztpRkFBZjtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQ0l6QyxNQUFNLENBQUNDLElBQVAsQ0FBWTlILGVBQVosRUFBNkJ3QixPQUE3QixDQUFxQyxVQUFTdUcsTUFBVCxFQUFpQjtjQUNsRC9ILGVBQWUsQ0FBQytILE1BQUQsQ0FBZixDQUF3QmlCLEtBQXhCO1lBQ0gsQ0FGRDs7WUFJQSxJQUFJekosYUFBYSxJQUFJLElBQXJCLEVBQTJCO2NBQ3ZCMkssaUJBQWlCLENBQUMzSyxhQUFELENBQWpCO2NBQ0E0SyxrQkFBa0IsQ0FBQzVLLGFBQUQsQ0FBbEI7WUFDSDs7WUFFRCxJQUFJQyxhQUFhLElBQUksSUFBckIsRUFBMkI7Y0FDdkIwSyxpQkFBaUIsQ0FBQzFLLGFBQUQsQ0FBakI7Y0FDQTJLLGtCQUFrQixDQUFDM0ssYUFBRCxDQUFsQjtZQUNIOztZQUVELElBQUlHLGdCQUFnQixJQUFJLElBQXhCLEVBQThCO2NBQzFCdUssaUJBQWlCLENBQUN2SyxnQkFBRCxDQUFqQjtjQUNBd0ssa0JBQWtCLENBQUN4SyxnQkFBRCxDQUFsQjtZQUNIOztZQUVELElBQUlGLGNBQWMsSUFBSSxJQUF0QixFQUE0QjtjQUN4QnlLLGlCQUFpQixDQUFDekssY0FBRCxDQUFqQjtjQUNBMEssa0JBQWtCLENBQUMxSyxjQUFELENBQWxCO1lBQ0g7O1lBRUQsSUFBSUMsa0JBQWtCLElBQUksSUFBMUIsRUFBZ0M7Y0FDNUJ3SyxpQkFBaUIsQ0FBQ3hLLGtCQUFELENBQWpCO2NBQ0F5SyxrQkFBa0IsQ0FBQ3pLLGtCQUFELENBQWxCO1lBQ0g7O1lBRUQySyx5QkFBeUI7O1VBOUI3QjtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDOzs7O0FBaUNBLElBQU1FLHNCQUFzQixHQUFHckssUUFBUSxDQUFDQyxjQUFULENBQXdCLHVCQUF4QixDQUEvQjs7QUFFQSxJQUFJb0ssc0JBQUosRUFBNEI7RUFDeEJBLHNCQUFzQixDQUFDbkcsZ0JBQXZCLENBQXdDLE9BQXhDLEVBQWlELFlBQU07SUFDbkRrRyxnQkFBZ0I7RUFDbkIsQ0FGRDtBQUdIIiwiZmlsZSI6Ii4vcmVzb3VyY2VzL2pzL3dlYlJUQy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNvY2tldCA9IGlvKEFQUF9XRUJSVENfU0VSVkVSX1VSTCwge30pO1xuLy9jb25zdCBzb2NrZXQgPSBpbygne3sgaHR0cHM6Ly9ydGNzZXJ2ZXIuZXN1Y2Nlc3MtaW5jLmNvbTo0MDAwMn19Jywge30pO1xuXG5sZXQgbXlJZCA9IG51bGw7XG5cbmNvbnN0IHBlZXIgPSBuZXcgUGVlcih7XG4gICAgaW5pdGlhdG9yOiBmYWxzZSxcbiAgICB0cmlja2xlOiBmYWxzZSxcbn0pO1xuXG4ndXNlIHN0cmljdCc7XG5cbmxldCBteVZpZGVvU3RyZWFtID0gbnVsbDtcbmxldCBteUF1ZGlvU3RyZWFtID0gbnVsbDtcblxuLy90aGlzIHdpbGwgZGV0ZXJtaW5lIHdobyBjYWxsc1xubGV0IHVzZXJDYWxsU3RyZWFtID0gbnVsbDtcbmxldCByZWNpZXZlckNhbGxTdHJlYW0gPSBudWxsO1xubGV0IHVzZXJKb2luZWRTdHJlYW0gPSBudWxsO1xuXG4vL0VsZW1lbnRzXG5sZXQgdmlkZW9FbGVtZW50O1xubGV0IGF1ZGlvRWxlbWVudDtcblxuLy9TaGFyZSBTY3JlZW5cbmxldCBzaGFyZWRTY3JlZW4gPSBmYWxzZTtcbmxldCBjaGVja2luZ0ludGVydmFsID0gbnVsbDtcblxuY29uc3QgcGVlckNvbm5lY3Rpb25zID0ge31cblxubGV0IG1lZGlhQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215TWVkaWFDb250YWluZXInKTtcbmxldCB2aWRlb0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlkZW9HcmlkJyk7XG5cbi8vU291cmNlXG5jb25zdCBhdWRpb0lucHV0U2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0I2F1ZGlvU291cmNlJyk7XG5jb25zdCBhdWRpb091dHB1dFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCNhdWRpb091dHB1dCcpO1xuY29uc3QgdmlkZW9TZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QjdmlkZW9Tb3VyY2UnKTtcbmNvbnN0IHNlbGVjdG9ycyA9IFthdWRpb0lucHV0U2VsZWN0LCBhdWRpb091dHB1dFNlbGVjdCwgdmlkZW9TZWxlY3RdO1xuXG5hdWRpb091dHB1dFNlbGVjdC5kaXNhYmxlZCA9ICEoJ3NpbmtJZCcgaW4gSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUpO1xuXG5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKGdvdERldmljZXMpLmNhdGNoKGhhbmRsZUVycm9yKTtcblxuXG5mdW5jdGlvbiBnb3REZXZpY2VzKGRldmljZUluZm9zKSB7XG4gICAgLy8gSGFuZGxlcyBiZWluZyBjYWxsZWQgc2V2ZXJhbCB0aW1lcyB0byB1cGRhdGUgbGFiZWxzLiBQcmVzZXJ2ZSB2YWx1ZXMuXG4gICAgY29uc3QgdmFsdWVzID0gc2VsZWN0b3JzLm1hcChzZWxlY3QgPT4gc2VsZWN0LnZhbHVlKTtcbiAgICBzZWxlY3RvcnMuZm9yRWFjaChzZWxlY3QgPT4ge1xuICAgICAgICB3aGlsZSAoc2VsZWN0LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHNlbGVjdC5yZW1vdmVDaGlsZChzZWxlY3QuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGV2aWNlSW5mb3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgZGV2aWNlSW5mbyA9IGRldmljZUluZm9zW2ldO1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gZGV2aWNlSW5mby5kZXZpY2VJZDtcblxuICAgICAgICBpZiAoZGV2aWNlSW5mby5raW5kID09PSAnYXVkaW9pbnB1dCcpIHtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0ID0gZGV2aWNlSW5mby5sYWJlbCB8fCBgbWljcm9waG9uZSAke2F1ZGlvSW5wdXRTZWxlY3QubGVuZ3RoICsgMX1gO1xuICAgICAgICAgICAgYXVkaW9JbnB1dFNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKGRldmljZUluZm8ua2luZCA9PT0gJ2F1ZGlvb3V0cHV0Jykge1xuICAgICAgICAgICAgb3B0aW9uLnRleHQgPSBkZXZpY2VJbmZvLmxhYmVsIHx8IGBzcGVha2VyICR7YXVkaW9PdXRwdXRTZWxlY3QubGVuZ3RoICsgMX1gO1xuICAgICAgICAgICAgYXVkaW9PdXRwdXRTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSBlbHNlIGlmIChkZXZpY2VJbmZvLmtpbmQgPT09ICd2aWRlb2lucHV0Jykge1xuICAgICAgICAgICAgb3B0aW9uLnRleHQgPSBkZXZpY2VJbmZvLmxhYmVsIHx8IGBjYW1lcmEgJHt2aWRlb1NlbGVjdC5sZW5ndGggKyAxfWA7XG4gICAgICAgICAgICB2aWRlb1NlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnU29tZSBvdGhlciBraW5kIG9mIHNvdXJjZS9kZXZpY2U6ICcsIGRldmljZUluZm8pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlbGVjdG9ycy5mb3JFYWNoKChzZWxlY3QsIHNlbGVjdG9ySW5kZXgpID0+IHtcbiAgICAgICAgaWYgKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHNlbGVjdC5jaGlsZE5vZGVzKS5zb21lKG4gPT4gbi52YWx1ZSA9PT0gdmFsdWVzW3NlbGVjdG9ySW5kZXhdKSkge1xuICAgICAgICAgICAgc2VsZWN0LnZhbHVlID0gdmFsdWVzW3NlbGVjdG9ySW5kZXhdO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cblxuXG4vLyBBdHRhY2ggYXVkaW8gb3V0cHV0IGRldmljZSB0byB2aWRlbyBlbGVtZW50IHVzaW5nIGRldmljZS9zaW5rIElELlxuZnVuY3Rpb24gYXR0YWNoU2lua0lkKGVsZW1lbnQsIHNpbmtJZCkge1xuXG4gICAgLy8obXV0ZSBlbGVtZW50LCBmZWVkYmFjayBpZiBmYWxzZSlcbiAgICBlbGVtZW50Lm11dGVkID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2YgZWxlbWVudC5zaW5rSWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0U2lua0lkKHNpbmtJZClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBTdWNjZXNzLCBhdWRpbyBvdXRwdXQgZGV2aWNlIGF0dGFjaGVkOiAke3NpbmtJZH1gKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1NlY3VyaXR5RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBZb3UgbmVlZCB0byB1c2UgSFRUUFMgZm9yIHNlbGVjdGluZyBhdWRpbyBvdXRwdXQgZGV2aWNlOiAke2Vycm9yfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyBKdW1wIGJhY2sgdG8gZmlyc3Qgb3V0cHV0IGRldmljZSBpbiB0aGUgbGlzdCBhcyBpdCdzIHRoZSBkZWZhdWx0LlxuICAgICAgICAgICAgICAgIGF1ZGlvT3V0cHV0U2VsZWN0LnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgb3V0cHV0IGRldmljZSBzZWxlY3Rpb24uJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjaGFuZ2VBdWRpb0Rlc3RpbmF0aW9uKCkge1xuICAgIGNvbnN0IGF1ZGlvRGVzdGluYXRpb24gPSBhdWRpb091dHB1dFNlbGVjdC52YWx1ZTtcblxuXG4gICAgaWYgKG15VmlkZW9TdHJlYW0pIHtcbiAgICAgICAgYXR0YWNoU2lua0lkKHZpZGVvRWxlbWVudCwgYXVkaW9EZXN0aW5hdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXR0YWNoU2lua0lkKGF1ZGlvRWxlbWVudCwgYXVkaW9EZXN0aW5hdGlvbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnb3RTdHJlYW0oc3RyZWFtKSB7XG4gICAgd2luZG93LnN0cmVhbSA9IHN0cmVhbTsgLy8gbWFrZSBzdHJlYW0gYXZhaWxhYmxlIHRvIGNvbnNvbGVcbiAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuXG4gICAgLy9SZWdpc3RlciB0aGUgdmlkZW8gc3RyZWFtIHRvIG15IFN0cmVhbVxuICAgIG15VmlkZW9TdHJlYW0gPSBzdHJlYW07XG5cbiAgICAvLyBSZWZyZXNoIGJ1dHRvbiBsaXN0IGluIGNhc2UgbGFiZWxzIGhhdmUgYmVjb21lIGF2YWlsYWJsZVxuICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICAvL3N0YXJ0IGEgdmlkZW8gd2l0aCBhdWRpbyBjb25uZWN0aW9uIHdpZHRoIGRhdGEgb2YgdXNlclxuICAgIGxldCB2aWRlbyA9IGZhbHNlO1xuICAgIGxldCBhdWRpbyA9IHRydWU7XG5cblxuICAgIC8vc3RhcnQgYXVkaW9cbiAgICBkYXRhID0ge1xuICAgICAgICAnaWQnOiBteUlkLFxuICAgICAgICAndXNlcic6IHVzZXIsXG4gICAgICAgICdyb29tSUQnOiByb29tSURcbiAgICB9XG5cbiAgICBzdGFydCh2aWRlbywgYXVkaW8sIGRhdGEpO1xufVxuXG5cbmZ1bmN0aW9uIGFkZE15QXVkaW8oYXVkaW8sIHN0cmVhbSkge1xuICAgIGF1ZGlvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICBhdWRpby5tdXRlZCA9IHRydWU7XG5cbiAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpID0+IHtcbiAgICAgICAgYXVkaW8ucGxheSgpXG4gICAgfSlcbiAgICBtZWRpYUNvbnRhaW5lci5hcHBlbmQoYXVkaW8pO1xufVxuXG5cbmZ1bmN0aW9uIGFkZE15VmlkZW8odmlkZW8sIHN0cmVhbSkge1xuICAgIHZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICB2aWRlby5tdXRlZCA9IHRydWU7XG5cbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsICgpID0+IHtcbiAgICAgICAgdmlkZW8ucGxheSgpXG4gICAgfSlcbiAgICBtZWRpYUNvbnRhaW5lci5hcHBlbmQodmlkZW8pO1xufVxuXG5cbmZ1bmN0aW9uIGFkZEF1ZGlvKGF1ZGlvLCBzdHJlYW0pIHtcbiAgICBhdWRpby5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKSA9PiB7XG4gICAgICAgIGF1ZGlvLnBsYXkoKVxuICAgIH0pXG4gICAgdmlkZW9HcmlkLmFwcGVuZChhdWRpbyk7XG59XG5cbmZ1bmN0aW9uIGFkZFZpZGVvKHZpZGVvLCBzdHJlYW0pIHtcbiAgICB2aWRlby5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCAoKSA9PiB7XG4gICAgICAgIHZpZGVvLnBsYXkoKVxuICAgIH0pXG4gICAgdmlkZW9HcmlkLmFwcGVuZCh2aWRlbyk7XG59XG5cblxuZnVuY3Rpb24gYWRkVmlkZW9Db250ZW50KGNvbnRhaW5lcklELCB2aWRlbywgc3RyZWFtKSB7XG4gICAgdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgKCkgPT4ge1xuICAgICAgICB2aWRlby5wbGF5KClcbiAgICB9KVxuXG4gICAgbGV0IGNvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJRCk7XG4gICAgaWYgKGNvbnRhaW5lckVsZW1lbnQpIHtcbiAgICAgICAgY29udGFpbmVyRWxlbWVudC5hcHBlbmQodmlkZW8pO1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBzaG93QnlFbGVtZW50SWQoZWxlbWVudElEKSB7XG4gICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElEKTtcbiAgICBpZiAoZWwpIHtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoaWRlQnlFbGVtZW50SWQoZWxlbWVudElEKSB7XG4gICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElEKTtcbiAgICBpZiAoZWwpIHtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnRCeUlEKGlkKSB7XG5cbiAgICBjb25zb2xlLmxvZyhcInJlbW92aW5nIGVsZW1lbnQgaWRcIiwgaWQpO1xuXG4gICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVzZXJNZWRpYSh2aWRlbywgYXVkaW8sIGNvbnN0cmFpbnRzKSB7XG5cbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbigoc3RyZWFtKSA9PiB7XG5cbiAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoXCJteVZpZGVvXCIpO1xuICAgICAgICByZW1vdmVFbGVtZW50QnlJRChcIm15QXVkaW9cIik7XG5cbiAgICAgICAgaWYgKGF1ZGlvID09IHRydWUgJiYgdmlkZW8gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgbXlBdWRpb1N0cmVhbSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vUmVnaXN0ZXIgdGhlIHZpZGVvIHN0cmVhbSB0byBteSBTdHJlYW1cbiAgICAgICAgICAgIG15VmlkZW9TdHJlYW0gPSBzdHJlYW07XG4gICAgICAgICAgICB3aW5kb3cuc3RyZWFtID0gc3RyZWFtOyAvLyBtYWtlIHN0cmVhbSBhdmFpbGFibGUgdG8gY29uc29sZSAgICAgXG4gICAgICAgICAgICAvKioqKioqKlxuICAgICAgICAgICAgICAgIChOT1RFOiBUSElTIFNIT1VMRCBCRSBNVVRFRCA9IFRSVUUpIFxuICAgICAgICAgICAgKioqKioqKi9cblxuICAgICAgICAgICAgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm15VmlkZW9cIik7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQubXV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vdmlkZW9FbGVtZW50Lm11dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGFkZE15VmlkZW8odmlkZW9FbGVtZW50LCBzdHJlYW0pO1xuXG5cbiAgICAgICAgICAgIC8vIGRldGVjdERlc2t0b3BTaGFyZWQoc3RyZWFtKVxuICAgICAgICB9IGVsc2Uge1xuXG5cbiAgICAgICAgICAgIC8vUmVnaXN0ZXIgdGhlIHZpZGVvIHN0cmVhbSB0byBteSBTdHJlYW1cbiAgICAgICAgICAgIG15VmlkZW9TdHJlYW0gPSBudWxsO1xuICAgICAgICAgICAgd2luZG93LnN0cmVhbSA9IHN0cmVhbTsgLy8gbWFrZSBzdHJlYW0gYXZhaWxhYmxlIHRvIGNvbnNvbGUgICAgICAgXG5cbiAgICAgICAgICAgIC8vYWRkIHRvIG15IGF1ZGlvIHN0cmVhbVxuICAgICAgICAgICAgbXlBdWRpb1N0cmVhbSA9IHN0cmVhbTtcblxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInRoaXMgaXMgYSBhdWRpbyBvbmx5XCIpXG5cbiAgICAgICAgICAgIC8qKioqKioqXG4gICAgICAgICAgICAgICAgKE5PVEU6IFRISVMgU0hPVUxEIEJFIE1VVEVEID0gVFJVRSkgXG4gICAgICAgICAgICAqKioqKioqL1xuICAgICAgICAgICAgYXVkaW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm15QXVkaW9cIik7XG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIiwgXCJjb250cm9sc1wiKTtcbiAgICAgICAgICAgIC8vYXVkaW9FbGVtZW50Lm11dGVkID0gZmFsc2U7XG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQubXV0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBhZGRNeUF1ZGlvKGF1ZGlvRWxlbWVudCwgc3RyZWFtKTtcbiAgICAgICAgICAgIC8vIGRldGVjdERlc2t0b3BTaGFyZWQoc3RyZWFtKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xuXG5cbiAgICB9KS50aGVuKGdvdERldmljZXMpLmNhdGNoKChlcnIpID0+IHtcblxuICAgICAgICBpZiAodmlkZW8gPT0gdHJ1ZSAmJiBhdWRpbyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgLy9hbGVydChcIm5vIG1lZGlhIGRldGVjdGVkLCBwbGVhc2UgY29ubmVjdCBhbmQgdHJ5IGFnYWluXCIpXG4gICAgICAgIH1cbiAgICB9KTtcblxuXG59XG5cbmZ1bmN0aW9uIHN0YXJ0KHZpZGVvLCBhdWRpbywgZGF0YSkge1xuXG4gICAgaWYgKHdpbmRvdy5zdHJlYW0pIHtcbiAgICAgICAgd2luZG93LnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGF1ZGlvU291cmNlID0gYXVkaW9JbnB1dFNlbGVjdC52YWx1ZTtcbiAgICBjb25zdCB2aWRlb1NvdXJjZSA9IHZpZGVvU2VsZWN0LnZhbHVlO1xuXG4gICAgaWYgKHZpZGVvID09IHRydWUgJiYgYXVkaW8gPT0gdHJ1ZSkge1xuXG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgdmlkZW86IHsgZGV2aWNlSWQ6IHZpZGVvU291cmNlID8geyBleGFjdDogdmlkZW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImNvbm5lY3QgdmlkZW8gOiBzdGFydFwiKVxuXG4gICAgICAgIGNyZWF0ZVVzZXJNZWRpYSh2aWRlbywgYXVkaW8sIGNvbnN0cmFpbnRzKVxuXG4gICAgfSBlbHNlIGlmICh2aWRlbyA9PSBmYWxzZSAmJiBhdWRpbyA9PSB0cnVlKSB7XG5cbiAgICAgICAgY29uc3QgY29uc3RyYWludHMgPSB7XG4gICAgICAgICAgICBhdWRpbzogeyBkZXZpY2VJZDogYXVkaW9Tb3VyY2UgPyB7IGV4YWN0OiBhdWRpb1NvdXJjZSB9IDogdW5kZWZpbmVkIH0sXG4gICAgICAgICAgICB2aWRlbzogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiY29ubmVjdCBhdWRpbyA6IHN0YXJ0XCIpXG4gICAgICAgIGNyZWF0ZVVzZXJNZWRpYSh2aWRlbywgYXVkaW8sIGNvbnN0cmFpbnRzKVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICAvL2FsZXJ0KFwibm8gbWVkaWEgZGV0ZWN0ZWQsIHBsZWFzZSBjb25uZWN0IGFuZCB0cnkgYWdhaW5cIilcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gcmVzdGFydCgpIHtcblxuICAgIGlmICh3aW5kb3cuc3RyZWFtKSB7XG4gICAgICAgIHdpbmRvdy5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB7XG4gICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGF1ZGlvU291cmNlID0gYXVkaW9JbnB1dFNlbGVjdC52YWx1ZTtcbiAgICBjb25zdCB2aWRlb1NvdXJjZSA9IHZpZGVvU2VsZWN0LnZhbHVlO1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICBhdWRpbzogeyBkZXZpY2VJZDogYXVkaW9Tb3VyY2UgPyB7IGV4YWN0OiBhdWRpb1NvdXJjZSB9IDogdW5kZWZpbmVkIH0sXG4gICAgICAgIHZpZGVvOiB7IGRldmljZUlkOiB2aWRlb1NvdXJjZSA/IHsgZXhhY3Q6IHZpZGVvU291cmNlIH0gOiB1bmRlZmluZWQgfVxuICAgIH07XG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oKHN0cmVhbSkgPT4ge1xuICAgICAgICB3aW5kb3cuc3RyZWFtID0gc3RyZWFtOyAvLyBtYWtlIHN0cmVhbSBhdmFpbGFibGUgdG8gY29uc29sZVxuICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJpIGhhdmUgbXV0ZWQgdGhpc1wiKVxuICAgICAgICAvL3ZpZGVvRWxlbWVudC5tdXRlZCA9IHRydWU7XG5cbiAgICAgICAgLy9SZWdpc3RlciB0aGUgdmlkZW8gc3RyZWFtIHRvIG15IFN0cmVhbVxuICAgICAgICBteVZpZGVvU3RyZWFtID0gc3RyZWFtO1xuXG4gICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgICAnaWQnOiBteUlkLFxuICAgICAgICAgICAgJ3VzZXInOiB1c2VyLFxuICAgICAgICAgICAgJ3Jvb21JRCc6IHJvb21JRCxcbiAgICAgICAgICAgICd2aWRlb1N0cmVhbSc6IG15VmlkZW9TdHJlYW1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2hhbmdlbWVkaWFcIiwgZGF0YSlcblxuXG4gICAgICAgIHNvY2tldC5lbWl0KFwiY2hhbmdlTWVkaWFcIiwgZGF0YSk7XG5cbiAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQobXlJZCk7XG5cblxuICAgIH0pLmNhdGNoKGhhbmRsZUVycm9yKTtcblxufVxuXG5cblxuLy91c2VyIGVuZCBzdG9wIHNoYXJpbmdcbmZ1bmN0aW9uIHN0b3BTaGFyaW5nKCkge1xuICAgIGNvbnNvbGUubG9nKFwic3RvcFNoYXJpbmcoKVwiKVxuXG4gICAgbGV0IHNob3dFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXNzb25TbGlkZVwiKTtcblxuICAgIGlmIChzaG93RWxlbWVudCkge1xuICAgICAgICBzaG93RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG5cbiAgICBjaGVja0FuZFJlbW92ZVNoYXJlZFZpZGVvKCk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrQW5kUmVtb3ZlU2hhcmVkVmlkZW8oKSB7XG4gICAgY29uc3QgcmVtb3ZlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVkVmlkZW9cIik7XG4gICAgaWYgKHJlbW92ZUVsZW1lbnQpIHtcbiAgICAgICAgcmVtb3ZlU2hhcmVkVmlkZW8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcInJlY2hlY2tpbmcgc2hhcmVkIHZpZGVvIGFmdGVyIDEgc2Vjb25kXCIpXG4gICAgICAgIC8vIElmIG5vdCBmb3VuZCwgd2FpdCBmb3IgYSB3aGlsZSBhbmQgdGhlbiBjaGVjayBhZ2FpblxuICAgICAgICAvL2NoZWNraW5nSW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGNoZWNrQW5kUmVtb3ZlU2hhcmVkVmlkZW8sIDEwMDApOyAvLyBXYWl0IGZvciAxIHNlY29uZCAoYWRqdXN0IGFzIG5lZWRlZClcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gcmVtb3ZlU2hhcmVkVmlkZW8oKSB7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlc3NvblNoYXJlZENvbnRhaW5lclwiKTtcblxuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgLy8gU3RvcmUgdGhlIHBhcmVudCBlbGVtZW50IHRvIGluc2VydCB0aGUgbmV3IGNvbnRhaW5lciBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAgICAgICAgY29uc3QgcGFyZW50ID0gY29udGFpbmVyLnBhcmVudE5vZGU7XG4gICAgXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBjb250YWluZXIgZWxlbWVudC5cbiAgICAgICAgY29uc3QgbmV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3Q29udGFpbmVyLmlkID0gXCJsZXNzb25TaGFyZWRDb250YWluZXJcIjtcbiAgICBcbiAgICAgICAgLy8gQWRkIGNvbnRlbnQgb3IgYXR0cmlidXRlcyB0byB0aGUgbmV3IGNvbnRhaW5lciBpZiBuZWVkZWQuXG4gICAgICAgIG5ld0NvbnRhaW5lci50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgXG4gICAgICAgIC8vIFJlcGxhY2UgdGhlIG9sZCBjb250YWluZXIgd2l0aCB0aGUgbmV3IG9uZS5cbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShuZXdDb250YWluZXIsIGNvbnRhaW5lcik7XG4gICAgXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgb2xkIHNoYXJlZCB2aWRlbyBjb250YWluZXIuXG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gZGV0ZWN0RGVza3RvcFNoYXJlZChzdHJlYW0pIHtcbiAgICBwZWVyLm9uKCdjb25uZWN0aW9uJywgZnVuY3Rpb24oY29ubikge1xuICAgICAgICBjb25uLm9uKCdkYXRhJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcmVkU2NyZWVuID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzaGFyZWRTY3JlZW4gPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnNoYXJlZFNjcmVlbiA9PSBmYWxzZSkge1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJkZXRlY3REZXNrdG9wU2hhcmVkIHN0b3BwZWRcIik7XG5cbiAgICAgICAgICAgICAgICBzdG9wU2hhcmluZygpO1xuICAgICAgICAgICAgICAgIHNoYXJlZFNjcmVlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJ0aGUgc3RyZWFtIGRhdGFcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cblxuICAgIHBlZXIub24oJ2Nsb3NlJywgZnVuY3Rpb24oY29ubikge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiY2xvc2VcIilcbiAgICB9KTtcblxuICAgIHBlZXIub24oJ2NhbGwnLCBjYWxsID0+IHtcblxuICAgICAgICBpZiAoc3RyZWFtID09IG51bGwpIHtcblxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImFuc3dlciB0aGUgc3RyZWFtIHdpdGhvdXQgYW55IHN0cmVhbVwiLCBjYWxsKVxuICAgICAgICAgICAgY2FsbC5hbnN3ZXIoKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiYW5zd2VyIHRoZSBzdHJlYW1cIiwgc3RyZWFtKVxuXG4gICAgICAgICAgICBjYWxsLmFuc3dlcihzdHJlYW0pO1xuXG4gICAgICAgICAgICBpZiAoc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoID09IDEgJiYgc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChjYWxsLnBlZXIpO1xuICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicGVlckNhbGxCYWNrVmlkZW9cIik7XG4gICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgYWRkVmlkZW8oY2FsbGVyRWxlbWVudCwgc3RyZWFtKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBlZXJDYWxsQmFja0F1ZGlvXCIpOyAvL2NhbGwgcGVlclxuICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIiwgXCJjb250cm9sc1wiKTtcbiAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGwub24oJ3N0cmVhbScsIHVzZXJTdHJlYW0gPT4ge1xuXG4gICAgICAgICAgICBpZiAoc2hhcmVkU2NyZWVuID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzaGFyZWRWaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgIHNoYXJlZFZpZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInNoYXJlZFZpZGVvXCIpO1xuICAgICAgICAgICAgICAgIHNoYXJlZFZpZC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInVzZXJTdHJlYW1TaGFyZWRWaWRlb1wiKTsgLy9jYWxsIHBlZXJcblxuICAgICAgICAgICAgICAgIC8vdGhlIGxlc3NvbiBzaGFyZWQgY29udGFpbmVyIG11c3QgYmUgb24gdGhlIG1lbWJlciBsZXNzb24gc2xpZGVyIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIGFkZFZpZGVvQ29udGVudCgnbGVzc29uU2hhcmVkQ29udGFpbmVyJywgc2hhcmVkVmlkLCB1c2VyU3RyZWFtKTtcbiAgICAgICAgICAgICAgICAvL2hpZGUgbGVzc29uIFNsaWRlXG4gICAgICAgICAgICAgICAgaGlkZUJ5RWxlbWVudElkKFwibGVzc29uU2xpZGVcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICdpZCc6IG15SWQsXG4gICAgICAgICAgICAgICAgICAgICd1c2VyJzogdXNlcixcbiAgICAgICAgICAgICAgICAgICAgJ3Jvb21JRCc6IHJvb21JRCxcbiAgICAgICAgICAgICAgICAgICAgJ3ZpZGVvU3RyZWFtJzogbWVkaWFDYWxsU3RyZWFtXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiY2hhbmdlTWVkaWFcIiwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhbGwub24oJ2ZpbmlzaCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImNhbGxlZCBmaW5pc2hcIilcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2FsbC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBhbGVydChlcnIpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhbGwub24oXCJjbG9zZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICBzaGFyZWRWaWQucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG5cbiAgICB9KTtcbn07XG5cblxuXG5mdW5jdGlvbiBzaGFyZVNjcmVlbigpIHtcblxuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhKHtcbiAgICAgICAgdmlkZW86IHRydWUsXG4gICAgICAgIGF1ZGlvOiB0cnVlXG4gICAgfSkudGhlbigodXNlclN0cmVhbSkgPT4ge1xuXG4gICAgICAgIHNoYXJlZFNjcmVlbiA9IHVzZXJTdHJlYW07XG5cbiAgICAgICAgLy9AdG9kbzogKGhpZGUgc2xpZGUgdGhlbiBzaG93IHRoZSB1c2VyIHNoYXJlZClcbiAgICAgICAgY29uc3Qgc2hhcmVkVmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgc2hhcmVkVmlkLnNldEF0dHJpYnV0ZShcImlkXCIsIFwic2hhcmVkVmlkZW9cIik7XG4gICAgICAgIHNoYXJlZFZpZC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNoYXJlU2NyZWVuXCIpO1xuICAgICAgICBzaGFyZWRWaWQubXV0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvL3RoZSBsZXNzb24gc2hhcmVkIGNvbnRhaW5lciBtdXN0IGJlIG9uIHRoZSBtZW1iZXIgbGVzc29uIHNsaWRlciBjb21wb25lbnRcbiAgICAgICAgYWRkVmlkZW9Db250ZW50KCdsZXNzb25TaGFyZWRDb250YWluZXInLCBzaGFyZWRWaWQsIHVzZXJTdHJlYW0pO1xuXG4gICAgICAgIC8vaGlkZSBsZXNzb24gU2xpZGVcbiAgICAgICAgaGlkZUJ5RWxlbWVudElkKFwibGVzc29uU2xpZGVcIik7XG5cbiAgICAgICAgLy9Db25uZWN0IHRvIHBlZXJzXG4gICAgICAgIE9iamVjdC5rZXlzKHBlZXJDb25uZWN0aW9ucykuZm9yRWFjaChmdW5jdGlvbihwZWVySUQpIHtcbiAgICAgICAgICAgIC8vY29ubmVjdCBhbmQgc2VuZFxuICAgICAgICAgICAgdmFyIGNvbm4gPSBwZWVyLmNvbm5lY3QocGVlcklEKTtcbiAgICAgICAgICAgIGNvbm4ub24oJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAoTkVXKSBzaGFyZSBzY3JlZW4gZGF0YVxuICAgICAgICAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiBwZWVySUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2hhcmVkU2NyZWVuJzogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vYWRkIHRvIHRoZSBjb25uZWN0aW9uLCBhbmQgc2VuZCB0aGVuIGNhbGxcbiAgICAgICAgICAgICAgICBjb25uLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgbGV0IHNoYXJpbmdTY3JlZW4gPSBwZWVyLmNhbGwocGVlcklELCBzaGFyZWRTY3JlZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy9UaGUgc2NyZWVuIHJlY29yZCBpcyBzdG9wcGVkIGJ5IG15c2VsZlxuICAgICAgICBzaGFyZWRTY3JlZW4uZ2V0VmlkZW9UcmFja3MoKVswXS5vbmVuZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzaG93QnlFbGVtZW50SWQoXCJsZXNzb25TbGlkZVwiKVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZWRWaWRlb1wiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIC8vc2VuZCB0aGlzIHNoYXJlZCBzY3JlZW4gZmFsc2UgdG8gc3RvcCBwZWVyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhwZWVyQ29ubmVjdGlvbnMpLmZvckVhY2goZnVuY3Rpb24ocGVlcklEKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbm4gPSBwZWVyLmNvbm5lY3QocGVlcklEKTtcbiAgICAgICAgICAgICAgICBjb25uLm9uKCdvcGVuJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAoU1RPUCBTSEFSRSkgc2hhcmUgc2NyZWVuIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiBwZWVySUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2hhcmVkU2NyZWVuJzogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25uLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG5cblxuXG5cbiAgICAgICAgLy9zb2NrZXQuZW1pdChcInVzZXJTaGFyZVwiLCByb29tSUQsIHNoYXJlZFNjcmVlbik7XG5cbiAgICB9KTtcbn1cblxuYXVkaW9JbnB1dFNlbGVjdC5vbmNoYW5nZSA9IHJlc3RhcnQ7XG5hdWRpb091dHB1dFNlbGVjdC5vbmNoYW5nZSA9IGNoYW5nZUF1ZGlvRGVzdGluYXRpb247XG52aWRlb1NlbGVjdC5vbmNoYW5nZSA9IHJlc3RhcnQ7XG5cblxuXG5cbnBlZXIub24oJ2Nvbm5lY3Rpb24nLCBmdW5jdGlvbihjb25uKSB7XG5cbiAgICBjb25uLm9uKCdkYXRhJywgZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2hhcmUgY29ubmVjdGlvbjogcGVlciBjb25uZWN0ZWRcIiwgZGF0YSlcblxuICAgICAgICBpZiAoZGF0YS5zaGFyZWRTY3JlZW4gPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICBzaGFyZWRTY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5zaGFyZWRTY3JlZW4gPT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0aW9uIHNoYXJlZCBzdG9wcGVkXCIpO1xuICAgICAgICAgICAgc3RvcFNoYXJpbmcoKTtcbiAgICAgICAgICAgIHNoYXJlZFNjcmVlbiA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBhbGVydChcInRoZSBzdHJlYW0gZGF0YVwiKVxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIGNvbm4ub24oJ2Nsb3NlJywgKGNvbm4pID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJzaGFyZWQgdmlkZW8gY29ubmVjdGlvbiBvZiBwZWVyIGhhcyBiZWVuIGNsb3NlZFwiLCBjb25uKVxuXG4gICAgICAgIGNvbnN0IHNoYXJlZFZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NoYXJlZFZpZGVvJyk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHZpZGVvIGVsZW1lbnQgZXhpc3RzIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlbW92ZSBpdFxuICAgICAgICBpZiAoc2hhcmVkVmlkZW8pIHtcbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIHZpZGVvIGVsZW1lbnQgZnJvbSB0aGUgRE9NXG4gICAgICAgICAgc2hhcmVkVmlkZW8ucmVtb3ZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0VsZW1lbnQgd2l0aCBpZCBcInNoYXJlZFZpZGVvXCIgbm90IGZvdW5kLicpO1xuICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgfSk7XG5cbn0pO1xuXG5wZWVyLm9uKCdvcGVuJywgKGlkKSA9PiB7XG5cbiAgICAvL2NvbnNvbGUubG9nKFwibXkgcGVlciBpZFwiICsgaWQpXG4gICAgLy9jb25zb2xlLmxvZyhcIm15IHVzZXIgXCIsIHVzZXIpXG4gICAgLy9jb25zb2xlLmxvZyhcIm15IHJvb20gaWQgXCIsIHJvb21JRClcblxuICAgIG15SWQgPSBpZDtcblxuICAgIGRhdGEgPSB7XG4gICAgICAgICdpZCc6IGlkLFxuICAgICAgICAndXNlcic6IHVzZXIsXG4gICAgICAgICdyb29tSUQnOiByb29tSURcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcIm5ld3VzZXJcIiwgZGF0YSlcblxuICAgIHNvY2tldC5lbWl0KFwibmV3VXNlclwiLCBkYXRhKTtcblxuICAgIC8vc3RhcnQgYSB2aWRlbyB3aXRoIGF1ZGlvIGNvbm5lY3Rpb24gd2lkdGggZGF0YSBvZiB1c2VyXG4gICAgbGV0IHZpZGVvID0gdHJ1ZTtcbiAgICBsZXQgYXVkaW8gPSB0cnVlO1xuXG4gICAgLy9zdGFydCB0aGUgbXkgb3duIHZpZGVvIGNhbWVyYVxuXG4gICAgc3RhcnQodmlkZW8sIGF1ZGlvLCBkYXRhKVxuXG59KTtcblxuXG5cbnBlZXIub24oJ2NhbGwnLCBjYWxsID0+IHtcblxuICAgIGxldCBjdHIgPSAwO1xuXG4gICAgLy9jb25zb2xlLmxvZyhcIlBFRVI6OiBDQUxMSU5HLi4uIGZvciBhIHZpZGVvIHN0cmVhbSBvciBhdWRpbyBzdHJlYW0gLi4uXCIpO1xuXG4gICAgY29uc3QgYXVkaW9Tb3VyY2UgPSBhdWRpb0lucHV0U2VsZWN0LnZhbHVlO1xuICAgIGNvbnN0IHZpZGVvU291cmNlID0gdmlkZW9TZWxlY3QudmFsdWU7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB7XG4gICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgdmlkZW86IHsgZGV2aWNlSWQ6IHZpZGVvU291cmNlID8geyBleGFjdDogdmlkZW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9XG4gICAgfTtcblxuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKChzdHJlYW0pID0+IHtcblxuICAgICAgICB1c2VyQ2FsbFN0cmVhbSA9IHN0cmVhbTtcblxuICAgICAgICBpZiAoc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoID09IDEgJiYgc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIC8vYWxlcnQoXCJzdHJlYW0gZnJvbSBzZW5kZXIgaXMgYSB2aWRlbyAxXCIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL2FsZXJ0KFwic3RyZWFtIGZyb20gc2VuZGVyIGlzIGEgYXVkaW8gMlwiKVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbC5hbnN3ZXIoc3RyZWFtKTtcblxuICAgICAgICBjYWxsLm9uKCdzdHJlYW0nLCAodXNlclN0cmVhbSkgPT4ge1xuXG4gICAgICAgICAgICByZWNpZXZlckNhbGxTdHJlYW0gPSB1c2VyU3RyZWFtO1xuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25zW2NhbGwucGVlcl0gPSBjYWxsO1xuXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicmVjaWV2ZSB2aWRlbyBmcm9tIGluaXRpYXRvciBcIiwgY2FsbCk7XG5cbiAgICAgICAgICAgIGlmIChjdHIgPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNoYXJlZFNjcmVlbiA9PSB0cnVlKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyU3RyZWFtLCB1c2VyLCBjYWxsLnBlZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBsZXNzb25TaGFyZWRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlc3NvblNoYXJlZENvbnRhaW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlZFZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZWRWaWRlb1wiKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGVzc29uU2hhcmVkQ29udGFpbmVyICYmIHNoYXJlZFZpZGVvICYmIGxlc3NvblNoYXJlZENvbnRhaW5lci5jb250YWlucyhzaGFyZWRWaWRlbykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIFwic2hhcmVkVmlkZW9cIiBlbGVtZW50IGlzIGEgY2hpbGQgb2YgXCJsZXNzb25TaGFyZWRDb250YWluZXJcIlxuICAgICAgICAgICAgICAgICAgICAvLyBJdCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICAvLyBZb3UgY2FuIGFkZCBhZGRpdGlvbmFsIGNvZGUgaGVyZSBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVkVmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlZFZpZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInNoYXJlZFZpZGVvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzVG9BZGQgPSBcImNhbGxTaGFyZWRWaWRlby1cIiArIHVzZXJTdHJlYW0uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZWRWaWQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgY2xhc3NUb0FkZCk7ICBcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVmlkZW9Db250ZW50KCdsZXNzb25TaGFyZWRDb250YWluZXInLCBzaGFyZWRWaWQsIHVzZXJTdHJlYW0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIaWRlIGxlc3NvbiBTbGlkZVxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUJ5RWxlbWVudElkKFwibGVzc29uU2xpZGVcIik7ICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICBcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiB1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwicmVjaWV2ZXIgZnJvbSBzZW5kZXIgaXMgYSB2aWRlbyA1IDo6IChwZWVyKVwiICsgY2FsbC5wZWVyKVxuXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJwZWVyQ2FsbEJhY2tWaWRlb1wiKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwicmVjaWV2ZXIgZnJvbSBzZW5kZXIgaXMgYSBhdWRpbyA2IDo6IChwZWVyKVwiICsgY2FsbC5wZWVyKVxuXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJwZWVyQ2FsbEJhY2tBdWRpb1wiKTsgLy9jYWxsIHBlZXJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHIrK1xuICAgICAgICB9KTtcblxuICAgICAgICBjYWxsLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGwucGVlcik7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwidXNlciBkaXNjb25lY3RlZFwiKVxuICAgICAgICB9KTtcblxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJyZWNpZXZlIGF1ZGlvIGZyb20gaW5pdGlhdG9yXCIsIGNhbGwpO1xuXG5cblxuICAgICAgICBjb25zdCBhdWRpb1NvdXJjZSA9IGF1ZGlvSW5wdXRTZWxlY3QudmFsdWU7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgICAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgdmlkZW86IGZhbHNlLFxuICAgICAgICB9O1xuXG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKChzdHJlYW0pID0+IHtcblxuICAgICAgICAgICAgdXNlckNhbGxTdHJlYW0gPSBzdHJlYW07XG4gICAgICAgICAgICBpZiAoc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoID09IDEgJiYgc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAvL2FsZXJ0KFwic3RyZWFtIGZyb20gc2VuZGVyIGlzIGEgdmlkZW8gM1wiKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL2FsZXJ0KFwic3RyZWFtIGZyb20gc2VuZGVyIGlzIGEgYXVkaW8gNFwiKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWxsLmFuc3dlcihzdHJlYW0pO1xuXG4gICAgICAgICAgICBjYWxsLm9uKCdzdHJlYW0nLCAodXNlclN0cmVhbSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgcmVjaWV2ZXJDYWxsU3RyZWFtID0gdXNlclN0cmVhbTtcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbnNbY2FsbC5wZWVyXSA9IGNhbGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3RyID09IDApIHtcblxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGFyZWRTY3JlZW4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVkVmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlZFZpZC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInNoYXJlZFZpZGVvXzFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZWRWaWQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzdHJlYW1fc2hhcmVkX3ZpZGVvXzFcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlIGxlc3NvbiBzaGFyZWQgY29udGFpbmVyIG11c3QgYmUgb24gdGhlIG1lbWJlciBsZXNzb24gc2xpZGVyIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVmlkZW9Db250ZW50KCdsZXNzb25TaGFyZWRDb250YWluZXInLCBzaGFyZWRWaWQsIHVzZXJTdHJlYW0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2hpZGUgbGVzc29uIFNsaWRlXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlQnlFbGVtZW50SWQoXCJsZXNzb25TbGlkZVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiB1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChcInJlY2lldmVyIGZyb20gc2VuZGVyIGlzIGEgdmlkZW8gNyAgOjogKHBlZXIpIFwiICsgY2FsbC5wZWVyKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChjYWxsLnBlZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicGVlckNhbGxCYWNrVmlkZW9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwicmVjaWV2ZXIgZnJvbSBzZW5kZXIgaXMgYSBhdWRpbyA4IDo6IChwZWVyKVwiICsgY2FsbC5wZWVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoY2FsbC5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBjYWxsLnBlZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInBlZXJDYWxsQmFja0F1ZGlvXCIpOyAvL2NhbGwgcGVlclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdHIrK1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhbGwub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGNhbGwucGVlcik7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInVzZXIgZGlzY29uZWN0ZWRcIilcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgLy9hbGVydChcIkkgY2FuJ3Qgc2VuZCBhbnkgdmlkZW8gciBhdWRpbyB0byB5b3VyIGNvbnRhY3QsIHBsZWFzZSBjaGVjayBtZWRpYVwiKVxuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuXG5wZWVyLm9uKCdjbG9zZScsIChpZCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5yZW1vdmUoKTtcbn0pO1xuXG5cbnNvY2tldC5vbigndXNlckpvaW5lZCcsIChkYXRhKSA9PiB7XG5cblxuICAgIHBlZXJDb25uZWN0aW9uc1tkYXRhLmlkXSA9IGRhdGE7XG5cbiAgICBjb25zb2xlLmxvZyhcInVzZXIgam9pbmVkIDo6OiBjYWxsaW5nIGluaXRpYXRvciB3aXRoIGp1c3QgYXVkaW8gYW5kIHZpZGVvXCIsIGRhdGEuaWQpO1xuXG4gICAgY29uc3QgYXVkaW9Tb3VyY2UgPSBhdWRpb0lucHV0U2VsZWN0LnZhbHVlO1xuICAgIGNvbnN0IHZpZGVvU291cmNlID0gdmlkZW9TZWxlY3QudmFsdWU7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB7XG4gICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgdmlkZW86IHsgZGV2aWNlSWQ6IHZpZGVvU291cmNlID8geyBleGFjdDogdmlkZW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9XG4gICAgfTtcblxuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKChtZWRpYVN0cmVhbSkgPT4ge1xuXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ1c2VyIGpvaW5lZCA6OjogY2FsbGluZyBpbml0aWF0b3Igd2l0aCBqdXN0IGF1ZGlvIGFuZCB2aWRlb1wiLCBkYXRhLmlkKTtcblxuICAgICAgICB1c2VySm9pbmVkU3RyZWFtID0gbWVkaWFTdHJlYW07XG5cbiAgICAgICAgY2FsbGJhY2sgPSBwZWVyLmNhbGwoZGF0YS5pZCwgbWVkaWFTdHJlYW0pO1xuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuXG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbnNbY2FsbGJhY2sucGVlcl0gPSBjYWxsYmFjaztcblxuICAgICAgICAgICAgbGV0IGN0ciA9IDA7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrLm9uKCdzdHJlYW0nLCAodXNlclN0cmVhbSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKGN0ciA9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPT0gMSAmJiB1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChkYXRhLmlkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInVzZXJfam9pbmVkX3BlZXJfY2FsbF9iYWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRWaWRlbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChkYXRhLmlkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInVzZXJfam9pbmVkX3BlZXJfY2FsbF9iYWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBdWRpbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3RyKys7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FsbGJhY2sub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH1cblxuICAgICAgICBjaGVja1ZpZGVvRGlzYWJsZWQoKTtcbiAgICAgICAgY2hlY2tBdWRpb011dGVkKCk7XG5cbiAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcblxuICAgICAgICAvL0kgaGF2ZSBvbmx5IGF1ZGlvLCBzZW5kIHRvIHRoZSBhdWRpbyB0byBteSBwZWVyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ1c2VyIGpvaW5lZDo6IEkgaGF2ZSBvbmx5IGF1ZGlvLCBzZW5kIHRvIHRoZSBhdWRpbyB0byBteSBwZWVyXCIsIGRhdGEuaWQpO1xuXG5cbiAgICAgICAgY29uc3QgYXVkaW9Db25zdHJhaW50cyA9IHtcbiAgICAgICAgICAgIGF1ZGlvOiB7IGRldmljZUlkOiBhdWRpb1NvdXJjZSA/IHsgZXhhY3Q6IGF1ZGlvU291cmNlIH0gOiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgIHZpZGVvOiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShhdWRpb0NvbnN0cmFpbnRzKS50aGVuKChtZWRpYUNhbGxTdHJlYW0pID0+IHtcbiAgICAgICAgICAgIHVzZXJKb2luZWRTdHJlYW0gPSBtZWRpYUNhbGxTdHJlYW07XG5cblxuICAgICAgICAgICAgaWYgKG15VmlkZW9TdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IHBlZXIuY2FsbChkYXRhLmlkLCBtZWRpYUNhbGxTdHJlYW0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAnaWQnOiBteUlkLFxuICAgICAgICAgICAgICAgICAgICAndXNlcic6IHVzZXIsXG4gICAgICAgICAgICAgICAgICAgICdyb29tSUQnOiByb29tSUQsXG4gICAgICAgICAgICAgICAgICAgICd2aWRlb1N0cmVhbSc6IG1lZGlhQ2FsbFN0cmVhbVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiY2hhbmdlTWVkaWFcIiwgZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAvL25ldmVyIG1pbmQgY2FsbGJhY2ssIGkgd2lsbCBjYWxsIGNoYW5nZSBtZWRpYVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb25zW2NhbGxiYWNrLnBlZXJdID0gY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgbGV0IGN0ciA9IDA7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdHIgPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlclN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCA9PSAxICYmIHVzZXJTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPT0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9AbmV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidXNlcl9qb2luZWRfcGVlcl9jYWxsX2JhY2tcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInVzZXJfam9pbmVkX3BlZXJfY2FsbF9iYWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIiwgXCJjb250cm9sc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXVkaW8oY2FsbGVyRWxlbWVudCwgdXNlclN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3RyKys7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjay5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbnNbZGF0YS5pZF0gPSBjYWxsYmFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG5cbiAgICAgICAgICAgIC8vYWxlcnQoXCJQbGVhc2UgY29ubmVjdCBhdWRpb2lucHV0IGRldmljZSBhbmQgdHJ5IGFnYWluXCIpO1xuICAgICAgICAgICAgLy8gLy9jb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2hlY2tWaWRlb0Rpc2FibGVkKCk7XG4gICAgICAgIGNoZWNrQXVkaW9NdXRlZCgpO1xuXG4gICAgfSk7XG5cbn0pO1xuXG5cbnNvY2tldC5vbignbWVkaWFDaGFuZ2VkJywgKGRhdGEpID0+IHtcbiAgICBjb25zdCBhdWRpb1NvdXJjZSA9IGF1ZGlvSW5wdXRTZWxlY3QudmFsdWU7XG4gICAgY29uc3QgdmlkZW9Tb3VyY2UgPSB2aWRlb1NlbGVjdC52YWx1ZTtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHtcbiAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICB2aWRlbzogeyBkZXZpY2VJZDogdmlkZW9Tb3VyY2UgPyB7IGV4YWN0OiB2aWRlb1NvdXJjZSB9IDogdW5kZWZpbmVkIH1cbiAgICB9O1xuXG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oKHVzZXJTdHJlYW0pID0+IHtcblxuICAgICAgICAvL2NvbnNvbGUubG9nKFwibWVkaWFDaGFuZ2VkOiBpbml0aWF0b3IgKHJlY2lldmVkKVwiKVxuXG4gICAgICAgIGNhbGxiYWNrID0gcGVlci5jYWxsKGRhdGEuaWQsIHVzZXJTdHJlYW0pO1xuXG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuXG4gICAgICAgICAgICBsZXQgY3RyID0gMDtcblxuICAgICAgICAgICAgY2FsbGJhY2sub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3RyID09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicmVjaXBpZW50IGNhbGxiYWNrIDogdmlkZW8gc3RyZWFtXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoID09IDEgJiYgdXNlclN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCA9PSAxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnRCeUlEKGRhdGEuaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgY2FsbGJhY2sucGVlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicmVwaXBpZW50X3ZpZGVvX2NoYW5nZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicmVwaXBpZW50X2F1ZGlvX2NoYW5nZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsIFwiY29udHJvbHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50Lm11dGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBdWRpbyhjYWxsZXJFbGVtZW50LCB1c2VyU3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHIrKztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYWxsYmFjay5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FsbGJhY2sub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbnNbZGF0YS5pZF0gPSBjYWxsYmFjaztcbiAgICAgICAgfVxuXG5cbiAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcblxuICAgICAgICBjb25zdCBhdWRpb0NvbnN0cmFpbnRzID0ge1xuICAgICAgICAgICAgYXVkaW86IHsgZGV2aWNlSWQ6IGF1ZGlvU291cmNlID8geyBleGFjdDogYXVkaW9Tb3VyY2UgfSA6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgdmlkZW86IGZhbHNlLFxuICAgICAgICB9O1xuXG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGF1ZGlvQ29uc3RyYWludHMpLnRoZW4oKHVzZXJTdHJlYW0pID0+IHtcblxuICAgICAgICAgICAgdXNlckNhbGxTdHJlYW0gPSB1c2VyU3RyZWFtO1xuXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiaW5pdGlhdG9yIFNFTlQgQU5EIEFVRElPXCIpXG5cbiAgICAgICAgICAgIGNhbGxiYWNrID0gcGVlci5jYWxsKGRhdGEuaWQsIHVzZXJTdHJlYW0pO1xuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcblxuICAgICAgICAgICAgICAgIGxldCBjdHIgPSAwO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sub24oJ3N0cmVhbScsICh1c2VyU3RyZWFtKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVjaWV2ZXJDYWxsU3RyZWFtID0gdXNlclN0cmVhbTtcblxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwidGhpcyBpcyBmb3IgdGhlIGF1ZGlvLCBzdHJlYW0gb2YgdGhlIGluaXRpYXRvclwiKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3RyID09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh1c2VyU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh1c2VyU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlclN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCA9PSAxICYmIHVzZXJTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPT0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInVzZXIgc2VudCBhIHZpZGVvXCIpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50QnlJRChjYWxsYmFjay5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIGNhbGxiYWNrLnBlZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYWxsZXJCYWNrVmlkZW9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ1c2VyIHNlbnQgYSBBVURJT1wiKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoY2FsbGJhY2sucGVlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBjYWxsYmFjay5wZWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FsbGJhY2tBdWRpb19tZWRpYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsIFwiY29udHJvbHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVyRWxlbWVudC5tdXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEF1ZGlvKGNhbGxlckVsZW1lbnQsIHVzZXJTdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICBjdHIrKztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudEJ5SUQoZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjay5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uc1tkYXRhLmlkXSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG5cbiAgICAgICAgICAgIC8vYWxlcnQoXCJhdWRpbyBvbmx5XCIpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcbn0pO1xuXG5cbnNvY2tldC5vbignV0VCUlRDX1VTRVJfTEVBVkVfU0VTU0lPTicsIHVzZXIgPT4ge1xuXG4gICAgY29uc29sZS5sb2coXCJ3ZWJSVEMgdXNlckRpc2Nvbm5lY3RlZFwiLCB1c2VyKTtcblxuICAgIHJlbW92ZUVsZW1lbnRCeUlEKHVzZXIucGVlcmlkKTtcbiAgICB0cnkge1xuICAgICAgICBwZWVyQ29ubmVjdGlvbnNbdXNlci5wZWVyaWRdLmNsb3NlKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJlcnJvciBkaXNjb25uZWN0IDogXCIsIGVycilcbiAgICB9XG59KTtcblxuXG5mdW5jdGlvbiBjaGVja0F1ZGlvTXV0ZWQoKSB7XG4gICAgY29uc3QgbXV0ZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtdm9sdW1lLW11dGUnKTtcblxuICAgIC8vIENoZWNrIGlmIHRoZSAnZGlzcGxheScgcHJvcGVydHkgaXMgc2V0IHRvICdub25lJ1xuICAgIGlmIChtdXRlSWNvbi5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpIHsgICAgICAgXG4gICAgICAgIC8vIFRoZSBlbGVtZW50IHdpdGggY2xhc3MgJ2ZhLXZvbHVtZS1tdXRlJyBpcyBub3QgaGlkZGVuXG4gICAgICAgIGNvbnNvbGUubG9nKCdmYS12b2x1bWUtbXV0ZSBpcyB2aXNpYmxlLCB3ZSB3aWxsIG11dGUgbWljJyk7XG4gICAgICAgIG11dGVNaWMoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG11dGVNaWMoKSB7XG4gIHVzZXJKb2luZWRTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgIHRyYWNrLmVuYWJsZWQgPSAhdHJhY2suZW5hYmxlZDtcbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gdG9nZ2xlTWljKCkge1xuICAgIGlmICh1c2VySm9pbmVkU3RyZWFtICE9IG51bGwpIHtcbiAgICAgICAgdXNlckpvaW5lZFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgICAgICB0cmFjay5lbmFibGVkID0gIXRyYWNrLmVuYWJsZWQ7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRyYWNrKTtcblxuICAgICAgICAgICAgaWYgKHRyYWNrLmVuYWJsZWQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICQoJyN0b2dnbGVBdWRpbyAuZmEtdm9sdW1lLXVwJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJyN0b2dnbGVBdWRpbyAuZmEtdm9sdW1lLW11dGUnKS5oaWRlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyN0b2dnbGVBdWRpbyAuZmEtdm9sdW1lLXVwJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJyN0b2dnbGVBdWRpbyAuZmEtdm9sdW1lLW11dGUnKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgaWYgKHVzZXJDYWxsU3RyZWFtICE9IG51bGwpIHtcbiAgICAgICAgdXNlckNhbGxTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgICAgdHJhY2suZW5hYmxlZCA9ICF0cmFjay5lbmFibGVkO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0cmFjayk7XG5cbiAgICAgICAgICAgIGlmICh0cmFjay5lbmFibGVkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAkKCcjdG9nZ2xlQXVkaW8gLmZhLXZvbHVtZS11cCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjdG9nZ2xlQXVkaW8gLmZhLXZvbHVtZS1tdXRlJykuaGlkZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcjdG9nZ2xlQXVkaW8gLmZhLXZvbHVtZS11cCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcjdG9nZ2xlQXVkaW8gLmZhLXZvbHVtZS1tdXRlJykuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG5mdW5jdGlvbiBjaGVja1ZpZGVvRGlzYWJsZWQoKSB7XG4gICAgY29uc3QgdmlkZW9JY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLXZpZGVvLXNsYXNoJyk7ICAgIFxuICAgIGlmICh2aWRlb0ljb24uc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnKSB7ICAgICAgICAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCd2aWRlbyBzbGFzaCBpcyB2aXNpYmxlLCB3ZSB3aWxsIGRpc2FibGUgdmlkZW8nKTtcbiAgICAgICAgZGlzYWJsZVZpZGVvKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNhYmxlVmlkZW8oKSB7XG4gICAgdXNlckpvaW5lZFN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICB0cmFjay5lbmFibGVkID0gIXRyYWNrLmVuYWJsZWQ7XG4gICAgfSk7XG4gIH1cblxuICBcbmZ1bmN0aW9uIHRvZ2dsZUNhbWVyYSgpIHtcbiAgICBpZiAodXNlckpvaW5lZFN0cmVhbSAhPSBudWxsKSB7XG4gICAgICAgIHVzZXJKb2luZWRTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgICAgdHJhY2suZW5hYmxlZCA9ICF0cmFjay5lbmFibGVkO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0cmFjayk7XG5cbiAgICAgICAgICAgIGlmICh0cmFjay5lbmFibGVkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAkKCcjdG9nZ2xlQ2FtZXJhIC5mYS12aWRlbycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjdG9nZ2xlQ2FtZXJhIC5mYS12aWRlby1zbGFzaCcpLmhpZGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnI3RvZ2dsZUNhbWVyYSAuZmEtdmlkZW8nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnI3RvZ2dsZUNhbWVyYSAuZmEtdmlkZW8tc2xhc2gnKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgaWYgKHVzZXJDYWxsU3RyZWFtICE9IG51bGwpIHtcbiAgICAgICAgdXNlckNhbGxTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgICAgdHJhY2suZW5hYmxlZCA9ICF0cmFjay5lbmFibGVkO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0cmFjayk7XG5cbiAgICAgICAgICAgIGlmICh0cmFjay5lbmFibGVkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAkKCcjdG9nZ2xlQ2FtZXJhIC5mYS12aWRlbycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjdG9nZ2xlQ2FtZXJhIC5mYS12aWRlby1zbGFzaCcpLmhpZGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnI3RvZ2dsZUNhbWVyYSAuZmEtdmlkZW8nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnI3RvZ2dsZUNhbWVyYSAuZmEtdmlkZW8tc2xhc2gnKS5zaG93KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICB9XG59XG5cbmxldCBzaGFyZVNjcmVlbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuU2hhcmVTY3JlZW5cIilcblxuaWYgKHNoYXJlU2NyZWVuQnRuKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5TaGFyZVNjcmVlblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNoYXJlU2NyZWVuKCk7XG4gICAgfSk7XG59XG5cblxubGV0IHRvZ2dsZUNhbWVyYUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9nZ2xlQ2FtZXJhXCIpO1xuXG5pZiAodG9nZ2xlQ2FtZXJhQnRuKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2dnbGVDYW1lcmFcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB0b2dnbGVDYW1lcmEoKVxuICAgIH0pO1xufVxuXG5sZXQgdG9nZ2xlQXVkaW9CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvZ2dsZUF1ZGlvXCIpXG5cbmlmICh0b2dnbGVBdWRpb0J0bikge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9nZ2xlQXVkaW9cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB0b2dnbGVNaWMoKTtcbiAgICB9KTtcbn1cblxuLyoqKioqKioqKioqKlZPTFVNRSBDT05UUk9MKioqKioqKioqKioqKioqICovXG5mdW5jdGlvbiBzZXRWb2x1bWUodm9sdW1lKSB7XG4gICAgbXlWaWRlb1N0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgICB0cmFjay5hcHBseUNvbnN0cmFpbnRzKHsgdm9sdW1lOiB2b2x1bWUgfSk7XG4gICAgfSk7XG59XG5cblxuXG5jb25zdCB2b2x1bWVDb250cm9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZvbHVtZS1jb250cm9sJyk7XG5pZiAodm9sdW1lQ29udHJvbCkge1xuICAgIHZvbHVtZUNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHNldFZvbHVtZSh2b2x1bWVDb250cm9sLnZhbHVlKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGVzdHJveVZpZGVvU3RlYW0obWVkaWFTdHJlYW0pIHtcbiAgICBtZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGVzdHJveUF1ZGlvU3RyZWFtKGF1ZGlvU3RyZWFtKSB7XG4gICAgYXVkaW9TdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgfSk7XG59XG5cbi8qKioqKioqKioqKiogRU5EIFNFU1NJT04gKioqKioqKioqKioqKioqICovXG5mdW5jdGlvbiBkZXN0cm95VXNlck1lZGlhQ29udGFpbmVyKCkge1xuICAgICQoJy5yaWdodC1maXhlZCcpLnJlbW92ZSgpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBkZXN0cm95VXNlck1lZGlhKCkge1xuICAgIE9iamVjdC5rZXlzKHBlZXJDb25uZWN0aW9ucykuZm9yRWFjaChmdW5jdGlvbihwZWVySUQpIHtcbiAgICAgICAgcGVlckNvbm5lY3Rpb25zW3BlZXJJRF0uY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIGlmIChteVZpZGVvU3RyZWFtICE9IG51bGwpIHtcbiAgICAgICAgZGVzdHJveVZpZGVvU3RlYW0obXlWaWRlb1N0cmVhbSk7XG4gICAgICAgIGRlc3Ryb3lBdWRpb1N0cmVhbShteVZpZGVvU3RyZWFtKTtcbiAgICB9XG5cbiAgICBpZiAobXlBdWRpb1N0cmVhbSAhPSBudWxsKSB7XG4gICAgICAgIGRlc3Ryb3lWaWRlb1N0ZWFtKG15QXVkaW9TdHJlYW0pO1xuICAgICAgICBkZXN0cm95QXVkaW9TdHJlYW0obXlBdWRpb1N0cmVhbSk7XG4gICAgfVxuXG4gICAgaWYgKHVzZXJKb2luZWRTdHJlYW0gIT0gbnVsbCkge1xuICAgICAgICBkZXN0cm95VmlkZW9TdGVhbSh1c2VySm9pbmVkU3RyZWFtKTtcbiAgICAgICAgZGVzdHJveUF1ZGlvU3RyZWFtKHVzZXJKb2luZWRTdHJlYW0pO1xuICAgIH1cblxuICAgIGlmICh1c2VyQ2FsbFN0cmVhbSAhPSBudWxsKSB7XG4gICAgICAgIGRlc3Ryb3lWaWRlb1N0ZWFtKHVzZXJDYWxsU3RyZWFtKTtcbiAgICAgICAgZGVzdHJveUF1ZGlvU3RyZWFtKHVzZXJDYWxsU3RyZWFtKTtcbiAgICB9XG5cbiAgICBpZiAocmVjaWV2ZXJDYWxsU3RyZWFtICE9IG51bGwpIHtcbiAgICAgICAgZGVzdHJveVZpZGVvU3RlYW0ocmVjaWV2ZXJDYWxsU3RyZWFtKTtcbiAgICAgICAgZGVzdHJveUF1ZGlvU3RyZWFtKHJlY2lldmVyQ2FsbFN0cmVhbSk7XG4gICAgfVxuXG4gICAgZGVzdHJveVVzZXJNZWRpYUNvbnRhaW5lcigpO1xufVxuXG5jb25zdCBkZXN0cm95U2Vzc2lvbk1lZGlhQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc3Ryb3ktc2Vzc2lvbi1tZWRpYScpO1xuXG5pZiAoZGVzdHJveVNlc3Npb25NZWRpYUJ0bikge1xuICAgIGRlc3Ryb3lTZXNzaW9uTWVkaWFCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGRlc3Ryb3lVc2VyTWVkaWEoKTtcbiAgICB9KTtcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/webRTC.js\n");

/***/ }),

/***/ 7:
/*!**************************************!*\
  !*** multi ./resources/js/webRTC.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /var/www/html/esi_development/resources/js/webRTC.js */"./resources/js/webRTC.js");


/***/ })

/******/ });